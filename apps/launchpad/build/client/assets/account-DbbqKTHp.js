import{a as u,p as e,y as I,x as R,w as T}from"./chunk-NL6KNZEE-BfjKGAAH.js";import{bI as B,bE as V,aL as H,aH as S,bG as m}from"./Toaster-DVn7MaYc.js";import{B as w}from"./Button-CBsgoVWp.js";import{f as h,N as A}from"./NetworkIcon-BlRroYYC.js";import{C as b}from"./Card-a6cbrX_q.js";import{G as D}from"./iconBase-BBj7n7DN.js";import{B as z}from"./BigInt-DZb4M8gR.js";import{H as a}from"./heading-DZ0Lsmhv.js";import{o as E}from"./omit-QLD0Eizt.js";import{F as x,T as p}from"./text-CYDkTUb2.js";import{u as F,T as M,a as $,b as k,c as q,d as G,e as U}from"./table-B6DHXCgD.js";import{B as g}from"./box-CbEWAbzy.js";import{G as y}from"./card-DT9moc5H.js";import{u as O}from"./PoolProvider-CMXDAwhg.js";import"./index-B4wbEYRu.js";import"./useAccount-BmcfKMoq.js";const{useRecipeResult:L}=B({key:"separator"}),v=u.forwardRef(function(n,t){const{styles:d,className:i,props:c}=L(n),o=n.orientation||"horizontal";return e.jsx(V.span,{ref:t,role:S(o)?"separator":"presentation","aria-orientation":S(o)?o:void 0,...E(c,["orientation"]),className:H(i,n.className),css:[d,n.css]})}),_=r=>{switch(r){case 1:case 11155111:return"Ethereum";case 42220:return"Celo";case 42161:return"Arbitrum";case 8453:return"Base";default:return"Ethereum"}},Q="#F9FAFB",J=({columns:r,data:n,size:t="sm"})=>{const[d]=F("colors","border-primary");return e.jsxs(M,{size:t,style:{border:`1px solid ${d}`},children:[e.jsx($,{children:e.jsx(k,{style:{backgroundColor:Q},children:r.map(i=>e.jsx(q,{textAlign:i.textAlign||"start",width:i.width,children:i.header},String(i.accessor)))})}),e.jsx(G,{children:n.map((i,c)=>e.jsx(k,{children:r.map(o=>{const s=i[o.accessor];return e.jsx(U,{textAlign:o.textAlign||"start",fontFamily:"inter",width:o.width,children:o.render?o.render(i):String(s??"")},String(o.accessor))})},i.id??c))})]})};function K(r){return D({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M396.8 352h22.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-192 0h22.4c6.4 0 12.8-6.4 12.8-12.8V140.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h22.4c6.4 0 12.8-6.4 12.8-12.8V204.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zM496 400H48V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zm-387.2-48h22.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8z"},child:[]}]})(r)}function P({title:r,pendingBalances:n,isInvestment:t}){const d=I(),c=R().poolId,o=n.length>0?n.reduce((l,f)=>l.add(f),new z(0,n[0].decimals)):new z(0,18),s=l=>{const f=`/orders/${c}/approve`;let j=f;t&&l?j=f:!t&&l?j=`/orders/${c}/approveRedeem`:t&&!l?j=`/orders/${c}/issue`:!t&&!l&&(j=`/orders/${c}/revokeRedeem`),d(j)};return e.jsxs(b,{children:[e.jsx(a,{size:"sm",children:r}),e.jsx(v,{mt:2,mb:2}),e.jsxs(x,{mt:2,justify:"space-between",alignItems:"center",children:[e.jsxs(m,{gap:0,children:[e.jsx(a,{size:"xs",children:t?"Pending investments":"Pending redemptions"}),e.jsxs(a,{size:"2xl",children:[h(o,2)," USDC"]})]}),e.jsx(w,{label:"Approve",onClick:()=>s(!0),colorPalette:"gray",size:"sm",width:"120px"})]}),e.jsx(v,{mt:4,mb:4}),e.jsxs(x,{mt:2,justify:"space-between",alignItems:"center",children:[e.jsxs(m,{gap:0,children:[e.jsx(a,{size:"xs",children:t?"Approved investments":"Approved redemptions"}),e.jsxs(a,{size:"2xl",children:[0," USDC"]})]}),e.jsx(w,{label:t?"Issue":"Revoke",onClick:()=>s(!1),colorPalette:"gray",size:"sm",width:"120px"})]})]})}const W=[{asset:"USDC",network:1,quantity:"10222",price:"1.294",value:"13111.48",vaults:[{id:1,name:"Vault 1",network:1}]},{asset:"USDC",network:"42220",quantity:"10222",price:"1.294",value:"13111.48",vaults:[{id:2,name:"Vault 1",network:42220}]}],X=[{header:"Asset",accessor:"asset",render:r=>e.jsx(a,{fontSize:"xs",children:r.asset}),width:"100px"},{header:"Network",accessor:"network",render:r=>e.jsxs(x,{align:"center",gap:2,children:[e.jsx(A,{networkId:Number(r.network)}),e.jsx(a,{fontSize:"xs",children:_(Number(r.network))})]})},{header:"Quantity",accessor:"quantity",render:r=>e.jsx(p,{fontSize:"xs",children:r.quantity})},{header:"Price",accessor:"price",render:r=>e.jsx(p,{fontSize:"xs",children:r.price})},{header:"Value",accessor:"value",render:r=>e.jsx(p,{fontSize:"xs",children:r.value})}];function Y(){const r=W.map((n,t)=>({id:t,asset:n.asset,network:n.network,quantity:n.quantity,price:n.price,value:n.value,vaults:n.vaults}));return e.jsx(J,{data:r,columns:X})}const N=(r,n)=>r.mul(n);function Z({vaultsDetails:r,allInvestments:n,shareClass:t}){const d=u.useMemo(()=>r.map(s=>({network:s.network.chainId,nav:t.details.id.raw===s.shareClass.id.raw?N(t.details.navPerShare,t.details.totalIssuance):0})),[r,t]),i=u.useMemo(()=>({totalNav:N(t==null?void 0:t.details.navPerShare,t.details.totalIssuance)??0,totalNavPerShare:(t==null?void 0:t.details.navPerShare)??0,totalIssuance:(t==null?void 0:t.details.totalIssuance)??0}),[t]),c=u.useMemo(()=>n.map(s=>s.pendingInvestCurrency),[n]),o=u.useMemo(()=>n.map(s=>s.pendingRedeemShares),[n]);return e.jsxs(g,{mb:8,children:[e.jsxs(y,{templateColumns:"repeat(2, 1fr)",gap:4,mt:4,children:[e.jsx(b,{children:e.jsxs(m,{gap:8,children:[e.jsxs(g,{children:[e.jsxs(m,{gap:0,children:[e.jsx(a,{fontSize:"xs",children:"NAV"}),e.jsxs(a,{size:"2xl",children:[h(i.totalNav,2)??"0"," ",t==null?void 0:t.details.symbol]})]}),e.jsx(v,{mt:2,mb:2}),d.map(s=>e.jsxs(x,{align:"center",gap:2,children:[e.jsx(A,{networkId:s.network,boxSize:"20px"}),e.jsxs(p,{fontSize:"sm",children:[typeof s.nav=="number"?"0":h(s.nav,2)??"0"," ",t==null?void 0:t.details.symbol]})]},s.network))]}),e.jsx(g,{children:e.jsxs(m,{gap:0,children:[e.jsx(a,{fontSize:"xs",children:"NAV per share"}),e.jsxs(x,{justify:"space-between",align:"center",width:"100%",children:[e.jsxs(a,{size:"2xl",children:[h(i.totalNavPerShare,4)??"0"," ",t==null?void 0:t.details.symbol]}),e.jsxs(p,{fontSize:"sm",children:[h(i.totalIssuance,2)??"0"," shares issued"]})]})]})})]})}),e.jsx(b,{children:e.jsxs(x,{align:"center",gap:2,margin:"auto",children:[e.jsx(p,{children:"Coming soon"}),e.jsx(K,{})]})})]}),e.jsxs(m,{mt:8,gap:2,children:[e.jsx(a,{size:"sm",children:"Orders"}),e.jsxs(y,{templateColumns:"repeat(2, 1fr)",gap:4,children:[e.jsx(P,{title:"Investments",pendingBalances:c,isInvestment:!0}),e.jsx(P,{title:"Redemptions",pendingBalances:o})]})]}),e.jsxs(m,{mt:8,gap:2,children:[e.jsxs(m,{gap:0,mb:4,children:[e.jsx(a,{size:"sm",children:"Holdings"}),e.jsxs(x,{justify:"space-between",children:[e.jsx(a,{size:"3xl",children:"39,139,062 USDC"}),e.jsx(w,{label:"Add holding",onClick:()=>{},colorPalette:"gray",width:"140px",size:"sm"})]})]}),e.jsx(Y,{})]})]})}const je=T(function(){var l;const{poolId:n}=R(),{shareClass:t,vaultsDetails:d,allInvestments:i}=O(),c=I(),o=((l=t==null?void 0:t.shareClass)==null?void 0:l.id.raw)??"",s=u.useMemo(()=>t==null?void 0:t.details.navPerShare.mul(t==null?void 0:t.details.totalIssuance),[t]);return e.jsxs(g,{mt:10,children:[e.jsxs(x,{alignItems:"flex-end",justifyContent:"space-between",children:[e.jsxs(m,{gap:0,children:[e.jsx(a,{size:"sm",children:"Total NAV"}),e.jsxs(a,{size:"4xl",children:[(s==null?void 0:s.toString())??"0"," ",t==null?void 0:t.details.symbol]})]}),e.jsx(w,{label:"Update NAV",onClick:()=>c(`/nav/${o}/${n}`),size:"sm",width:"150px"})]}),t&&e.jsx(Z,{vaultsDetails:d??[],allInvestments:i??[],shareClass:t})]})});export{je as default};
