const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-BoiQ1pDD.js","assets/Toaster-DVn7MaYc.js","assets/chunk-NL6KNZEE-BfjKGAAH.js","assets/index-B4wbEYRu.js","assets/index-DNyRCIwI.js","assets/useAccount-BmcfKMoq.js","assets/omit-QLD0Eizt.js","assets/field.anatomy-PUQkG3Q7.js","assets/BigInt-DZb4M8gR.js","assets/PoolProvider-CMXDAwhg.js","assets/secp256k1-XAX_s5et.js","assets/embedded-wallet-BKlM4IXi.js","assets/if-defined-BWU6qkaf.js","assets/index-BaMXgAIp.js","assets/index-lWemKX21.js","assets/index-Bgcnrl8r.js","assets/index-xu69X2XW.js","assets/index-BtxvgSlu.js","assets/index-DlIyxzE5.js","assets/index-D_8N-8_c.js","assets/index-BpEQNy9N.js","assets/email-8KYhDF7b.js","assets/index-BkyOKhIa.js","assets/socials-iPGaxW5l.js","assets/index-BQxAEftM.js","assets/index-SZzNgLme.js","assets/index-Dg_5ggfH.js","assets/index-dquJASe4.js","assets/swaps-DSqmhhcQ.js","assets/index-DQLPBAgv.js","assets/index-CSSRPHyH.js","assets/index-D18393uW.js","assets/send-BIKB_awL.js","assets/index-B3GpiI5z.js","assets/receive-B2yNbxmJ.js","assets/index-B7N68MDa.js","assets/onramp-Cgvr2ZXC.js","assets/index-DRqh2Fnh.js","assets/index-DKFS04eM.js","assets/transactions-wgKjUIoN.js","assets/index-CnRc_WEu.js","assets/index-B8kgsz08.js","assets/index-Cx17ESOB.js","assets/w3m-modal-B2nBsfzx.js","assets/index-CzmRiBFb.js"])))=>i.map(i=>d[i]);
var yD=Object.defineProperty;var vE=t=>{throw TypeError(t)};var bD=(t,e,n)=>e in t?yD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ct=(t,e,n)=>bD(t,typeof e!="symbol"?e+"":e,n),im=(t,e,n)=>e.has(t)||vE("Cannot "+n);var z=(t,e,n)=>(im(t,e,"read from private field"),n?n.call(t):e.get(t)),Le=(t,e,n)=>e.has(t)?vE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ae=(t,e,n,r)=>(im(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),hn=(t,e,n)=>(im(t,e,"access private method"),n);var Mh=(t,e,n,r)=>({set _(s){Ae(t,e,s,n)},get _(){return z(t,e,r)}});import{g as e2,a as yr,p as vt,s as wD,w as vD,M as ED,L as CD,S as AD,t as ID,O as xD}from"./chunk-NL6KNZEE-BfjKGAAH.js";import{g as Qu,e as ps,O as sh,b as Ql,c as SD,N as gw,V as t2,o as EE,s as CE,a as AE,d as _D,f as PD,h as TD}from"./index-DNyRCIwI.js";import{n as fe,B as H,s as $t,t as Cl,i as ro,a as he,b as Nc,S as n2,p as Qo,c as r2,I as OD,d as Qc,h as Gt,e as is,f as dn,g as pi,j as IE,k as Gp,l as os,m as RD,o as om,q as ND,r as s2,u as ke,v as Oe,w as br,x as ft,y as i2,z as kD,A as xE,C as DD,D as ht,E as BD,F as $D,G as LD,H as FD,J as ia,K as UD,L as MD,M as Al,N as Il,O as mw,P as zD,Q as VD,R as jD,T as HD,U as yw,V as ih,W as bw,X as o2,Y as ep,Z as qD,_ as WD,$ as GD,a0 as a2,a1 as c2,a2 as KD,a3 as l2,a4 as ww,a5 as YD,a6 as vw,a7 as QD,a8 as Ew,a9 as am,aa as cm,ab as u2,ac as Rf,ad as ZD,ae as tp,af as Kp,ag as JD,ah as XD,ai as d2,aj as Cw,ak as e5,al as t5,am as SE,an as Zo,ao as Aw,ap as n5,aq as r5,ar as _E,as as s5,at as i5,au as o5,av as a5,aw as c5,ax as h2,ay as l5,az as u5,aA as lm,aB as d5,aC as h5,aD as f5,aE as p5,aF as $r,aG as so,aH as gi,aI as Yp,aJ as Iw,aK as g5,aL as m5,aM as y5,aN as f2,aO as b5,aP as np,aQ as w5,aR as oh,aS as ib,aT as p2,aU as v5,aV as xl,aW as E5,aX as C5,aY as xa,aZ as io,a_ as A5,a$ as We,b0 as g2,b1 as I5,b2 as x5,b3 as m2,b4 as y2,b5 as b2,b6 as S5,b7 as PE,b8 as mt,b9 as Ve,ba as li,bb as _5,bc as w2,bd as ob,be as ab,bf as P5,bg as T5,bh as O5,bi as R5,bj as N5,bk as k5}from"./Toaster-DVn7MaYc.js";import{B as fo,d as D5,g as cb,v as um,w as B5,r as $5,W as L5}from"./useAccount-BmcfKMoq.js";import{o as v2}from"./omit-QLD0Eizt.js";import{f as F5}from"./field.anatomy-PUQkG3Q7.js";import{B as K,R as Su,P as Zi,a as Si}from"./BigInt-DZb4M8gR.js";import{P as U5}from"./PoolProvider-CMXDAwhg.js";async function M5(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:fe(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function as(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Z5(t.type);return`${t.name}(${Qp(t.inputs,{includeName:e})})`}function Qp(t,{includeName:e=!1}={}){return t?t.map(n=>z5(n,{includeName:e})).join(e?", ":","):""}function z5(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Qp(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class V5 extends H{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class TE extends H{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class E2 extends H{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Qp(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class ah extends H{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class j5 extends H{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class H5 extends H{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${$t(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class C2 extends H{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class q5 extends H{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class OE extends H{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class A2 extends H{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class W5 extends H{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class I2 extends H{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class RE extends H{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Zc extends H{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class x2 extends H{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class G5 extends H{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class K5 extends H{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${as(e.abiItem)}\`, and`,`\`${n.type}\` in \`${as(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let S2=class extends H{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Zu extends H{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Qp(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class Zp extends H{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${as(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Y5 extends H{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Q5 extends H{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let _2=class extends H{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Z5 extends H{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class J5 extends H{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}function mi(t){return typeof t[0]=="string"?tr(t):X5(t)}function X5(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function tr(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}let Cn=class extends H{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Jp=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};function rp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function e3(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ch(t,...e){if(!e3(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function t3(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");rp(t.outputLen),rp(t.blockLen)}function Jc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function P2(t,e){ch(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const zh=BigInt(2**32-1),NE=BigInt(32);function n3(t,e=!1){return e?{h:Number(t&zh),l:Number(t>>NE&zh)}:{h:Number(t>>NE&zh)|0,l:Number(t&zh)|0}}function r3(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=n3(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const s3=(t,e,n)=>t<<n|e>>>32-n,i3=(t,e,n)=>e<<n|t>>>32-n,o3=(t,e,n)=>e<<n-32|t>>>64-n,a3=(t,e,n)=>t<<n-32|e>>>64-n,Va=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function c3(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function dm(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ms(t,e){return t<<32-e|t>>>e}const kE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function l3(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function DE(t){for(let e=0;e<t.length;e++)t[e]=l3(t[e])}typeof Uint8Array.from([]).toHex=="function"&&Uint8Array.fromHex;function u3(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Xp(t){return typeof t=="string"&&(t=u3(t)),ch(t),t}function d3(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];ch(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let xw=class{clone(){return this._cloneInto()}};function T2(t){const e=r=>t().update(Xp(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function h3(t=32){if(Va&&typeof Va.getRandomValues=="function")return Va.getRandomValues(new Uint8Array(t));if(Va&&typeof Va.randomBytes=="function")return Uint8Array.from(Va.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const O2=[],R2=[],N2=[],f3=BigInt(0),Zl=BigInt(1),p3=BigInt(2),g3=BigInt(7),m3=BigInt(256),y3=BigInt(113);for(let t=0,e=Zl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],O2.push(2*(5*r+n)),R2.push((t+1)*(t+2)/2%64);let s=f3;for(let i=0;i<7;i++)e=(e<<Zl^(e>>g3)*y3)%m3,e&p3&&(s^=Zl<<(Zl<<BigInt(i))-Zl);N2.push(s)}const[b3,w3]=r3(N2,!0),BE=(t,e,n)=>n>32?o3(t,e,n):s3(t,e,n),$E=(t,e,n)=>n>32?a3(t,e,n):i3(t,e,n);function v3(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=BE(l,u,1)^n[a],h=$E(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=R2[o],c=BE(s,i,a),l=$E(s,i,a),u=O2[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=b3[r],t[1]^=w3[r]}n.fill(0)}let E3=class k2 extends xw{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,rp(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=c3(this.state)}keccak(){kE||DE(this.state32),v3(this.state32,this.rounds),kE||DE(this.state32),this.posOut=0,this.pos=0}update(e){Jc(this);const{blockLen:n,state:r}=this;e=Xp(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Jc(this,!1),ch(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return rp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(P2(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new k2(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const C3=(t,e,n)=>T2(()=>new E3(e,t,n)),A3=C3(1,136,256/8);function En(t,e){const n=e||"hex",r=A3(ro(t,{strict:!1})?Cl(t):t);return n==="bytes"?r:he(r)}const hm=new Jp(8192);function lh(t,e){if(hm.has(`${t}.${e}`))return hm.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=En(Nc(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return hm.set(`${t}.${e}`,i),i}function Os(t,e){if(!Lt(t,{strict:!1}))throw new Cn({address:t});return lh(t,e)}const I3=/^0x[a-fA-F0-9]{40}$/,fm=new Jp(8192);function Lt(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(fm.has(r))return fm.get(r);const s=I3.test(t)?t.toLowerCase()===t?!0:n?lh(t)===t:!0:!1;return fm.set(r,s),s}function oa(t,e,n,{strict:r}={}){return ro(t,{strict:!1})?L2(t,e,n,{strict:r}):$2(t,e,n,{strict:r})}function D2(t,e){if(typeof e=="number"&&e>0&&e>$t(t)-1)throw new n2({offset:e,position:"start",size:$t(t)})}function B2(t,e,n){if(typeof e=="number"&&typeof n=="number"&&$t(t)!==n-e)throw new n2({offset:n,position:"end",size:$t(t)})}function $2(t,e,n,{strict:r}={}){D2(t,e);const s=t.slice(e,n);return r&&B2(s,e,n),s}function L2(t,e,n,{strict:r}={}){D2(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&B2(s,e,n),s}const x3=/^(.*)\[([0-9]*)\]$/,F2=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Sw=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function po(t,e){if(t.length!==e.length)throw new C2({expectedLength:t.length,givenLength:e.length});const n=S3({params:t,values:e}),r=Pw(n);return r.length===0?"0x":r}function S3({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(_w({param:t[r],value:e[r]}));return n}function _w({param:t,value:e}){const n=Tw(t.type);if(n){const[r,s]=n;return P3(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return k3(e,{param:t});if(t.type==="address")return _3(e);if(t.type==="bool")return O3(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=Sw.exec(t.type)??[];return R3(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return T3(e,{param:t});if(t.type==="string")return N3(e);throw new Y5(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Pw(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=$t(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(fe(e+s,{size:32})),r.push(a),s+=$t(a)):n.push(a)}return mi([...n,...r])}function _3(t){if(!Lt(t))throw new Cn({address:t});return{dynamic:!1,encoded:Qo(t.toLowerCase())}}function P3(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new _2(t);if(!r&&t.length!==e)throw new j5({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=_w({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=Pw(i);if(r){const a=fe(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?mi([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:mi(i.map(({encoded:o})=>o))}}function T3(t,{param:e}){const[,n]=e.type.split("bytes"),r=$t(t);if(!n){let s=t;return r%32!==0&&(s=Qo(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:mi([Qo(fe(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new H5({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Qo(t,{dir:"right"})}}function O3(t){if(typeof t!="boolean")throw new H(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Qo(r2(t))}}function R3(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new OD({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:fe(t,{size:32,signed:e})}}function N3(t){const e=Qc(t),n=Math.ceil($t(e)/32),r=[];for(let s=0;s<n;s++)r.push(Qo(oa(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:mi([Qo(fe($t(e),{size:32})),...r])}}function k3(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=_w({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Pw(r):mi(r.map(({encoded:s})=>s))}}function Tw(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const pm="/docs/contract/encodeDeployData";function eg(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new V5({docsPath:pm});if(!("inputs"in s))throw new TE({docsPath:pm});if(!s.inputs||s.inputs.length===0)throw new TE({docsPath:pm});const i=po(s.inputs,n);return tr([r,i])}function xt(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class go extends H{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Nf extends H{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function D3(t){const e=En(`0x${t.substring(4)}`).substring(26);return lh(`0x${e}`)}const B3="modulepreload",$3=function(t){return"/"+t},LE={},Kn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(n.map(l=>{if(l=$3(l),l in LE)return;LE[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":B3,u||(h.as="script"),h.crossOrigin="",h.href=l,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function L3({hash:t,signature:e}){const n=ro(t)?t:he(t),{secp256k1:r}=await Kn(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>SF);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),g=FE(f);return new r.Signature(Gt(l),Gt(u)).addRecoveryBit(g)}const o=ro(e)?e:he(e);if($t(o)!==65)throw new Error("invalid signature length");const a=is(`0x${o.slice(130)}`),c=FE(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function FE(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function U2({hash:t,signature:e}){return D3(await L3({hash:t,signature:e}))}class UE extends H{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class M2 extends H{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class F3 extends H{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const U3={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new F3({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new M2({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new UE({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new UE({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Ow(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(U3);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function yi(t,e="hex"){const n=z2(t),r=Ow(new Uint8Array(n.length));return n.encode(r),e==="hex"?dn(r.bytes):r.bytes}function z2(t){return Array.isArray(t)?M3(t.map(e=>z2(e))):z3(t)}function M3(t){const e=t.reduce((s,i)=>s+i.length,0),n=V2(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function z3(t){const e=typeof t=="string"?pi(t):t,n=V2(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function V2(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new H("Length is too large.")}function V3(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=En(tr(["0x05",yi([e?fe(e):"0x",s,n?fe(n):"0x"])]));return r==="bytes"?pi(i):i}async function j2(t){const{authorization:e,signature:n}=t;return U2({hash:V3(e),signature:n??e})}class lb extends H{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class j3 extends H{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class H3 extends H{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class H2 extends H{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class uh extends H{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function q2({chain:t,currentChainId:e}){if(!t)throw new H3;if(e!==t.id)throw new j3({chain:t,currentChainId:e})}const q3={gwei:9,wei:18},W3={ether:-9,wei:9},G3={ether:-18,gwei:-9};function Sl(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function er(t,e="wei"){return Sl(t,W3[e])}class Fo extends H{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Fo,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Fo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class oo extends H{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${er(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(oo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class ub extends H{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${er(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(ub,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class db extends H{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(db,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class hb extends H{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(hb,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class fb extends H{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(fb,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class pb extends H{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(pb,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class gb extends H{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(gb,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class mb extends H{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(mb,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class yb extends H{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(yb,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Xc extends H{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${er(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${er(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Xc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class dh extends H{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Rw(t,e="wei"){return Sl(t,q3[e])}function hh(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class K3 extends H{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Y3 extends H{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Q3 extends H{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",hh(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Z3 extends H{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class J3 extends H{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var g;const f=hh({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${Rw(h)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${er(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${er(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${er(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class W2 extends H{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class G2 extends H{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class X3 extends H{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Kt=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),e8=t=>t,Nw=t=>t;class Fu extends H{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Nw(o)}`,e&&`Request body: ${Kt(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class kw extends H{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Nw(r)}`,`Request body: ${Kt(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}let ME=class extends H{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Nw(n)}`,`Request body: ${Kt(e)}`],name:"TimeoutError"})}};const t8=-1;class nr extends H{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof kw?e.code:n??t8}}class Er extends nr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Ju extends nr{constructor(e){super(e,{code:Ju.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Ju,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Xu extends nr{constructor(e){super(e,{code:Xu.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Xu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ed extends nr{constructor(e,{method:n}={}){super(e,{code:ed.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(ed,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class td extends nr{constructor(e){super(e,{code:td.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(td,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class aa extends nr{constructor(e){super(e,{code:aa.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(aa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ca extends nr{constructor(e){super(e,{code:ca.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ca,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class nd extends nr{constructor(e){super(e,{code:nd.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(nd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ji extends nr{constructor(e){super(e,{code:Ji.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ji,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class el extends nr{constructor(e){super(e,{code:el.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(el,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Uo extends nr{constructor(e,{method:n}={}){super(e,{code:Uo.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Uo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class tl extends nr{constructor(e){super(e,{code:tl.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(tl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class rd extends nr{constructor(e){super(e,{code:rd.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(rd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class qt extends Er{constructor(e){super(e,{code:qt.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class sd extends Er{constructor(e){super(e,{code:sd.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(sd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class id extends Er{constructor(e,{method:n}={}){super(e,{code:id.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(id,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class od extends Er{constructor(e){super(e,{code:od.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(od,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ad extends Er{constructor(e){super(e,{code:ad.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ad,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class $s extends Er{constructor(e){super(e,{code:$s.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty($s,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class cd extends Er{constructor(e){super(e,{code:cd.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(cd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class ld extends Er{constructor(e){super(e,{code:ld.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(ld,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class ud extends Er{constructor(e){super(e,{code:ud.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(ud,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class dd extends Er{constructor(e){super(e,{code:dd.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(dd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class hd extends Er{constructor(e){super(e,{code:hd.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(hd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class fd extends Er{constructor(e){super(e,{code:fd.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(fd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class pd extends Er{constructor(e){super(e,{code:pd.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(pd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class n8 extends nr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function tg(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof H?t.walk(s=>(s==null?void 0:s.code)===Fo.code):t;return r instanceof H?new Fo({cause:t,message:r.details}):Fo.nodeMessage.test(n)?new Fo({cause:t,message:t.details}):oo.nodeMessage.test(n)?new oo({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):ub.nodeMessage.test(n)?new ub({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):db.nodeMessage.test(n)?new db({cause:t,nonce:e==null?void 0:e.nonce}):hb.nodeMessage.test(n)?new hb({cause:t,nonce:e==null?void 0:e.nonce}):fb.nodeMessage.test(n)?new fb({cause:t,nonce:e==null?void 0:e.nonce}):pb.nodeMessage.test(n)?new pb({cause:t}):gb.nodeMessage.test(n)?new gb({cause:t,gas:e==null?void 0:e.gas}):mb.nodeMessage.test(n)?new mb({cause:t,gas:e==null?void 0:e.gas}):yb.nodeMessage.test(n)?new yb({cause:t}):Xc.nodeMessage.test(n)?new Xc({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new dh({cause:t})}function K2(t,{docsPath:e,...n}){const r=(()=>{const s=tg(t,n);return s instanceof dh?t:s})();return new J3(r,{docsPath:e,...n})}function ng(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}function rg(t,e){return({exclude:n,format:r})=>({exclude:n,format:s=>{const i=e(s);if(n)for(const o of n)delete i[o];return{...i,...r(s)}},type:t})}const r8={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Sa(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=i8(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>dn(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=fe(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=fe(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=fe(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=fe(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=fe(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=fe(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=r8[t.type]),typeof t.value<"u"&&(e.value=fe(t.value)),e}const s8=rg("transactionRequest",Sa);function i8(t){return t.map(e=>({address:e.address,r:e.r?fe(BigInt(e.r)):e.r,s:e.s?fe(BigInt(e.s)):e.s,chainId:fe(e.chainId),nonce:fe(e.nonce),...typeof e.yParity<"u"?{yParity:fe(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:fe(e.v)}:{}}))}function ue(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const fh=2n**256n-1n;function _a(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?xt(e):void 0;if(o&&!Lt(o.address))throw new Cn({address:o.address});if(i&&!Lt(i))throw new Cn({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new K3;if(r&&r>fh)throw new oo({maxFeePerGas:r});if(s&&r&&s>r)throw new Xc({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function _l(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return is(e)}class o8 extends H{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Dw extends H{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class a8 extends H{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${er(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Y2 extends H{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Q2={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ph(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?is(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?is(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Q2[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=c8(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const Z2=rg("transaction",ph);function c8(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Bw(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:ph(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const J2=rg("block",Bw);async function Rs(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,h;const i=r??"latest",o=s??!1,a=n!==void 0?fe(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new Y2({blockHash:e,blockNumber:n});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||Bw)(c)}async function $w(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function l8(t,e){return X2(t,e)}async function X2(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await ue(t,Rs,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return Gt(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):ue(t,Rs,"getBlock")({}),ue(t,$w,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Dw;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function u8(t,e){return bb(t,e)}async function bb(t,e){var h,f;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var g,p;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(o<1)throw new o8;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=g=>g*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await ue(t,Rs,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(g!==null)return g}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new Dw;const g=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await X2(t,{block:u,chain:r,request:s}),p=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+g,maxPriorityFeePerGas:g}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await ue(t,$w,"getGasPrice")({}))}}class d8 extends H{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var g;const f=hh({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${Rw(h)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${er(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${er(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${er(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function h8(t,{docsPath:e,...n}){const r=(()=>{const s=tg(t,n);return s instanceof dh?t:s})();return new d8(r,{docsPath:e,...n})}class f8 extends H{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class p8 extends H{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function zE(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function g8(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=zE(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=zE(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function VE(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new IE({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new IE({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function m8(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=fe(e)),n!==void 0&&(o.nonce=fe(n)),r!==void 0&&(o.state=VE(r)),s!==void 0){if(o.state)throw new p8;o.stateDiff=VE(s)}return o}function Lw(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Lt(n,{strict:!1}))throw new Cn({address:n});if(e[n])throw new f8({address:n});e[n]=m8(r)}return e}async function Fw(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n?fe(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function sg(t,e){var s,i,o;const{account:n=t.account}=e,r=n?xt(n):void 0;try{let _=function(S){const{block:D,request:k,rpcStateOverride:O}=S;return t.request({method:"eth_estimateGas",params:O?[k,D??"latest",O]:D?[k,D]:[k]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:g,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:w,value:E,stateOverride:C,...I}=await gh(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),x=(d?fe(d):void 0)||h,v=Lw(C),R=await(async()=>{if(I.to)return I.to;if(c&&c.length>0)return await j2({authorization:c[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`")})})();_a(e);const N=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,F=(N||Sa)({...ng(I,{format:N}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gas:g,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:w,to:R,value:E});let T=BigInt(await _({block:x,request:F,rpcStateOverride:v}));if(c){const S=await Fw(t,{address:F.from}),D=await Promise.all(c.map(async k=>{const{address:O}=k,L=await _({block:x,request:{authorizationList:void 0,data:f,from:r==null?void 0:r.address,to:O,value:fe(S)},rpcStateOverride:v}).catch(()=>100000n);return 2n*BigInt(L)}));T+=D.reduce((k,O)=>k+O,0n)}return T}catch(a){throw h8(a,{...e,account:r,chain:t.chain})}}async function Uw(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,r?fe(r):n]},{dedupe:!!r});return is(s)}function Mw(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>pi(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>dn(i))}function zw(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>pi(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>pi(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>dn(o))}function y8(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function b8(t,e,n){return t&e^~t&n}function w8(t,e,n){return t&e^t&n^e&n}class v8 extends xw{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=dm(this.buffer)}update(e){Jc(this);const{view:n,buffer:r,blockLen:s}=this;e=Xp(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=dm(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jc(this),P2(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;y8(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=dm(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const E8=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pi=new Uint32Array(64);class C8 extends v8{constructor(e=32){super(64,e,8,!1),this.A=_i[0]|0,this.B=_i[1]|0,this.C=_i[2]|0,this.D=_i[3]|0,this.E=_i[4]|0,this.F=_i[5]|0,this.G=_i[6]|0,this.H=_i[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Pi[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Pi[d-15],f=Pi[d-2],g=ms(h,7)^ms(h,18)^h>>>3,p=ms(f,17)^ms(f,19)^f>>>10;Pi[d]=p+Pi[d-7]+g+Pi[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=ms(a,6)^ms(a,11)^ms(a,25),f=u+h+b8(a,c,l)+E8[d]+Pi[d]|0,p=(ms(r,2)^ms(r,13)^ms(r,22))+w8(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Pi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const eP=T2(()=>new C8);function A8(t,e){return eP(ro(t,{strict:!1})?Cl(t):t)}function I8(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=A8(e);return s.set([n],0),r==="bytes"?s:dn(s)}function tP(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const i of e)s.push(I8({commitment:i,to:r,version:n}));return s}const jE=6,nP=32,Vw=4096,rP=nP*Vw,HE=rP*jE-1-1*Vw*jE,sP=1;class x8 extends H{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class iP extends H{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class S8 extends H{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class _8 extends H{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${sP}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function P8(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?pi(t.data):t.data,r=$t(n);if(!r)throw new iP;if(r>HE)throw new x8({maxSize:HE,size:r});const s=[];let i=!0,o=0;for(;i;){const a=Ow(new Uint8Array(rP));let c=0;for(;c<Vw;){const l=n.slice(o,o+(nP-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return e==="bytes"?s.map(a=>a.bytes):s.map(a=>dn(a.bytes))}function oP(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??P8({data:e,to:r}),i=t.commitments??Mw({blobs:s,kzg:n,to:r}),o=t.proofs??zw({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function aP(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Q3({transaction:t})}const cP=["blobVersionedHashes","chainId","fees","gas","nonce","type"],qE=new Map;async function gh(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=cP,type:u}=e,d=n&&xt(n),h={...e,...d?{from:d==null?void 0:d.address}:{}};let f;async function g(){return f||(f=await ue(t,Rs,"getBlock")({blockTag:"latest"}),f)}let p;async function m(){return p||(s?s.id:typeof e.chainId<"u"?e.chainId:(p=await ue(t,_l,"getChainId")({}),p))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const y=await m();h.nonce=await c.consume({address:d.address,chainId:y,client:t})}else h.nonce=await ue(t,Uw,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const y=Mw({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const b=tP({commitments:y,to:"hex"});h.blobVersionedHashes=b}if(l.includes("sidecars")){const b=zw({blobs:r,commitments:y,kzg:o}),w=oP({blobs:r,commitments:y,proofs:b,to:"hex"});h.sidecars=w}}if(l.includes("chainId")&&(h.chainId=await m()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{h.type=aP(h)}catch{let y=qE.get(t.uid);if(typeof y>"u"){const b=await g();y=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",qE.set(t.uid,y)}h.type=y?"eip1559":"legacy"}if(l.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const y=await g(),{maxFeePerGas:b,maxPriorityFeePerGas:w}=await bb(t,{block:y,chain:s,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<w)throw new a8({maxPriorityFeePerGas:w});h.maxPriorityFeePerGas=w,h.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new Dw;if(typeof e.gasPrice>"u"){const y=await g(),{gasPrice:b}=await bb(t,{block:y,chain:s,request:h,type:"legacy"});h.gasPrice=b}}return l.includes("gas")&&typeof i>"u"&&(h.gas=await ue(t,sg,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),_a(h),delete h.parameters,h}async function jw(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const gm=new Jp(128);async function ig(t,e){var b,w,E,C;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:g,value:p,...m}=e;if(typeof n>"u")throw new go({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?xt(n):null;try{_a(e);const I=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await j2({authorization:i[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let A;r!==null&&(A=await ue(t,_l,"getChainId")({}),q2({currentChainId:A,chain:r}));const x=(E=(w=(b=t.chain)==null?void 0:b.formatters)==null?void 0:w.transactionRequest)==null?void 0:E.format,R=(x||Sa)({...ng(m,{format:x}),accessList:s,authorizationList:i,blobs:o,chainId:A,data:a,from:y==null?void 0:y.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:I,type:g,value:p}),N=gm.get(t.uid),B=N?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:B,params:[R]},{retryCount:0})}catch(F){if(N===!1)throw F;const _=F;if(_.name==="InvalidInputRpcError"||_.name==="InvalidParamsRpcError"||_.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[R]},{retryCount:0}).then(T=>(gm.set(t.uid,!0),T)).catch(T=>{const S=T;throw S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"?(gm.set(t.uid,!1),_):S});throw _}}if((y==null?void 0:y.type)==="local"){const A=await ue(t,gh,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:y.nonceManager,parameters:[...cP,"sidecars"],type:g,value:p,...m,to:I}),x=(C=r==null?void 0:r.serializers)==null?void 0:C.transaction,v=await y.signTransaction(A,{serializer:x});return await ue(t,jw,"sendRawTransaction")({serializedTransaction:v})}throw(y==null?void 0:y.type)==="smart"?new Nf({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Nf({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(I){throw I instanceof Nf?I:K2(I,{...e,account:y,chain:e.chain||void 0})}}function T8(t,e){const{abi:n,args:r,bytecode:s,...i}=e,o=eg({abi:n,args:r,bytecode:s});return ig(t,{...i,...i.authorizationList?{to:null}:{},data:o})}const wb=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],vb=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],lP=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],uP=[...lP,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],O8=[...lP,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],WE=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],GE=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],KE=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function R8(t,e={}){typeof e.size<"u"&&Gp(t,{size:e.size});const n=dn(t,e);return Gt(n,e)}function N8(t,e={}){let n=t;if(typeof e.size<"u"&&(Gp(n,{size:e.size}),n=os(n)),n.length>1||n[0]>1)throw new RD(n);return!!n[0]}function ui(t,e={}){typeof e.size<"u"&&Gp(t,{size:e.size});const n=dn(t,e);return is(n,e)}function k8(t,e={}){let n=t;return typeof e.size<"u"&&(Gp(n,{size:e.size}),n=os(n,{dir:"right"})),new TextDecoder().decode(n)}function mh(t,e){const n=typeof e=="string"?pi(e):e,r=Ow(n);if($t(n)===0&&t.length>0)throw new ah;if($t(e)&&$t(e)<32)throw new E2({data:typeof e=="string"?e:dn(e),params:t,size:$t(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=kc(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function kc(t,e,{staticPosition:n}){const r=Tw(e.type);if(r){const[s,i]=r;return B8(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return U8(t,e,{staticPosition:n});if(e.type==="address")return D8(t);if(e.type==="bool")return $8(t);if(e.type.startsWith("bytes"))return L8(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return F8(t,e);if(e.type==="string")return M8(t,{staticPosition:n});throw new Q5(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const YE=32,Eb=32;function D8(t){const e=t.readBytes(32);return[lh(dn($2(e,-20))),32]}function B8(t,e,{length:n,staticPosition:r}){if(!n){const o=ui(t.readBytes(Eb)),a=r+o,c=a+YE;t.setPosition(a);const l=ui(t.readBytes(YE)),u=gd(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[g,p]=kc(t,e,{staticPosition:c});d+=p,h.push(g)}return t.setPosition(r+32),[h,32]}if(gd(e)){const o=ui(t.readBytes(Eb)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=kc(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=kc(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function $8(t){return[N8(t.readBytes(32),{size:32}),32]}function L8(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=ui(t.readBytes(32));t.setPosition(n+o);const a=ui(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[dn(c),32]}return[dn(t.readBytes(Number.parseInt(s),32)),32]}function F8(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?R8(s,{signed:n}):ui(s,{signed:n}),32]}function U8(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(gd(e)){const o=ui(t.readBytes(Eb)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=kc(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=kc(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function M8(t,{staticPosition:e}){const n=ui(t.readBytes(32)),r=e+n;t.setPosition(r);const s=ui(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=k8(os(i));return t.setPosition(e+32),[o,32]}function gd(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(gd);const n=Tw(t.type);return!!(n&&gd({...t,type:n[1]}))}const z8=t=>En(Cl(t));function V8(t){return z8(t)}const j8="1.0.8";let Cr=class Cb extends Error{constructor(e,n={}){var o;const r=n.cause instanceof Cb?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Cb&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${j8}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Ii(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const dP=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hP=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,fP=/^\(.+?\).*?$/,QE=/^tuple(?<array>(\[(\d*)\])*)$/;function Ab(t){let e=t.type;if(QE.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=Ab(i),s<n-1&&(e+=", ")}const r=Ii(QE,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,Ab({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Jl(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=Ab(s),r!==n-1&&(e+=", ")}return e}function sp(t){var e;return t.type==="function"?`function ${t.name}(${Jl(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Jl(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Jl(t.inputs)})`:t.type==="error"?`error ${t.name}(${Jl(t.inputs)})`:t.type==="constructor"?`constructor(${Jl(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const pP=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function H8(t){return pP.test(t)}function q8(t){return Ii(pP,t)}const gP=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function W8(t){return gP.test(t)}function G8(t){return Ii(gP,t)}const mP=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function K8(t){return mP.test(t)}function Y8(t){return Ii(mP,t)}const yP=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Hw(t){return yP.test(t)}function Q8(t){return Ii(yP,t)}const bP=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Z8(t){return bP.test(t)}function J8(t){return Ii(bP,t)}const wP=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function X8(t){return wP.test(t)}function eB(t){return Ii(wP,t)}const tB=/^receive\(\) external payable$/;function nB(t){return tB.test(t)}const rB=new Set(["indexed"]),Ib=new Set(["calldata","memory","storage"]);class sB extends Cr{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class iB extends Cr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class oB extends Cr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class aB extends Cr{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class cB extends Cr{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class lB extends Cr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class uB extends Cr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class dB extends Cr{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Pl extends Cr{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class hB extends Cr{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class fB extends Cr{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class pB extends Cr{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class gB extends Cr{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function mB(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const mm=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function xb(t,e={}){if(K8(t))return yB(t,e);if(W8(t))return bB(t,e);if(H8(t))return wB(t,e);if(Z8(t))return vB(t,e);if(X8(t))return EB(t);if(nB(t))return{type:"receive",stateMutability:"payable"};throw new hB({signature:t})}function yB(t,e={}){const n=Y8(t);if(!n)throw new Pl({signature:t,type:"function"});const r=Xr(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(la(r[a],{modifiers:Ib,structs:e,type:"function"}));const o=[];if(n.returns){const a=Xr(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(la(a[l],{modifiers:Ib,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function bB(t,e={}){const n=G8(t);if(!n)throw new Pl({signature:t,type:"event"});const r=Xr(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(la(r[o],{modifiers:rB,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function wB(t,e={}){const n=q8(t);if(!n)throw new Pl({signature:t,type:"error"});const r=Xr(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(la(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function vB(t,e={}){const n=J8(t);if(!n)throw new Pl({signature:t,type:"constructor"});const r=Xr(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(la(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function EB(t){const e=eB(t);if(!e)throw new Pl({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const CB=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,AB=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,IB=/^u?int$/;function la(t,e){var d,h;const n=mB(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(mm.has(n))return mm.get(n);const r=fP.test(t),s=Ii(r?AB:CB,t);if(!s)throw new aB({param:t});if(s.name&&SB(s.name))throw new cB({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=Xr(s.type),g=[],p=f.length;for(let m=0;m<p;m++)g.push(la(f[m],{structs:a}));l={components:g}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(IB.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!vP(c))throw new oB({type:c});if(s.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new lB({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(Ib.has(s.modifier)&&!_B(c,!!s.array))throw new uB({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return mm.set(n,u),u}function Xr(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?Xr(a,[...e,n.trim()]):Xr(a,e,`${n}${o}`,r);case"(":return Xr(a,e,`${n}${o}`,r+1);case")":return Xr(a,e,`${n}${o}`,r-1);default:return Xr(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new gB({current:n,depth:r});return e.push(n.trim()),e}function vP(t){return t==="address"||t==="bool"||t==="function"||t==="string"||dP.test(t)||hP.test(t)}const xB=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function SB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||dP.test(t)||hP.test(t)||xB.test(t)}function _B(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function EP(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!Hw(a))continue;const c=Q8(a);if(!c)throw new Pl({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const g=l[h].trim();if(!g)continue;const p=la(g,{type:"struct"});u.push(p)}if(!u.length)throw new fB({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=CP(c,e)}return r}const PB=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function CP(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(fP.test(o.type))r.push(o);else{const c=Ii(PB,o.type);if(!(c!=null&&c.type))throw new dB({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new pB({type:u});r.push({...o,type:`tuple${l??""}`,components:CP(e[u]??[],e,new Set([...n,u]))})}else if(vP(u))r.push(o);else throw new iB({type:u})}}return r}function Pt(t){const e=EP(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];Hw(i)||n.push(xb(i,e))}return n}function ZE(t){let e;if(typeof t=="string")e=xb(t);else{const n=EP(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!Hw(i)){e=xb(i,n);break}}}if(!e)throw new sB({signature:t});return e}function TB(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new H("Unable to normalize signature.");return s}const OB=t=>{const e=typeof t=="string"?t:sp(t);return TB(e)};function AP(t){return V8(OB(t))}const og=AP,yh=t=>oa(AP(t),0,4);function Pa(t){const{abi:e,args:n=[],name:r}=t,s=ro(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?yh(a)===r:a.type==="event"?og(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?Sb(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=IP(a.inputs,o.inputs,n);if(l)throw new K5({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function Sb(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Lt(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>Sb(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>Sb(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function IP(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return IP(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Lt(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Lt(n[r],{strict:!1}):!1)return o}}const ym="/docs/contract/decodeFunctionResult";function Ta(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=Pa({abi:e,args:n,name:r});if(!a)throw new Zc(r,{docsPath:ym});i=a}if(i.type!=="function")throw new Zc(void 0,{docsPath:ym});if(!i.outputs)throw new x2(i.name,{docsPath:ym});const o=mh(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const JE="/docs/contract/encodeFunctionData";function RB(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=Pa({abi:e,args:n,name:r});if(!i)throw new Zc(r,{docsPath:JE});s=i}if(s.type!=="function")throw new Zc(void 0,{docsPath:JE});return{abi:[s],functionName:yh(as(s))}}function Ot(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:RB(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?po(s.inputs,e??[]):void 0;return tr([i,o??"0x"])}function Tl({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new lb({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new lb({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const xP={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},SP={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},NB={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function kB(t){const{abi:e,data:n}=t,r=oa(n,0,4);if(r==="0x")throw new ah;const i=[...e||[],SP,NB].find(o=>o.type==="error"&&r===yh(as(o)));if(!i)throw new A2(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?mh(i.inputs,oa(n,4)):void 0,errorName:i.name}}function _P({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?Kt(e[i]):e[i]}`).join(", ")})`}class PP extends H{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){var m;const g=n?xt(n):void 0;let p=hh({from:g==null?void 0:g.address,to:d,value:typeof h<"u"&&`${Rw(h)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${er(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${er(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${er(l)} gwei`,nonce:u});f&&(p+=`
${g8(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class TP extends H{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Pa({abi:n,args:r,name:o}),l=c?_P({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?as(c,{includeName:!0}):void 0,d=hh({address:s&&e8(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class _b extends H{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=kB({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=xP[f]}else{const f=u?as(u,{includeName:!0}):void 0,g=u&&h?_P({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",g&&g!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof A2&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class DB extends H{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class BB extends H{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class ag extends H{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function qw(t,e){var r,s,i,o,a,c;if(!(t instanceof H))return!1;const n=t.walk(l=>l instanceof _b);return n instanceof _b?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===xP[50]):!1}function $B(t){const{abi:e,data:n}=t,r=oa(n,0,4),s=e.find(i=>i.type==="function"&&r===yh(as(i)));if(!s)throw new G5(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?mh(s.inputs,oa(n,4)):void 0}}const bm="/docs/contract/encodeErrorResult";function XE(t){const{abi:e,errorName:n,args:r}=t;let s=e[0];if(n){const c=Pa({abi:e,args:r,name:n});if(!c)throw new OE(n,{docsPath:bm});s=c}if(s.type!=="error")throw new OE(void 0,{docsPath:bm});const i=as(s),o=yh(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new q5(s.name,{docsPath:bm});a=po(s.inputs,r)}return tr([o,a])}const wm="/docs/contract/encodeFunctionResult";function LB(t){const{abi:e,functionName:n,result:r}=t;let s=e[0];if(n){const o=Pa({abi:e,name:n});if(!o)throw new Zc(n,{docsPath:wm});s=o}if(s.type!=="function")throw new Zc(void 0,{docsPath:wm});if(!s.outputs)throw new x2(s.name,{docsPath:wm});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new _2(r)})();return po(s.outputs,i)}const OP="x-batch-gateway:true";async function bme(t){const{data:e,ccipRequest:n}=t,{args:[r]}=$B({abi:vb,data:e}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=FB(c)}})),LB({abi:vb,functionName:"query",result:[s,i]})}function FB(t){return t.name==="HttpRequestError"&&t.status?XE({abi:vb,errorName:"HttpError",args:[t.status,t.shortMessage]}):XE({abi:[SP],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function RP(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return ro(e)?e:null}function kf(t){let e=new Uint8Array(32).fill(0);if(!t)return dn(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=RP(n[r]),i=s?Cl(s):En(Nc(n[r]),"bytes");e=En(mi([e,i]),"bytes")}return dn(e)}function UB(t){return`[${t.slice(2)}]`}function MB(t){const e=new Uint8Array(32).fill(0);return t?RP(t)||En(Nc(t)):dn(e)}function cg(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Nc(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=Nc(s[i]);o.byteLength>255&&(o=Nc(UB(MB(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const zB=3;function ua(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof ag?t:t instanceof H?t.walk(g=>"data"in g)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof ah?new DB({functionName:i}):[zB,aa.code].includes(c)&&(l||u||d||h)?new _b({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof kw?u:h??d}):t;return new TP(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const VB="0x82ad56cb",NP="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",jB="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",HB="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function kP(t,{docsPath:e,...n}){const r=(()=>{const s=tg(t,n);return s instanceof dh?t:s})();return new PP(r,{docsPath:e,...n})}function Ww(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const vm=new Map;function DP({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<u.length;f++){const{resolve:g}=u[f];g==null||g([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:g}=u[f];g==null||g(h)}})},o=()=>vm.delete(e),a=()=>c().map(({args:u})=>u),c=()=>vm.get(e)||[],l=u=>vm.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=Ww();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(i,r),d)}}}async function bh(t,e){var N,B,F,_;const{account:n=t.account,batch:r=!!((N=t.batch)!=null&&N.multicall),blockNumber:s,blockTag:i="latest",accessList:o,blobs:a,code:c,data:l,factory:u,factoryData:d,gas:h,gasPrice:f,maxFeePerBlobGas:g,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,to:b,value:w,stateOverride:E,...C}=e,I=n?xt(n):void 0;if(c&&(u||d))throw new H("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&b)throw new H("Cannot provide both `code` & `to` as parameters.");const A=c&&l,x=u&&d&&b&&l,v=A||x,R=A?GB({code:c,data:l}):x?KB({data:l,factory:u,factoryData:d,to:b}):l;try{_a(e);const S=(s?fe(s):void 0)||i,D=Lw(E),k=(_=(F=(B=t.chain)==null?void 0:B.formatters)==null?void 0:F.transactionRequest)==null?void 0:_.format,L=(k||Sa)({...ng(C,{format:k}),from:I==null?void 0:I.address,accessList:o,blobs:a,data:R,gas:h,gasPrice:f,maxFeePerBlobGas:g,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,to:v?void 0:b,value:w});if(r&&qB({request:L})&&!D)try{return await WB(t,{...L,blockNumber:s,blockTag:i})}catch(V){if(!(V instanceof H2)&&!(V instanceof lb))throw V}const U=await t.request({method:"eth_call",params:D?[L,S,D]:[L,S]});return U==="0x"?{data:void 0}:{data:U}}catch(T){const S=YB(T),{offchainLookup:D,offchainLookupSignature:k}=await Kn(async()=>{const{offchainLookup:O,offchainLookupSignature:L}=await import("./ccip-BoiQ1pDD.js");return{offchainLookup:O,offchainLookupSignature:L}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]));if(t.ccipRead!==!1&&(S==null?void 0:S.slice(0,10))===k&&b)return{data:await D(t,{data:S,to:b})};throw v&&(S==null?void 0:S.slice(0,10))==="0x101bb98d"?new BB({factory:u}):kP(T,{...e,account:I,chain:t.chain})}}function qB({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(VB)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function WB(t,e){var p;const{batchSize:n=1024,wait:r=0}=typeof((p=t.batch)==null?void 0:p.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new H2;l=Tl({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(s?fe(s):void 0)||i,{schedule:h}=DP({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(m){return m.reduce((b,{data:w})=>b+(w.length-2),0)>n*2},fn:async m=>{const y=m.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),b=Ot({abi:wb,args:[y],functionName:"aggregate3"}),w=await t.request({method:"eth_call",params:[{data:b,to:l},d]});return Ta({abi:wb,args:[y],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:f,success:g}]=await h({data:o,to:c});if(!g)throw new ag({data:f});return f==="0x"?{data:void 0}:{data:f}}function GB(t){const{code:e,data:n}=t;return eg({abi:Pt(["constructor(bytes, bytes)"]),bytecode:NP,args:[e,n]})}function KB(t){const{data:e,factory:n,factoryData:r,to:s}=t;return eg({abi:Pt(["constructor(address, bytes, address, bytes)"]),bytecode:jB,args:[s,e,n,r]})}function YB(t){var n;if(!(t instanceof H))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function cs(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=Ot({abi:n,args:s,functionName:i});try{const{data:c}=await ue(t,bh,"call")({...o,data:a,to:r});return Ta({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw ua(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function BP(t,e){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Tl({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(d=>i.endsWith(d)))return null;try{const d=Ot({abi:GE,functionName:"addr",...s!=null?{args:[kf(i),BigInt(s)]}:{args:[kf(i)]}}),h={address:l,abi:uP,functionName:"resolve",args:[he(cg(i)),d,o??[OP]],blockNumber:n,blockTag:r},g=await ue(t,cs,"readContract")(h);if(g[0]==="0x")return null;const p=Ta({abi:GE,args:s!=null?[kf(i),BigInt(s)]:void 0,functionName:"addr",data:g[0]});return p==="0x"||os(p)==="0x00"?null:p}catch(d){if(a)throw d;if(qw(d,"resolve"))return null;throw d}}class QB extends H{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Xl extends H{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Gw extends H{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class ZB extends H{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const JB=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,XB=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,e$=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,t$=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function n$(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function e1(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function $P({uri:t,gatewayUrls:e}){const n=e$.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=e1(e==null?void 0:e.ipfs,"https://ipfs.io"),s=e1(e==null?void 0:e.arweave,"https://arweave.net"),i=t.match(JB),{protocol:o,subpath:a,target:c,subtarget:l=""}=(i==null?void 0:i.groups)||{},u=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||XB.test(t);if(t.startsWith("http")&&!u&&!d){let f=t;return e!=null&&e.arweave&&(f=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:f,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let h=t.replace(t$,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new Gw({uri:t})}function LP(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new QB({data:t});return t.image||t.image_url||t.image_data}async function r$({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await Kw({gatewayUrls:t,uri:LP(n)})}catch{throw new Gw({uri:e})}}async function Kw({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=$P({uri:e,gatewayUrls:t});if(r||await n$(n))return n;throw new Gw({uri:e})}function s$(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=e.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new Xl({reason:"Only EIP-155 supported"});if(!o)throw new Xl({reason:"Chain ID not found"});if(!c)throw new Xl({reason:"Contract address not found"});if(!s)throw new Xl({reason:"Token ID not found"});if(!a)throw new Xl({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function i$(t,{nft:e}){if(e.namespace==="erc721")return cs(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return cs(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new ZB({namespace:e.namespace})}async function o$(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?a$(t,{gatewayUrls:e,record:n}):Kw({uri:n,gatewayUrls:e})}async function a$(t,{gatewayUrls:e,record:n}){const r=s$(n),s=await i$(t,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=$P({uri:s,gatewayUrls:e});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const l=a?atob(i.replace("data:application/json;base64,","")):i,u=JSON.parse(l);return Kw({uri:LP(u),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),r$({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,c)})}async function FP(t,e){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Tl({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(d=>i.endsWith(d)))return null;try{const d={address:l,abi:uP,functionName:"resolve",args:[he(cg(i)),Ot({abi:WE,functionName:"text",args:[kf(i),s]}),o??[OP]],blockNumber:n,blockTag:r},f=await ue(t,cs,"readContract")(d);if(f[0]==="0x")return null;const g=Ta({abi:WE,functionName:"text",data:f[0]});return g===""?null:g}catch(d){if(a)throw d;if(qw(d,"resolve"))return null;throw d}}async function UP(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await ue(t,FP,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await o$(t,{record:c,gatewayUrls:r})}catch{return null}}async function MP(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Tl({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:O8,functionName:"reverse",args:[he(cg(c))],blockNumber:n,blockTag:r},u=ue(t,cs,"readContract"),[d,h]=s?await u({...l,args:[...l.args,s]}):await u(l);return e.toLowerCase()!==h.toLowerCase()?null:d}catch(l){if(i)throw l;if(qw(l,"reverse"))return null;throw l}}async function c$(t,e){const{blockNumber:n,blockTag:r,name:s}=e,{chain:i}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return Tl({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i==null?void 0:i.ensTlds;if(a&&!a.some(l=>s.endsWith(l)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await ue(t,cs,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[he(cg(s))],blockNumber:n,blockTag:r});return c}async function zP(t,e){var m,y,b;const{account:n=t.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:h,value:f,...g}=e,p=n?xt(n):void 0;try{_a(e);const E=(r?fe(r):void 0)||s,C=(b=(y=(m=t.chain)==null?void 0:m.formatters)==null?void 0:y.transactionRequest)==null?void 0:b.format,A=(C||Sa)({...ng(g,{format:C}),from:p==null?void 0:p.address,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:h,value:f}),x=await t.request({method:"eth_createAccessList",params:[A,E]});return{accessList:x.accessList,gasUsed:BigInt(x.gasUsed)}}catch(w){throw kP(w,{...e,account:p,chain:t.chain})}}function lg(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function l$(t){const e=lg(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}class u$ extends H{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const t1="/docs/contract/encodeEventTopics";function wh(t){var c;const{abi:e,eventName:n,args:r}=t;let s=e[0];if(n){const l=Pa({abi:e,name:n});if(!l)throw new RE(n,{docsPath:t1});s=l}if(s.type!=="event")throw new RE(void 0,{docsPath:t1});const i=as(s),o=og(i);let a=[];if(r&&"inputs"in s){const l=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(d=>r[d.name]))??[]:[];u.length>0&&(a=(l==null?void 0:l.map((d,h)=>Array.isArray(u[h])?u[h].map((f,g)=>n1({param:d,value:u[h][g]})):typeof u[h]<"u"&&u[h]!==null?n1({param:d,value:u[h]}):null))??[])}return[o,...a]}function n1({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return En(Cl(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new u$(t.type);return po([t],[e])}async function Yw(t,e){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=e,l=lg(t,{method:"eth_newFilter"}),u=i?wh({abi:r,args:s,eventName:i}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?fe(o):o,toBlock:typeof c=="bigint"?fe(c):c,topics:u}]});return{abi:r,args:s,eventName:i,id:d,request:l(d),strict:!!a,type:"event"}}async function VP(t,{address:e,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),l=lg(t,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(f=>wh({abi:[f],eventName:f.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?fe(i):i,toBlock:typeof a=="bigint"?fe(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:l(d),strict:!!o,toBlock:a,type:"event"}}async function jP(t){const e=lg(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function HP(t,e){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=e,c=Ot({abi:n,args:s,functionName:i});try{return await ue(t,sg,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(l){const u=a.account?xt(a.account):void 0;throw ua(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:u==null?void 0:u.address})}}async function d$(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}const h$=new Map,f$=new Map;function p$(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,h$),r=e(t,f$);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function g$(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=p$(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const m$=t=>`blockNumber.${t}`;async function vh(t,{cacheTime:e=t.cacheTime}={}){const n=await g$(()=>t.request({method:"eth_blockNumber"}),{cacheKey:m$(t.uid),cacheTime:e});return BigInt(n)}async function y$(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?fe(n):void 0;let i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),is(i)}async function r1(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?fe(n):void 0,i=await t.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if(i!=="0x")return i}function ug(t,e){if(!Lt(t,{strict:!1}))throw new Cn({address:t});if(!Lt(e,{strict:!1}))throw new Cn({address:e});return t.toLowerCase()===e.toLowerCase()}const s1="/docs/contract/decodeEventLog";function Qw(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new W5({docsPath:s1});const c=e.length===1?e[0]:e.find(p=>p.type==="event"&&o===og(as(p)));if(!(c&&"name"in c)||c.type!=="event")throw new I2(o,{docsPath:s1});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(p=>!("name"in p&&p.name));let h=d?[]:{};const f=u.filter(p=>"indexed"in p&&p.indexed);for(let p=0;p<f.length;p++){const m=f[p],y=a[p];if(!y)throw new Zp({abiItem:c,param:m});h[d?p:m.name||p]=b$({param:m,value:y})}const g=u.filter(p=>!("indexed"in p&&p.indexed));if(g.length>0){if(n&&n!=="0x")try{const p=mh(g,n);if(p)if(d)h=[...h,...p];else for(let m=0;m<g.length;m++)h[g[m].name]=p[m]}catch(p){if(i)throw p instanceof E2||p instanceof M2?new Zu({abiItem:c,data:n,params:g,size:$t(n)}):p}else if(i)throw new Zu({abiItem:c,data:"0x",params:g,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function b$({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(mh([t],e)||[])[0]}function md(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===og(u));if(!c)return null;const l=Qw({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!w$({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof I2)return null;if(c instanceof Zu||c instanceof Zp){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function w$(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?ug(o,a):i.type==="string"||i.type==="bytes"?En(Cl(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function bi(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Zw(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const l=c??!1,u=o??(i?[i]:void 0);let d=[];u&&(d=[u.flatMap(p=>wh({abi:[p],eventName:p.name,args:o?void 0:a}))],i&&(d=d[0]));let h;n?h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?fe(r):r,toBlock:typeof s=="bigint"?fe(s):s}]});const f=h.map(g=>bi(g));return u?md({abi:u,args:a,logs:f,strict:l}):f}async function Jw(t,e){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:l}=e,u=o?Pa({abi:n,name:o}):void 0,d=u?void 0:n.filter(h=>h.type==="event");return ue(t,Zw,"getLogs")({address:r,args:s,blockHash:i,event:u,events:d,fromBlock:a,toBlock:c,strict:l})}class v$ extends H{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function E$(t,e){const{address:n,factory:r,factoryData:s}=e;try{const[i,o,a,c,l,u,d]=await ue(t,cs,"readContract")({abi:C$,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:l,salt:u},extensions:d,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new v$({address:n}):o}}const C$=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function A$(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function I$(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=n?fe(n):void 0,o=await t.request({method:"eth_feeHistory",params:[fe(e),i||r,s]},{dedupe:!!i});return A$(o)}async function dg(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>bi(i));return!("abi"in e)||!e.abi?s:md({abi:e.abi,logs:s,strict:n})}async function x$(t,{filter:e}){const n=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(i=>bi(i));return e.abi?md({abi:e.abi,logs:s,strict:n}):s}async function S$(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?fe(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,i||r]})}async function hg(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,h;const o=r||"latest",a=n!==void 0?fe(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,fe(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,fe(i)]},{dedupe:!!a}),!c)throw new W2({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||ph)(c)}async function _$(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([ue(t,vh,"getBlockNumber")({}),e?ue(t,hg,"getTransaction")({hash:e}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}const qP={"0x0":"reverted","0x1":"success"};function WP(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>bi(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?is(t.transactionIndex):null,status:t.status?qP[t.status]:null,type:t.type?Q2[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const P$=rg("transactionReceipt",WP);async function Pb(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new G2({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||WP)(n)}async function GP(t,e){var m;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:i,multicallAddress:o,stateOverride:a}=e,c=e.contracts,l=r??(typeof((m=t.batch)==null?void 0:m.multicall)=="object"&&t.batch.multicall.batchSize||1024);let u=o;if(!u){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");u=Tl({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=[[]];let h=0,f=0;for(let y=0;y<c.length;y++){const{abi:b,address:w,args:E,functionName:C}=c[y];try{const I=Ot({abi:b,args:E,functionName:C});f+=(I.length-2)/2,l>0&&f>l&&d[h].length>0&&(h++,f=(I.length-2)/2,d[h]=[]),d[h]=[...d[h],{allowFailure:!0,callData:I,target:w}]}catch(I){const A=ua(I,{abi:b,address:w,args:E,docsPath:"/docs/contract/multicall",functionName:C});if(!n)throw A;d[h]=[...d[h],{allowFailure:!0,callData:"0x",target:w}]}}const g=await Promise.allSettled(d.map(y=>ue(t,cs,"readContract")({abi:wb,address:u,args:[y],blockNumber:s,blockTag:i,functionName:"aggregate3",stateOverride:a}))),p=[];for(let y=0;y<g.length;y++){const b=g[y];if(b.status==="rejected"){if(!n)throw b.reason;for(let E=0;E<d[y].length;E++)p.push({status:"failure",error:b.reason,result:void 0});continue}const w=b.value;for(let E=0;E<w.length;E++){const{returnData:C,success:I}=w[E],{callData:A}=d[y][E],{abi:x,address:v,functionName:R,args:N}=c[p.length];try{if(A==="0x")throw new ah;if(!I)throw new ag({data:C});const B=Ta({abi:x,args:N,data:C,functionName:R});p.push(n?{result:B,status:"success"}:B)}catch(B){const F=ua(B,{abi:x,address:v,args:N,docsPath:"/docs/contract/multicall",functionName:R});if(!n)throw F;p.push({error:F,result:void 0,status:"failure"})}}}if(p.length!==c.length)throw new H("multicall results mismatch");return p}const T$="0.1.1";function O$(){return T$}let Ft=class Tb extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof Tb){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Tb&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${O$()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return KP(this,e)}};function KP(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?KP(t.cause,e):e?null:t}const R$="#__bigint";function N$(t,e,n){return JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString()+R$:s,n)}function k$(t,e){if(o1(t)>e)throw new j$({givenSize:o1(t),maxSize:e})}const js={zero:48,nine:57,A:65,F:70,a:97,f:102};function i1(t){if(t>=js.zero&&t<=js.nine)return t-js.zero;if(t>=js.A&&t<=js.F)return t-(js.A-10);if(t>=js.a&&t<=js.f)return t-(js.a-10)}function D$(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new H$({size:t.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=t[o?i:t.length-i-1]}return s}function Xw(t,e){if(Lr(t)>e)throw new Y$({givenSize:Lr(t),maxSize:e})}function B$(t,e){if(typeof e=="number"&&e>0&&e>Lr(t)-1)throw new XP({offset:e,position:"start",size:Lr(t)})}function $$(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Lr(t)!==n-e)throw new XP({offset:n,position:"end",size:Lr(t)})}function YP(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new Q$({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const L$=new TextEncoder;function F$(t){return t instanceof Uint8Array?t:typeof t=="string"?M$(t):U$(t)}function U$(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function M$(t,e={}){const{size:n}=e;let r=t;n&&(Xw(t,n),r=ha(t,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const l=i1(s.charCodeAt(c++)),u=i1(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new Ft(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=l*16+u}return o}function z$(t,e={}){const{size:n}=e,r=L$.encode(t);return typeof n=="number"?(k$(r,n),V$(r,n)):r}function V$(t,e){return D$(t,{dir:"right",size:e})}function o1(t){return t.length}let j$=class extends Ft{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},H$=class extends Ft{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const q$=new TextEncoder,W$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function G$(t,e={}){const{strict:n=!1}=e;if(!t)throw new a1(t);if(typeof t!="string")throw new a1(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new c1(t);if(!t.startsWith("0x"))throw new c1(t)}function Ls(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function QP(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Xw(n,e.size),da(n,e.size)):n}function ZP(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=W$[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Xw(r,e.size),ha(r,e.size)):r}function Dn(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new JP({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?da(c,r):c}function ev(t,e={}){return ZP(q$.encode(t),e)}function da(t,e){return YP(t,{dir:"left",size:e})}function ha(t,e){return YP(t,{dir:"right",size:e})}function tv(t,e,n,r={}){const{strict:s}=r;B$(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&$$(i,e,n),i}function Lr(t){return Math.ceil((t.length-2)/2)}function K$(t,e={}){const{strict:n=!1}=e;try{return G$(t,{strict:n}),!0}catch{return!1}}let JP=class extends Ft{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class a1 extends Ft{constructor(e){super(`Value \`${typeof e=="object"?N$(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class c1 extends Ft{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Y$=class extends Ft{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class XP extends Ft{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let Q$=class extends Ft{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Z$(t){return{address:t.address,amount:Dn(t.amount),index:Dn(t.index),validatorIndex:Dn(t.validatorIndex)}}function J$(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Dn(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Dn(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Dn(t.gasLimit)},...typeof t.number=="bigint"&&{number:Dn(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Dn(t.prevRandao)},...typeof t.time=="bigint"&&{time:Dn(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Z$)}}}async function Ob(t,e){const{blockNumber:n,blockTag:r="latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=e;try{const c=[];for(const h of s){const f=h.blockOverrides?J$(h.blockOverrides):void 0,g=h.calls.map(m=>{const y=m,b=y.account?xt(y.account):void 0,w={...y,data:y.abi?Ot(y):y.data,from:y.from??(b==null?void 0:b.address)};return _a(w),Sa(w)}),p=h.stateOverrides?Lw(h.stateOverrides):void 0;c.push({blockOverrides:f,calls:g,stateOverrides:p})}const u=(n?fe(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},u]})).map((h,f)=>({...Bw(h),calls:h.calls.map((g,p)=>{var R,N;const{abi:m,args:y,functionName:b,to:w}=s[f].calls[p],E=((R=g.error)==null?void 0:R.data)??g.returnData,C=BigInt(g.gasUsed),I=(N=g.logs)==null?void 0:N.map(B=>bi(B)),A=g.status==="0x1"?"success":"failure",x=m&&A==="success"&&E!=="0x"?Ta({abi:m,data:E,functionName:b}):null,v=(()=>{var F;if(A==="success")return;let B;if(((F=g.error)==null?void 0:F.data)==="0x"?B=new ah:g.error&&(B=new ag(g.error)),!!B)return ua(B,{abi:m??[],address:w,args:y,functionName:b??"<unknown>"})})();return{data:E,gasUsed:C,logs:I,status:A,...A==="success"?{result:x}:{error:v}}})}))}catch(c){const l=c,u=tg(l,{});throw u instanceof dh?l:u}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function X$(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function l1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function yd(t,...e){if(!X$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function u1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function e4(t,e){yd(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function t4(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function eT(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Ime(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xme(t,e){return t<<32-e|t>>>e}const n4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function r4(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function s4(t){for(let e=0;e<t.length;e++)t[e]=r4(t[e]);return t}const d1=n4?t=>t:s4,i4=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",o4=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Sme(t){if(yd(t),i4)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=o4[t[n]];return e}function a4(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function tT(t){return typeof t=="string"&&(t=a4(t)),yd(t),t}let c4=class{};function l4(t){const e=r=>t().update(tT(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const Vh=BigInt(2**32-1),h1=BigInt(32);function u4(t,e=!1){return e?{h:Number(t&Vh),l:Number(t>>h1&Vh)}:{h:Number(t>>h1&Vh)|0,l:Number(t&Vh)|0}}function d4(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=u4(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const h4=(t,e,n)=>t<<n|e>>>32-n,f4=(t,e,n)=>e<<n|t>>>32-n,p4=(t,e,n)=>e<<n-32|t>>>64-n,g4=(t,e,n)=>t<<n-32|e>>>64-n,m4=BigInt(0),eu=BigInt(1),y4=BigInt(2),b4=BigInt(7),w4=BigInt(256),v4=BigInt(113),nT=[],rT=[],sT=[];for(let t=0,e=eu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],nT.push(2*(5*r+n)),rT.push((t+1)*(t+2)/2%64);let s=m4;for(let i=0;i<7;i++)e=(e<<eu^(e>>b4)*v4)%w4,e&y4&&(s^=eu<<(eu<<BigInt(i))-eu);sT.push(s)}const iT=d4(sT,!0),E4=iT[0],C4=iT[1],f1=(t,e,n)=>n>32?p4(t,e,n):h4(t,e,n),p1=(t,e,n)=>n>32?g4(t,e,n):f4(t,e,n);function A4(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=f1(l,u,1)^n[a],h=p1(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=rT[o],c=f1(s,i,a),l=p1(s,i,a),u=nT[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=E4[r],t[1]^=C4[r]}eT(n)}let I4=class oT extends c4{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,l1(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=t4(this.state)}clone(){return this._cloneInto()}keccak(){d1(this.state32),A4(this.state32,this.rounds),d1(this.state32),this.posOut=0,this.pos=0}update(e){u1(this),e=tT(e),yd(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){u1(this,!1),yd(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return l1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(e4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,eT(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new oT(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const x4=(t,e,n)=>l4(()=>new I4(e,t,n)),S4=x4(1,136,256/8);function aT(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=S4(F$(t));return n==="Bytes"?r:ZP(r)}let _4=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const P4={checksum:new _4(8192)},Em=P4.checksum,T4=/^0x[a-fA-F0-9]{40}$/;function fg(t,e={}){const{strict:n=!0}=e;if(!T4.test(t))throw new g1({address:t,cause:new R4});if(n){if(t.toLowerCase()===t)return;if(O4(t)!==t)throw new g1({address:t,cause:new N4})}}function O4(t){if(Em.has(t))return Em.get(t);fg(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=aT(z$(e),{as:"Bytes"}),r=e.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return Em.set(t,s),s}function Rb(t,e={}){const{strict:n=!0}=e??{};try{return fg(t,{strict:n}),!0}catch{return!1}}class g1 extends Ft{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class R4 extends Ft{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class N4 extends Ft{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function Nb(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new Ft("Unable to normalize signature.");return s}function kb(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Rb(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>kb(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>kb(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function cT(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return cT(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Rb(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Rb(n[r],{strict:!1}):!1)return o}}function lT(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?ZE(t):t;return{...r,...n?{hash:Sc(r)}:{}}}function k4(t,e,n){const{args:r=[],prepare:s=!0}=n??{},i=K$(e,{strict:!1}),o=t.filter(l=>i?l.type==="function"||l.type==="error"?uT(l)===tv(e,0,4):l.type==="event"?Sc(l)===e:!1:"name"in l&&l.name===e);if(o.length===0)throw new Db({name:e});if(o.length===1)return{...o[0],...s?{hash:Sc(o[0])}:{}};let a;for(const l of o){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...s?{hash:Sc(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((d,h)=>{const f="inputs"in l&&l.inputs[h];return f?kb(d,f):!1})){if(a&&"inputs"in a&&a.inputs){const d=cT(l.inputs,a.inputs,r);if(d)throw new B4({abiItem:l,type:d[0]},{abiItem:a,type:d[1]})}a=l}}const c=(()=>{if(a)return a;const[l,...u]=o;return{...l,overloads:u}})();if(!c)throw new Db({name:e});return{...c,...s?{hash:Sc(c)}:{}}}function uT(t){return tv(Sc(t),0,4)}function D4(t){const e=typeof t=="string"?t:sp(t);return Nb(e)}function Sc(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:aT(ev(D4(t)))}class B4 extends Ft{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${Nb(sp(e.abiItem))}\`, and`,`\`${n.type}\` in \`${Nb(sp(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Db extends Ft{constructor({name:e,data:n,type:r="item"}){const s=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const $4=/^(.*)\[([0-9]*)\]$/,L4=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,dT=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function F4({checksumAddress:t,parameters:e,values:n}){const r=[];for(let s=0;s<e.length;s++)r.push(nv({checksumAddress:t,parameter:e[s],value:n[s]}));return r}function nv({checksumAddress:t=!1,parameter:e,value:n}){const r=e,s=W4(r.type);if(s){const[i,o]=s;return M4(n,{checksumAddress:t,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return q4(n,{checksumAddress:t,parameter:r});if(r.type==="address")return U4(n,{checksum:t});if(r.type==="bool")return V4(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=dT.exec(r.type)??[];return j4(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return z4(n,{type:r.type});if(r.type==="string")return H4(n);throw new gT(r.type)}function rv(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Lr(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(Dn(e+s,{size:32})),r.push(a),s+=Lr(a)):n.push(a)}return Ls(...n,...r)}function U4(t,e){const{checksum:n=!1}=e;return fg(t,{strict:n}),{dynamic:!1,encoded:da(t.toLowerCase())}}function M4(t,e){const{checksumAddress:n,length:r,parameter:s}=e,i=r===null;if(!Array.isArray(t))throw new K4(t);if(!i&&t.length!==r)throw new G4({expectedLength:r,givenLength:t.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<t.length;c++){const l=nv({checksumAddress:n,parameter:s,value:t[c]});l.dynamic&&(o=!0),a.push(l)}if(i||o){const c=rv(a);if(i){const l=Dn(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ls(l,c):l}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Ls(...a.map(({encoded:c})=>c))}}function z4(t,{type:e}){const[,n]=e.split("bytes"),r=Lr(t);if(!n){let s=t;return r%32!==0&&(s=ha(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Ls(da(Dn(r,{size:32})),s)}}if(r!==Number.parseInt(n))throw new fT({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:ha(t)}}function V4(t){if(typeof t!="boolean")throw new Ft(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:da(QP(t))}}function j4(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new JP({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Dn(t,{size:32,signed:e})}}function H4(t){const e=ev(t),n=Math.ceil(Lr(e)/32),r=[];for(let s=0;s<n;s++)r.push(ha(tv(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:Ls(ha(Dn(Lr(e),{size:32})),...r)}}function q4(t,e){const{checksumAddress:n,parameter:r}=e;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(t)?o:a.name,l=nv({checksumAddress:n,parameter:a,value:t[c]});i.push(l),l.dynamic&&(s=!0)}return{dynamic:s,encoded:s?rv(i):Ls(...i.map(({encoded:o})=>o))}}function W4(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function hT(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new pT({expectedLength:t.length,givenLength:e.length});const s=F4({checksumAddress:r,parameters:t,values:e}),i=rv(s);return i.length===0?"0x":i}function Bb(t,e){if(t.length!==e.length)throw new pT({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r];n.push(Bb.encode(s,i))}return Ls(...n)}(function(t){function e(n,r,s=!1){if(n==="address"){const c=r;return fg(c),da(c.toLowerCase(),s?32:0)}if(n==="string")return ev(r);if(n==="bytes")return r;if(n==="bool")return da(QP(r),s?32:1);const i=n.match(dT);if(i){const[c,l,u="256"]=i,d=Number.parseInt(u)/8;return Dn(r,{size:s?32:d,signed:l==="int"})}const o=n.match(L4);if(o){const[c,l]=o;if(Number.parseInt(l)!==(r.length-2)/2)throw new fT({expectedSize:Number.parseInt(l),value:r});return ha(r,s?32:0)}const a=n.match($4);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let d=0;d<r.length;d++)u.push(e(l,r[d],!0));return u.length===0?"0x":Ls(...u)}throw new gT(n)}t.encode=e})(Bb||(Bb={}));class G4 extends Ft{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class fT extends Ft{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Lr(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class pT extends Ft{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class K4 extends Ft{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class gT extends Ft{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Y4(t,e){var s;const{bytecode:n,args:r}=e;return Ls(n,(s=t.inputs)!=null&&s.length&&(r!=null&&r.length)?hT(t.inputs,r):"0x")}function Q4(t){return lT(t)}function Z4(t,...e){const{overloads:n}=t,r=n?J4([t,...n],t.name,{args:e[0]}):t,s=X4(r),i=e.length>0?hT(r.inputs,e[0]):void 0;return i?Ls(s,i):s}function ja(t,e={}){return lT(t,e)}function J4(t,e,n){const r=k4(t,e,n);if(r.type!=="function")throw new Db({name:e,type:"function"});return r}function X4(t){return uT(t)}const eL="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ys="0x0000000000000000000000000000000000000000",jh=new Jp(8192);function tL(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(jh.get(n))return jh.get(n);const r=t().finally(()=>jh.delete(n));return jh.set(n,r),r}async function ip(t){return new Promise(e=>setTimeout(e,t))}function op(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await ip(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function nL(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new Uo(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new Uo(new Error("method not supported"),{method:l});const u=s?Qc(`${c}.${Kt(n)}`):void 0;return tL(()=>op(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case Ju.code:throw new Ju(f);case Xu.code:throw new Xu(f);case ed.code:throw new ed(f,{method:n.method});case td.code:throw new td(f);case aa.code:throw new aa(f);case ca.code:throw new ca(f);case nd.code:throw new nd(f);case Ji.code:throw new Ji(f);case el.code:throw new el(f);case Uo.code:throw new Uo(f,{method:n.method});case tl.code:throw new tl(f);case rd.code:throw new rd(f);case qt.code:throw new qt(f);case sd.code:throw new sd(f);case id.code:throw new id(f);case od.code:throw new od(f);case ad.code:throw new ad(f);case $s.code:throw new $s(f);case cd.code:throw new cd(f);case ld.code:throw new ld(f);case ud.code:throw new ud(f);case dd.code:throw new dd(f);case hd.code:throw new hd(f);case fd.code:throw new fd(f);case pd.code:throw new pd(f);case 5e3:throw new qt(f);default:throw h instanceof H?h:new n8(f)}}},{delay:({count:h,error:f})=>{var g;if(f&&f instanceof Fu){const p=(g=f==null?void 0:f.headers)==null?void 0:g.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>rL(h)}),{enabled:s,id:u})}}function rL(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===tl.code||t.code===aa.code:t instanceof Fu&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Oa(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function mT(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function sL(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const m1=sL();function iL(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const h=await mT(async({signal:g})=>{const p={...a,body:Array.isArray(r)?Kt(r.map(w=>({jsonrpc:"2.0",id:w.id??m1.take(),...w}))):Kt({jsonrpc:"2.0",id:r.id??m1.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?g:null)},m=new Request(t,p),y=await(s==null?void 0:s(m,p))??{...p,url:t};return await fetch(y.url??t,y)},{errorInstance:new ME({body:r,url:t}),timeout:o,signal:!0});i&&await i(h);let f;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))f=await h.json();else{f=await h.text();try{f=JSON.parse(f||"{}")}catch(g){if(h.ok)throw g;f={error:f}}}if(!h.ok)throw new Fu({body:r,details:Kt(f.error)||h.statusText,headers:h.headers,status:h.status,url:t});return f}catch(h){throw h instanceof Fu||h instanceof ME?h:new Fu({body:r,cause:h,url:t})}}}}class oL extends H{constructor({domain:e}){super(`Invalid domain "${Kt(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class aL extends H{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class cL extends H{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function lL(t){const{domain:e={},message:n,primaryType:r}=t,s={EIP712Domain:CT({domain:e}),...t.types};ET({domain:e,message:n,primaryType:r,types:s});const i=["0x1901"];return e&&i.push(uL({domain:e,types:s})),r!=="EIP712Domain"&&i.push(yT({data:n,primaryType:r,types:s})),En(mi(i))}function uL({domain:t,types:e}){return yT({data:t,primaryType:"EIP712Domain",types:e})}function yT({data:t,primaryType:e,types:n}){const r=bT({data:t,primaryType:e,types:n});return En(r)}function bT({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[dL({primaryType:e,types:n})];for(const i of n[e]){const[o,a]=vT({types:n,name:i.name,type:i.type,value:t[i.name]});r.push(o),s.push(a)}return po(r,s)}function dL({primaryType:t,types:e}){const n=he(hL({primaryType:t,types:e}));return En(n)}function hL({primaryType:t,types:e}){let n="";const r=wT({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const i of s)n+=`${i}(${e[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function wT({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const i of e[s])wT({primaryType:i.type,types:e},n);return n}function vT({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},En(bT({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},En(r)];if(n==="string")return[{type:"bytes32"},En(he(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>vT({name:e,type:s,types:t,value:o}));return[{type:"bytes32"},En(po(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}function fL(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},o=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return Kt({domain:o,message:a,primaryType:r,types:s})}function ET(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(Sw);if(h&&(typeof d=="number"||typeof d=="bigint")){const[p,m,y]=h;fe(d,{signed:m==="int",size:Number.parseInt(y)/8})}if(u==="address"&&typeof d=="string"&&!Lt(d))throw new Cn({address:d});const f=u.match(F2);if(f){const[p,m]=f;if(m&&$t(d)!==Number.parseInt(m))throw new S2({expectedSize:Number.parseInt(m),givenSize:$t(d)})}const g=s[u];g&&(pL(u),i(g,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new oL({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new aL({primaryType:r,types:s})}function CT({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function pL(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new cL({type:t})}function gL(t,e){if(t.length!==e.length)throw new C2({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r];n.push(AT(s,i))}return tr(n)}function AT(t,e,n=!1){if(t==="address"){const o=e;if(!Lt(o))throw new Cn({address:o});return om(o.toLowerCase(),{size:n?32:null})}if(t==="string")return Qc(e);if(t==="bytes")return e;if(t==="bool")return om(r2(e),{size:n?32:1});const r=t.match(Sw);if(r){const[o,a,c="256"]=r,l=Number.parseInt(c)/8;return fe(e,{size:n?32:l,signed:a==="int"})}const s=t.match(F2);if(s){const[o,a]=s;if(Number.parseInt(a)!==(e.length-2)/2)throw new S2({expectedSize:Number.parseInt(a),givenSize:(e.length-2)/2});return om(e,{dir:"right",size:n?32:null})}const i=t.match(x3);if(i&&Array.isArray(e)){const[o,a]=i,c=[];for(let l=0;l<e.length;l++)c.push(AT(a,e[l],!0));return c.length===0?"0x":tr(c)}throw new J5(t)}function mL(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,s=n.address;if(!Lt(s))throw new Cn({address:s});if(r<0)throw new uh({chainId:r})}sv(t)}function yL(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new iP;for(const n of e){const r=$t(n),s=is(oa(n,0,1));if(r!==32)throw new S8({hash:n,size:r});if(s!==sP)throw new _8({hash:n,version:s})}}sv(t)}function sv(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=t;if(e<=0)throw new uh({chainId:e});if(s&&!Lt(s))throw new Cn({address:s});if(r&&r>fh)throw new oo({maxFeePerGas:r});if(n&&r&&n>r)throw new Xc({maxFeePerGas:r,maxPriorityFeePerGas:n})}function bL(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=t;if(e<=0)throw new uh({chainId:e});if(i&&!Lt(i))throw new Cn({address:i});if(n||s)throw new H("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>fh)throw new oo({maxFeePerGas:r})}function wL(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=t;if(i&&!Lt(i))throw new Cn({address:i});if(typeof e<"u"&&e<=0)throw new uh({chainId:e});if(n||s)throw new H("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>fh)throw new oo({maxFeePerGas:r})}function Eh(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:s}=t[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new Z3({storageKey:s[i]});if(!Lt(r,{strict:!1}))throw new Cn({address:r});e.push([r,s])}return e}function vL(t,e){const n=aP(t);return n==="eip1559"?AL(t,e):n==="eip2930"?IL(t,e):n==="eip4844"?CL(t,e):n==="eip7702"?EL(t,e):xL(t,e)}function EL(t,e){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=t;mL(t);const h=Eh(u),f=SL(n);return tr(["0x04",yi([he(r),i?he(i):"0x",l?he(l):"0x",c?he(c):"0x",s?he(s):"0x",o??"0x",a?he(a):"0x",d??"0x",h,f,...Ol(t,e)])])}function CL(t,e){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=t;yL(t);let h=t.blobVersionedHashes,f=t.sidecars;if(t.blobs&&(typeof h>"u"||typeof f>"u")){const w=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(I=>dn(I)),E=t.kzg,C=Mw({blobs:w,kzg:E});if(typeof h>"u"&&(h=tP({commitments:C})),typeof f>"u"){const I=zw({blobs:w,commitments:C,kzg:E});f=oP({blobs:w,commitments:C,proofs:I})}}const g=Eh(u),p=[he(n),s?he(s):"0x",l?he(l):"0x",c?he(c):"0x",r?he(r):"0x",i??"0x",o?he(o):"0x",d??"0x",g,a?he(a):"0x",h??[],...Ol(t,e)],m=[],y=[],b=[];if(f)for(let w=0;w<f.length;w++){const{blob:E,commitment:C,proof:I}=f[w];m.push(E),y.push(C),b.push(I)}return tr(["0x03",yi(f?[p,m,y,b]:p)])}function AL(t,e){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=t;sv(t);const d=Eh(l),h=[he(n),s?he(s):"0x",c?he(c):"0x",a?he(a):"0x",r?he(r):"0x",i??"0x",o?he(o):"0x",u??"0x",d,...Ol(t,e)];return tr(["0x02",yi(h)])}function IL(t,e){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:l}=t;bL(t);const u=Eh(c),d=[he(n),i?he(i):"0x",l?he(l):"0x",r?he(r):"0x",o??"0x",a?he(a):"0x",s??"0x",u,...Ol(t,e)];return tr(["0x01",yi(d)])}function xL(t,e){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=t;wL(t);let l=[i?he(i):"0x",c?he(c):"0x",r?he(r):"0x",o??"0x",a?he(a):"0x",s??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const f=27n+(e.v===27n?0n:1n);if(e.v!==f)throw new Y3({v:e.v});return f})(),d=os(e.r),h=os(e.s);l=[...l,he(u),d==="0x00"?"0x":d,h==="0x00"?"0x":h]}else n>0&&(l=[...l,he(n),"0x","0x"]);return yi(l)}function Ol(t,e){const n=e??t,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=os(n.r),o=os(n.s);return[typeof s=="number"?s?he(1):"0x":r===0n?"0x":r===1n?he(1):r===27n?"0x":he(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function SL(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:s,...i}=n,o=n.address;e.push([r?he(r):"0x",o,s?he(s):"0x",...Ol({},i)])}return e}const _L=`Ethereum Signed Message:
`;function PL(t){const e=typeof t=="string"?Qc(t):typeof t.raw=="string"?t.raw:dn(t.raw),n=Qc(`${_L}${$t(e)}`);return mi([n,e])}function IT(t,e){return En(PL(t),e)}const xT="0x6492649264926492649264926492649264926492649264926492649264926492";function TL(t){return L2(t,-32)===xT}function OL(t){const{address:e,data:n,signature:r,to:s="hex"}=t,i=tr([po([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),xT]);return s==="hex"?i:pi(i)}class RL extends H{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function NL(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new RL({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const kL="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function DL(t,e){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=e,l=e.account?xt(e.account):void 0;if(o&&!l)throw new H("`account` is required when `traceAssetChanges` is true");const u=l?Y4(Q4("constructor(bytes, bytes)"),{bytecode:NP,args:[kL,Z4(ja("function getBalance(address)"),[l.address])]}):void 0,d=o?await Promise.all(e.calls.map(async O=>{if(!O.data&&!O.abi)return;const{accessList:L}=await zP(t,{account:l.address,...O,data:O.abi?Ot(O):O.data});return L.map(({address:U,storageKeys:V})=>V.length>0?U:null)})).then(O=>O.flat().filter(Boolean)):[],h=i==null?void 0:i.map(O=>O.address===(l==null?void 0:l.address)?{...O,nonce:0}:O),f=await Ob(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:u}],stateOverrides:i},{calls:d.map((O,L)=>({abi:[ja("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:O,from:ys,nonce:L})),stateOverrides:[{address:ys,nonce:0}]}]:[],{calls:[...s,{}].map((O,L)=>({...O,from:l==null?void 0:l.address,nonce:L})),stateOverrides:h},...o?[{calls:[{data:u}]},{calls:d.map((O,L)=>({abi:[ja("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:O,from:ys,nonce:L})),stateOverrides:[{address:ys,nonce:0}]},{calls:d.map((O,L)=>({to:O,abi:[ja("function decimals() returns (uint256)")],functionName:"decimals",from:ys,nonce:L})),stateOverrides:[{address:ys,nonce:0}]},{calls:d.map((O,L)=>({to:O,abi:[ja("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ys,nonce:L})),stateOverrides:[{address:ys,nonce:0}]},{calls:d.map((O,L)=>({to:O,abi:[ja("function symbol() returns (string)")],functionName:"symbol",from:ys,nonce:L})),stateOverrides:[{address:ys,nonce:0}]}]:[]],traceTransfers:a,validation:c}),g=o?f[2]:f[0],[p,m,,y,b,w,E,C]=o?f:[],{calls:I,...A}=g,x=I.slice(0,-1)??[],v=(p==null?void 0:p.calls)??[],R=(m==null?void 0:m.calls)??[],N=[...v,...R].map(O=>O.status==="success"?Gt(O.data):null),B=(y==null?void 0:y.calls)??[],F=(b==null?void 0:b.calls)??[],_=[...B,...F].map(O=>O.status==="success"?Gt(O.data):null),T=((w==null?void 0:w.calls)??[]).map(O=>O.status==="success"?O.result:null),S=((C==null?void 0:C.calls)??[]).map(O=>O.status==="success"?O.result:null),D=((E==null?void 0:E.calls)??[]).map(O=>O.status==="success"?O.result:null),k=[];for(const[O,L]of _.entries()){const U=N[O];if(typeof L!="bigint"||typeof U!="bigint")continue;const V=T[O-1],G=S[O-1],q=D[O-1],ee=O===0?{address:eL,decimals:18,symbol:"ETH"}:{address:d[O-1],decimals:q||V?Number(V??1):void 0,symbol:G??void 0};k.some(ce=>ce.token.address===ee.address)||k.push({token:ee,value:{pre:U,post:L,diff:L-U}})}return{assetChanges:k,block:A,results:x}}const Cm=new Map,y1=new Map;let BL=0;function wi(t,e,n){const r=++BL,s=()=>Cm.get(t)||[],i=()=>{const u=s();Cm.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(h=>h.id===r))return;const d=y1.get(t);u.length===1&&d&&d(),i()},a=s();if(Cm.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,g;const h=s();if(h.length!==0)for(const p of h)(g=(f=p.fns)[u])==null||g.call(f,...d)};const l=n(c);return typeof l=="function"&&y1.set(t,l),o}function Rl(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await ip(c);const l=async()=>{s&&(await t({unpoll:i}),await ip(r),l())};l()})(),i}function $L(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=t.pollingInterval}){const l=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),u=o??!1;let d;return l?(()=>{const g=Kt(["watchBlocks",t.uid,e,n,r,u,c]);return wi(g,{onBlock:s,onError:i},p=>Rl(async()=>{var m;try{const y=await ue(t,Rs,"getBlock")({blockTag:e,includeTransactions:u});if(y.number&&(d!=null&&d.number)){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let b=(d==null?void 0:d.number)+1n;b<y.number;b++){const w=await ue(t,Rs,"getBlock")({blockNumber:b,includeTransactions:u});p.onBlock(w,d),d=w}}(!(d!=null&&d.number)||e==="pending"&&!(y!=null&&y.number)||y.number&&y.number>d.number)&&(p.onBlock(y,d),d=y)}catch(y){(m=p.onError)==null||m.call(p,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let g=!0,p=!0,m=()=>g=!1;return(async()=>{try{r&&ue(t,Rs,"getBlock")({blockTag:e,includeTransactions:u}).then(w=>{g&&p&&(s(w,void 0),p=!1)});const y=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(E=>E.config.type==="webSocket");return w?w.value:t.transport}return t.transport})(),{unsubscribe:b}=await y.subscribe({params:["newHeads"],async onData(w){if(!g)return;const E=await ue(t,Rs,"getBlock")({blockNumber:w.blockNumber,includeTransactions:u}).catch(()=>{});g&&(s(E,d),p=!1,d=E)},onError(w){i==null||i(w)}});m=b,g||m()}catch(y){i==null||i(y)}})(),()=>m()})()}function ST(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let c;return a?(()=>{const d=Kt(["watchBlockNumber",t.uid,e,n,o]);return wi(d,{onBlockNumber:r,onError:s},h=>Rl(async()=>{var f;try{const g=await ue(t,vh,"getBlockNumber")({cacheTime:0});if(c){if(g===c)return;if(g-c>1&&n)for(let p=c+1n;p<g;p++)h.onBlockNumber(p,c),c=p}(!c||g>c)&&(h.onBlockNumber(g,c),c=g)}catch(g){(f=h.onError)==null||f.call(h,g)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=Kt(["watchBlockNumber",t.uid,e,n]);return wi(d,{onBlockNumber:r,onError:s},h=>{let f=!0,g=()=>f=!1;return(async()=>{try{const p=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(b=>b.config.type==="webSocket");return y?y.value:t.transport}return t.transport})(),{unsubscribe:m}=await p.subscribe({params:["newHeads"],onData(y){var w;if(!f)return;const b=Gt((w=y.result)==null?void 0:w.number);h.onBlockNumber(b,c),c=b},onError(y){var b;(b=h.onError)==null||b.call(h,y)}});g=m,f||g()}catch(p){s==null||s(p)}})(),()=>g()})})()}async function pg(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function LL(t,{address:e,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:u=t.pollingInterval,strict:d}){const h=typeof l<"u"?l:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),f=d??!1;return h?(()=>{const m=Kt(["watchEvent",e,n,r,t.uid,s,u,o]);return wi(m,{onLogs:c,onError:a},y=>{let b;o!==void 0&&(b=o-1n);let w,E=!1;const C=Rl(async()=>{var I;if(!E){try{w=await ue(t,VP,"createEventFilter")({address:e,args:n,event:s,events:i,strict:f,fromBlock:o})}catch{}E=!0;return}try{let A;if(w)A=await ue(t,dg,"getFilterChanges")({filter:w});else{const x=await ue(t,vh,"getBlockNumber")({});b&&b!==x?A=await ue(t,Zw,"getLogs")({address:e,args:n,event:s,events:i,fromBlock:b+1n,toBlock:x}):A=[],b=x}if(A.length===0)return;if(r)y.onLogs(A);else for(const x of A)y.onLogs([x])}catch(A){w&&A instanceof ca&&(E=!1),(I=y.onError)==null||I.call(y,A)}},{emitOnBegin:!0,interval:u});return async()=>{w&&await ue(t,pg,"uninstallFilter")({filter:w}),C()}})})():(()=>{let m=!0,y=()=>m=!1;return(async()=>{try{const b=(()=>{if(t.transport.type==="fallback"){const I=t.transport.transports.find(A=>A.config.type==="webSocket");return I?I.value:t.transport}return t.transport})(),w=i??(s?[s]:void 0);let E=[];w&&(E=[w.flatMap(A=>wh({abi:[A],eventName:A.name,args:n}))],s&&(E=E[0]));const{unsubscribe:C}=await b.subscribe({params:["logs",{address:e,topics:E}],onData(I){var x;if(!m)return;const A=I.result;try{const{eventName:v,args:R}=Qw({abi:w??[],data:A.data,topics:A.topics,strict:f}),N=bi(A,{args:R,eventName:v});c([N])}catch(v){let R,N;if(v instanceof Zu||v instanceof Zp){if(d)return;R=v.abiItem.name,N=(x=v.abiItem.inputs)==null?void 0:x.some(F=>!("name"in F&&F.name))}const B=bi(A,{args:N?[]:{},eventName:R});c([B])}},onError(I){a==null||a(I)}});y=C,m||y()}catch(b){a==null||a(b)}})(),()=>y()})()}function _T(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const l=Kt(["watchPendingTransactions",t.uid,e,i]);return wi(l,{onTransactions:r,onError:n},u=>{let d;const h=Rl(async()=>{var f;try{if(!d)try{d=await ue(t,jP,"createPendingTransactionFilter")({});return}catch(p){throw h(),p}const g=await ue(t,dg,"getFilterChanges")({filter:d});if(g.length===0)return;if(e)u.onTransactions(g);else for(const p of g)u.onTransactions([p])}catch(g){(f=u.onError)==null||f.call(u,g)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await ue(t,pg,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}async function FL(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>lh(r))}async function UL(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function ML(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?xt(n):void 0,i=await t.request({method:"wallet_getCapabilities",params:[s==null?void 0:s.address]}),o={};for(const[a,c]of Object.entries(i))o[Number(a)]=c;return typeof r=="number"?o[r]:o}async function zL(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,forceAtomic:i=!1,id:o,version:a="2.0.0"}=e;if(typeof n>"u")throw new go({docsPath:"/docs/actions/wallet/sendCalls"});const c=n?xt(n):null,l=e.calls.map(u=>{const d=u;return{data:d.abi?Ot({abi:d.abi,functionName:d.functionName,args:d.args}):d.data,to:d.to,value:d.value?fe(d.value):void 0}});try{const u=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:l,capabilities:r,chainId:fe(s.id),from:c==null?void 0:c.address,id:o,version:a}]},{retryCount:0});return typeof u=="string"?{id:u}:u}catch(u){throw K2(u,{...e,account:c,chain:e.chain})}}async function PT(t,e){const{atomic:n=!1,chainId:r,receipts:s,version:i="2.0.0",...o}=await t.request({method:"wallet_getCallsStatus",params:[e.id]}),[a,c]=(()=>{const l=o.status;return l>=100&&l<200?["pending",l]:l>=200&&l<300?["success",l]:l>=300&&l<700?["failure",l]:l==="CONFIRMED"?["success",200]:l==="PENDING"?["pending",100]:[void 0,l]})();return{...o,atomic:n,chainId:r?is(r):void 0,receipts:(s==null?void 0:s.map(l=>({...l,blockNumber:Gt(l.blockNumber),gasUsed:Gt(l.gasUsed),status:qP[l.status]})))??[],statusCode:c,status:a,version:i}}async function VL(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function jL(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:h})=>h>=200,timeout:i=6e4}=e,o=Kt(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:c,reject:l}=Ww();let u;const d=wi(o,{resolve:c,reject:l},h=>{const f=Rl(async()=>{const g=p=>{clearTimeout(u),f(),p(),d()};try{const p=await PT(t,{id:n});if(!s(p))return;g(()=>h.resolve(p))}catch(p){g(()=>h.reject(p))}},{interval:r,emitOnBegin:!0});return f});return u=i?setTimeout(()=>{d(),clearTimeout(u),l(new HL({id:n}))},i):void 0,await a}class HL extends H{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function qL(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function WL(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?is(t.nonce):void 0,storageProof:t.storageProof?qL(t.storageProof):void 0}}async function GL(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?fe(n):void 0,a=await t.request({method:"eth_getProof",params:[e,s,o||i]});return WL(a)}async function TT(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=Kt(["waitForTransactionReceipt",t.uid,n]);let l,u,d,h=!1;const{promise:f,resolve:g,reject:p}=Ww(),m=a?setTimeout(()=>p(new X3({hash:n})),a):void 0,y=wi(c,{onReplaced:r,resolve:g,reject:p},b=>{const w=ue(t,ST,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(E){const C=A=>{clearTimeout(m),w(),A(),y()};let I=E;if(!h)try{if(d){if(e>1&&(!d.blockNumber||I-d.blockNumber+1n<e))return;C(()=>b.resolve(d));return}if(l||(h=!0,await op(async()=>{l=await ue(t,hg,"getTransaction")({hash:n}),l.blockNumber&&(I=l.blockNumber)},{delay:o,retryCount:i}),h=!1),d=await ue(t,Pb,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||I-d.blockNumber+1n<e))return;C(()=>b.resolve(d))}catch(A){if(A instanceof W2||A instanceof G2){if(!l){h=!1;return}try{u=l,h=!0;const x=await op(()=>ue(t,Rs,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:N})=>N instanceof Y2});h=!1;const v=x.transactions.find(({from:N,nonce:B})=>N===u.from&&B===u.nonce);if(!v||(d=await ue(t,Pb,"getTransactionReceipt")({hash:v.hash}),e>1&&(!d.blockNumber||I-d.blockNumber+1n<e)))return;let R="replaced";v.to===u.to&&v.value===u.value&&v.input===u.input?R="repriced":v.from===v.to&&v.value===0n&&(R="cancelled"),C(()=>{var N;(N=b.onReplaced)==null||N.call(b,{reason:R,replacedTransaction:u,transaction:v,transactionReceipt:d}),b.resolve(d)})}catch(x){C(()=>b.reject(x))}}else C(()=>b.reject(A))}}})});return f}async function KL(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Os(n))}async function YL(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function OT(t,e){var c;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new go({docsPath:"/docs/eip7702/prepareAuthorization"});const i=xt(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:xt(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await ue(t,_l,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await ue(t,Uw,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&ug(o.address,i.address))&&(a.nonce+=1)),a}async function QL(t,e){const{account:n=t.account}=e;if(!n)throw new go({docsPath:"/docs/eip7702/signAuthorization"});const r=xt(n);if(!r.signAuthorization)throw new Nf({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await OT(t,e);return r.signAuthorization(s)}async function ZL(t,e){var l,u,d,h;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new go({docsPath:"/docs/actions/wallet/signTransaction"});const i=xt(n);_a({account:i,...e});const o=await ue(t,_l,"getChainId")({});r!==null&&q2({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||Sa;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(h=(d=t.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(s),chainId:fe(o),from:i.address}]},{retryCount:0})}async function RT(t,{account:e=t.account,message:n}){if(!e)throw new go({docsPath:"/docs/actions/wallet/signMessage"});const r=xt(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Qc(n):n.raw instanceof Uint8Array?he(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function JL(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new go({docsPath:"/docs/actions/wallet/signTypedData"});const o=xt(n),a={EIP712Domain:CT({domain:r}),...e.types};if(ET({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=fL({domain:r,message:s,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function NT(t,e){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=e,c=a.account?xt(a.account):t.account,l=Ot({abi:n,args:s,functionName:o});try{const{data:u}=await ue(t,bh,"call")({batch:!1,data:`${l}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=Ta({abi:n,args:s,functionName:o,data:u||"0x"}),h=n.filter(f=>"name"in f&&f.name===e.functionName);return{result:d,request:{abi:h,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(u){throw ua(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}async function XL(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:fe(e)}]},{retryCount:0})}class kT extends xw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,t3(e);const r=Xp(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Jc(this),this.iHash.update(e),this}digestInto(e){Jc(this),ch(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const DT=(t,e,n)=>new kT(t,e).update(n).digest();DT.create=(t,e)=>new kT(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iv=BigInt(0),$b=BigInt(1);function nl(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ov(t){if(!nl(t))throw new Error("Uint8Array expected")}function bd(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Hh(t){const e=t.toString(16);return e.length&1?"0"+e:e}function BT(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?iv:BigInt("0x"+t)}const $T=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",eF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wd(t){if(ov(t),$T)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=eF[t[n]];return e}const Hs={_0:48,_9:57,A:65,F:70,a:97,f:102};function b1(t){if(t>=Hs._0&&t<=Hs._9)return t-Hs._0;if(t>=Hs.A&&t<=Hs.F)return t-(Hs.A-10);if(t>=Hs.a&&t<=Hs.f)return t-(Hs.a-10)}function ap(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if($T)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=b1(t.charCodeAt(i)),a=b1(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Jo(t){return BT(wd(t))}function LT(t){return ov(t),BT(wd(Uint8Array.from(t).reverse()))}function vd(t,e){return ap(t.toString(16).padStart(e*2,"0"))}function FT(t,e){return vd(t,e).reverse()}function Kr(t,e,n){let r;if(typeof e=="string")try{r=ap(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(nl(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function cp(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];ov(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const Am=t=>typeof t=="bigint"&&iv<=t;function av(t,e,n){return Am(t)&&Am(e)&&Am(n)&&e<=t&&t<n}function Dc(t,e,n,r){if(!av(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function tF(t){let e;for(e=0;t>iv;t>>=$b,e+=1);return e}const gg=t=>($b<<BigInt(t))-$b,Im=t=>new Uint8Array(t),w1=t=>Uint8Array.from(t);function nF(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Im(t),s=Im(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),c=(d=Im(0))=>{s=a(w1([0]),d),r=a(),d.length!==0&&(s=a(w1([1]),d),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const f=r.slice();h.push(f),d+=r.length}return cp(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const rF={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||nl(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function mg(t,e,n={}){const r=(s,i,o)=>{const a=rF[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function v1(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const on=BigInt(0),Rt=BigInt(1),Oo=BigInt(2),sF=BigInt(3),Lb=BigInt(4),E1=BigInt(5),C1=BigInt(8);function Yn(t,e){const n=t%e;return n>=on?n:e+n}function iF(t,e,n){if(e<on)throw new Error("invalid exponent, negatives unsupported");if(n<=on)throw new Error("invalid modulus");if(n===Rt)return on;let r=Rt;for(;e>on;)e&Rt&&(r=r*t%n),t=t*t%n,e>>=Rt;return r}function Ar(t,e,n){let r=t;for(;e-- >on;)r*=r,r%=n;return r}function Fb(t,e){if(t===on)throw new Error("invert: expected non-zero number");if(e<=on)throw new Error("invert: expected positive modulus, got "+e);let n=Yn(t,e),r=e,s=on,i=Rt;for(;n!==on;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==Rt)throw new Error("invert: does not exist");return Yn(s,e)}function oF(t){const e=(t-Rt)/Oo;let n,r,s;for(n=t-Rt,r=0;n%Oo===on;n/=Oo,r++);for(s=Oo;s<t&&iF(s,e,t)!==t-Rt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Rt)/Lb;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const i=(n+Rt)/Oo;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,s),n),d=a.pow(c,i),h=a.pow(c,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let f=1;for(let p=a.sqr(h);f<l&&!a.eql(p,a.ONE);f++)p=a.sqr(p);const g=a.pow(u,Rt<<BigInt(l-f-1));u=a.sqr(g),d=a.mul(d,g),h=a.mul(h,u),l=f}return d}}function aF(t){if(t%Lb===sF){const e=(t+Rt)/Lb;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%C1===E1){const e=(t-E1)/C1;return function(r,s){const i=r.mul(s,Oo),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Oo),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),s))throw new Error("Cannot find square root");return l}}return oF(t)}const cF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lF(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=cF.reduce((r,s)=>(r[s]="function",r),e);return mg(t,n)}function uF(t,e,n){if(n<on)throw new Error("invalid exponent, negatives unsupported");if(n===on)return t.ONE;if(n===Rt)return e;let r=t.ONE,s=e;for(;n>on;)n&Rt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Rt;return r}function dF(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function UT(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function MT(t,e,n=!1,r={}){if(t<=on)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=UT(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:gg(s),ZERO:on,ONE:Rt,create:c=>Yn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return on<=c&&c<t},is0:c=>c===on,isOdd:c=>(c&Rt)===Rt,neg:c=>Yn(-c,t),eql:(c,l)=>c===l,sqr:c=>Yn(c*c,t),add:(c,l)=>Yn(c+l,t),sub:(c,l)=>Yn(c-l,t),mul:(c,l)=>Yn(c*l,t),pow:(c,l)=>uF(a,c,l),div:(c,l)=>Yn(c*Fb(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Fb(c,t),sqrt:r.sqrt||(c=>(o||(o=aF(t)),o(a,c))),invertBatch:c=>dF(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?FT(c,i):vd(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?LT(c):Jo(c)}});return Object.freeze(a)}function zT(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function VT(t){const e=zT(t);return e+Math.ceil(e/2)}function hF(t,e,n=!1){const r=t.length,s=zT(e),i=VT(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?LT(t):Jo(t),a=Yn(o,e-Rt)+Rt;return n?FT(a,s):vd(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const A1=BigInt(0),Ub=BigInt(1);function xm(t,e){const n=e.negate();return t?n:e}function jT(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Sm(t,e){jT(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=gg(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function I1(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=Ub);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function fF(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function pF(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const _m=new WeakMap,HT=new WeakMap;function Pm(t){return HT.get(t)||1}function gF(t,e){return{constTimeNegate:xm,hasPrecomputes(n){return Pm(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>A1;)r&Ub&&(s=s.add(i)),i=i.double(),r>>=Ub;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Sm(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=Sm(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:g}=I1(s,c,a);s=l,d?o=o.add(xm(f,r[g])):i=i.add(xm(h,r[u]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=Sm(n,e);for(let a=0;a<o.windows&&s!==A1;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=I1(s,a,o);if(s=c,!u){const h=r[l];i=i.add(d?h.negate():h)}}return i},getPrecomputes(n,r,s){let i=_m.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&_m.set(r,s(i))),i},wNAFCached(n,r,s){const i=Pm(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Pm(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){jT(r,e),HT.set(n,r),_m.delete(n)}}}function mF(t,e,n,r){if(fF(n,t),pF(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=tF(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=gg(o),c=new Array(Number(a)+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const g=r[f],p=Number(g>>BigInt(d)&a);c[p]=c[p].add(n[f])}let h=s;for(let f=c.length-1,g=s;f>0;f--)g=g.add(c[f]),h=h.add(g);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function qT(t){return lF(t.Fp),mg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...UT(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function x1(t){t.lowS!==void 0&&bd("lowS",t.lowS),t.prehash!==void 0&&bd("prehash",t.prehash)}function yF(t){const e=qT(t);mg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}class bF extends Error{constructor(e=""){super(e)}}const ni={Err:bF,_tlv:{encode:(t,e)=>{const{Err:n}=ni;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Hh(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Hh(s.length/2|128):"";return Hh(t)+i+s+e},decode(t,e){const{Err:n}=ni;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=ni;if(t<oi)throw new e("integer: negative integers are not allowed");let n=Hh(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ni;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Jo(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ni,s=Kr("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=ni,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},oi=BigInt(0),en=BigInt(1);BigInt(2);const S1=BigInt(3);BigInt(4);function wF(t){const e=yF(t),{Fp:n}=e,r=MT(e.n,e.nBitLength),s=e.toBytes||((p,m,y)=>{const b=m.toAffine();return cp(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),i=e.fromBytes||(p=>{const m=p.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),b=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:b}});function o(p){const{a:m,b:y}=e,b=n.sqr(p),w=n.mul(b,p);return n.add(n.add(w,n.mul(p,m)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return av(p,en,e.n)}function c(p){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:b,n:w}=e;if(m&&typeof p!="bigint"){if(nl(p)&&(p=wd(p)),typeof p!="string"||!m.includes(p.length))throw new Error("invalid private key");p=p.padStart(y*2,"0")}let E;try{E=typeof p=="bigint"?p:Jo(Kr("private key",p,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof p)}return b&&(E=Yn(E,w)),Dc("private key",E,en,w),E}function l(p){if(!(p instanceof h))throw new Error("ProjectivePoint expected")}const u=v1((p,m)=>{const{px:y,py:b,pz:w}=p;if(n.eql(w,n.ONE))return{x:y,y:b};const E=p.is0();m==null&&(m=E?n.ONE:n.inv(w));const C=n.mul(y,m),I=n.mul(b,m),A=n.mul(w,m);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:C,y:I}}),d=v1(p=>{if(p.is0()){if(e.allowInfinityPoint&&!n.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=p.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");const b=n.sqr(y),w=o(m);if(!n.eql(b,w))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(m,y,b){if(m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");this.px=m,this.py=y,this.pz=b,Object.freeze(this)}static fromAffine(m){const{x:y,y:b}=m||{};if(!m||!n.isValid(y)||!n.isValid(b))throw new Error("invalid affine point");if(m instanceof h)throw new Error("projective point not allowed");const w=E=>n.eql(E,n.ZERO);return w(y)&&w(b)?h.ZERO:new h(y,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=n.invertBatch(m.map(b=>b.pz));return m.map((b,w)=>b.toAffine(y[w])).map(h.fromAffine)}static fromHex(m){const y=h.fromAffine(i(Kr("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return h.BASE.multiply(c(m))}static msm(m,y){return mF(h,r,m,y)}_setWindowSize(m){g.setWindowSize(this,m)}assertValidity(){d(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:y,py:b,pz:w}=this,{px:E,py:C,pz:I}=m,A=n.eql(n.mul(y,I),n.mul(E,w)),x=n.eql(n.mul(b,I),n.mul(C,w));return A&&x}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,b=n.mul(y,S1),{px:w,py:E,pz:C}=this;let I=n.ZERO,A=n.ZERO,x=n.ZERO,v=n.mul(w,w),R=n.mul(E,E),N=n.mul(C,C),B=n.mul(w,E);return B=n.add(B,B),x=n.mul(w,C),x=n.add(x,x),I=n.mul(m,x),A=n.mul(b,N),A=n.add(I,A),I=n.sub(R,A),A=n.add(R,A),A=n.mul(I,A),I=n.mul(B,I),x=n.mul(b,x),N=n.mul(m,N),B=n.sub(v,N),B=n.mul(m,B),B=n.add(B,x),x=n.add(v,v),v=n.add(x,v),v=n.add(v,N),v=n.mul(v,B),A=n.add(A,v),N=n.mul(E,C),N=n.add(N,N),v=n.mul(N,B),I=n.sub(I,v),x=n.mul(N,R),x=n.add(x,x),x=n.add(x,x),new h(I,A,x)}add(m){l(m);const{px:y,py:b,pz:w}=this,{px:E,py:C,pz:I}=m;let A=n.ZERO,x=n.ZERO,v=n.ZERO;const R=e.a,N=n.mul(e.b,S1);let B=n.mul(y,E),F=n.mul(b,C),_=n.mul(w,I),T=n.add(y,b),S=n.add(E,C);T=n.mul(T,S),S=n.add(B,F),T=n.sub(T,S),S=n.add(y,w);let D=n.add(E,I);return S=n.mul(S,D),D=n.add(B,_),S=n.sub(S,D),D=n.add(b,w),A=n.add(C,I),D=n.mul(D,A),A=n.add(F,_),D=n.sub(D,A),v=n.mul(R,S),A=n.mul(N,_),v=n.add(A,v),A=n.sub(F,v),v=n.add(F,v),x=n.mul(A,v),F=n.add(B,B),F=n.add(F,B),_=n.mul(R,_),S=n.mul(N,S),F=n.add(F,_),_=n.sub(B,_),_=n.mul(R,_),S=n.add(S,_),B=n.mul(F,S),x=n.add(x,B),B=n.mul(D,S),A=n.mul(T,A),A=n.sub(A,B),B=n.mul(T,F),v=n.mul(D,v),v=n.add(v,B),new h(A,x,v)}subtract(m){return this.add(m.negate())}is0(){return this.equals(h.ZERO)}wNAF(m){return g.wNAFCached(this,m,h.normalizeZ)}multiplyUnsafe(m){const{endo:y,n:b}=e;Dc("scalar",m,oi,b);const w=h.ZERO;if(m===oi)return w;if(this.is0()||m===en)return this;if(!y||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,m,h.normalizeZ);let{k1neg:E,k1:C,k2neg:I,k2:A}=y.splitScalar(m),x=w,v=w,R=this;for(;C>oi||A>oi;)C&en&&(x=x.add(R)),A&en&&(v=v.add(R)),R=R.double(),C>>=en,A>>=en;return E&&(x=x.negate()),I&&(v=v.negate()),v=new h(n.mul(v.px,y.beta),v.py,v.pz),x.add(v)}multiply(m){const{endo:y,n:b}=e;Dc("scalar",m,en,b);let w,E;if(y){const{k1neg:C,k1:I,k2neg:A,k2:x}=y.splitScalar(m);let{p:v,f:R}=this.wNAF(I),{p:N,f:B}=this.wNAF(x);v=g.constTimeNegate(C,v),N=g.constTimeNegate(A,N),N=new h(n.mul(N.px,y.beta),N.py,N.pz),w=v.add(N),E=R.add(B)}else{const{p:C,f:I}=this.wNAF(m);w=C,E=I}return h.normalizeZ([w,E])[0]}multiplyAndAddUnsafe(m,y,b){const w=h.BASE,E=(I,A)=>A===oi||A===en||!I.equals(w)?I.multiplyUnsafe(A):I.multiply(A),C=E(this,y).add(E(m,b));return C.is0()?void 0:C}toAffine(m){return u(this,m)}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===en)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===en?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return bd("isCompressed",m),this.assertValidity(),s(h,this,m)}toHex(m=!0){return bd("isCompressed",m),wd(this.toRawBytes(m))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,g=gF(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function vF(t){const e=qT(t);return mg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function EF(t){const e=vF(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function o(_){return Yn(_,r)}function a(_){return Fb(_,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=wF({...e,toBytes(_,T,S){const D=T.toAffine(),k=n.toBytes(D.x),O=cp;return bd("isCompressed",S),S?O(Uint8Array.from([T.hasEvenY()?2:3]),k):O(Uint8Array.from([4]),k,n.toBytes(D.y))},fromBytes(_){const T=_.length,S=_[0],D=_.subarray(1);if(T===s&&(S===2||S===3)){const k=Jo(D);if(!av(k,en,n.ORDER))throw new Error("Point is not on curve");const O=u(k);let L;try{L=n.sqrt(O)}catch(G){const q=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+q)}const U=(L&en)===en;return(S&1)===1!==U&&(L=n.neg(L)),{x:k,y:L}}else if(T===i&&S===4){const k=n.fromBytes(D.subarray(0,n.BYTES)),O=n.fromBytes(D.subarray(n.BYTES,2*n.BYTES));return{x:k,y:O}}else{const k=s,O=i;throw new Error("invalid Point, expected length of "+k+", or uncompressed "+O+", got "+T)}}}),h=_=>wd(vd(_,e.nByteLength));function f(_){const T=r>>en;return _>T}function g(_){return f(_)?o(-_):_}const p=(_,T,S)=>Jo(_.slice(T,S));class m{constructor(T,S,D){Dc("r",T,en,r),Dc("s",S,en,r),this.r=T,this.s=S,D!=null&&(this.recovery=D),Object.freeze(this)}static fromCompact(T){const S=e.nByteLength;return T=Kr("compactSignature",T,S*2),new m(p(T,0,S),p(T,S,2*S))}static fromDER(T){const{r:S,s:D}=ni.toSig(Kr("DER",T));return new m(S,D)}assertValidity(){}addRecoveryBit(T){return new m(this.r,this.s,T)}recoverPublicKey(T){const{r:S,s:D,recovery:k}=this,O=I(Kr("msgHash",T));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");const L=k===2||k===3?S+e.n:S;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const U=(k&1)===0?"02":"03",V=c.fromHex(U+h(L)),G=a(L),q=o(-O*G),ee=o(D*G),ce=c.BASE.multiplyAndAddUnsafe(V,q,ee);if(!ce)throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ap(this.toDERHex())}toDERHex(){return ni.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ap(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(_){try{return l(_),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const _=VT(e.n);return hF(e.randomBytes(_),e.n)},precompute(_=8,T=c.BASE){return T._setWindowSize(_),T.multiply(BigInt(3)),T}};function b(_,T=!0){return c.fromPrivateKey(_).toRawBytes(T)}function w(_){const T=nl(_),S=typeof _=="string",D=(T||S)&&_.length;return T?D===s||D===i:S?D===2*s||D===2*i:_ instanceof c}function E(_,T,S=!0){if(w(_))throw new Error("first arg must be private key");if(!w(T))throw new Error("second arg must be public key");return c.fromHex(T).multiply(l(_)).toRawBytes(S)}const C=e.bits2int||function(_){if(_.length>8192)throw new Error("input is too large");const T=Jo(_),S=_.length*8-e.nBitLength;return S>0?T>>BigInt(S):T},I=e.bits2int_modN||function(_){return o(C(_))},A=gg(e.nBitLength);function x(_){return Dc("num < 2^"+e.nBitLength,_,oi,A),vd(_,e.nByteLength)}function v(_,T,S=R){if(["recovered","canonical"].some(j=>j in S))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:k}=e;let{lowS:O,prehash:L,extraEntropy:U}=S;O==null&&(O=!0),_=Kr("msgHash",_),x1(S),L&&(_=Kr("prehashed msgHash",D(_)));const V=I(_),G=l(T),q=[x(G),x(V)];if(U!=null&&U!==!1){const j=U===!0?k(n.BYTES):U;q.push(Kr("extraEntropy",j))}const ee=cp(...q),ce=V;function _e(j){const M=C(j);if(!d(M))return;const de=a(M),pe=c.BASE.multiply(M).toAffine(),ye=o(pe.x);if(ye===oi)return;const xe=o(de*o(ce+ye*G));if(xe===oi)return;let Me=(pe.x===ye?0:2)|Number(pe.y&en),_t=xe;return O&&f(xe)&&(_t=g(xe),Me^=1),new m(ye,_t,Me)}return{seed:ee,k2sig:_e}}const R={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function B(_,T,S=R){const{seed:D,k2sig:k}=v(_,T,S),O=e;return nF(O.hash.outputLen,O.nByteLength,O.hmac)(D,k)}c.BASE._setWindowSize(8);function F(_,T,S,D=N){var Me;const k=_;T=Kr("msgHash",T),S=Kr("publicKey",S);const{lowS:O,prehash:L,format:U}=D;if(x1(D),"strict"in D)throw new Error("options.strict was renamed to lowS");if(U!==void 0&&U!=="compact"&&U!=="der")throw new Error("format must be compact or der");const V=typeof k=="string"||nl(k),G=!V&&!U&&typeof k=="object"&&k!==null&&typeof k.r=="bigint"&&typeof k.s=="bigint";if(!V&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,ee;try{if(G&&(q=new m(k.r,k.s)),V){try{U!=="compact"&&(q=m.fromDER(k))}catch(_t){if(!(_t instanceof ni.Err))throw _t}!q&&U!=="der"&&(q=m.fromCompact(k))}ee=c.fromHex(S)}catch{return!1}if(!q||O&&q.hasHighS())return!1;L&&(T=e.hash(T));const{r:ce,s:_e}=q,j=I(T),M=a(_e),de=o(j*M),pe=o(ce*M),ye=(Me=c.BASE.multiplyAndAddUnsafe(ee,de,pe))==null?void 0:Me.toAffine();return ye?o(ye.x)===ce:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:B,verify:F,ProjectivePoint:c,Signature:m,utils:y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function CF(t){return{hash:t,hmac:(e,...n)=>DT(t,e,d3(...n)),randomBytes:h3}}function AF(t,e){const n=r=>EF({...t,...CF(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const WT=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),IF=BigInt(1),Mb=BigInt(2),P1=(t,e)=>(t+e/Mb)/e;function xF(t){const e=WT,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Ar(u,n,e)*u%e,h=Ar(d,n,e)*u%e,f=Ar(h,Mb,e)*l%e,g=Ar(f,s,e)*f%e,p=Ar(g,i,e)*g%e,m=Ar(p,a,e)*p%e,y=Ar(m,c,e)*m%e,b=Ar(y,a,e)*p%e,w=Ar(b,n,e)*u%e,E=Ar(w,o,e)*g%e,C=Ar(E,r,e)*l%e,I=Ar(C,Mb,e);if(!zb.eql(zb.sqr(I),t))throw new Error("Cannot find square root");return I}const zb=MT(WT,void 0,void 0,{sqrt:xF}),cv=AF({a:BigInt(0),b:BigInt(7),Fp:zb,n:_1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=_1,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-IF*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=P1(i*t,e),c=P1(-r*t,e);let l=Yn(t-a*n-c*s,e),u=Yn(-a*r-c*i,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},eP);BigInt(0);cv.ProjectivePoint;const SF=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:cv},Symbol.toStringTag,{value:"Module"}));function _F({r:t,s:e,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new cv.Signature(Gt(t),Gt(e)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:pi(o)}async function lv(t,e){var d,h,f;const{address:n,factory:r,factoryData:s,hash:i,signature:o,universalSignatureVerifierAddress:a=(f=(h=(d=t.chain)==null?void 0:d.contracts)==null?void 0:h.universalSignatureVerifier)==null?void 0:f.address,...c}=e,l=ro(o)?o:typeof o=="object"&&"r"in o&&"s"in o?_F(o):dn(o),u=await(async()=>!r&&!s||TL(l)?l:OL({address:r,data:s,signature:l}))();try{const g=a?{to:a,data:Ot({abi:KE,functionName:"isValidSig",args:[n,i,u]}),...c}:{data:eg({abi:KE,args:[n,i,u],bytecode:HB}),...c},{data:p}=await ue(t,bh,"call")(g);return ND(p??"0x0")}catch(g){try{if(ug(Os(n),await U2({hash:i,signature:o})))return!0}catch{}if(g instanceof PP)return!1;throw g}}async function PF(t,{address:e,message:n,factory:r,factoryData:s,signature:i,...o}){const a=IT(n);return lv(t,{address:e,factory:r,factoryData:s,hash:a,signature:i,...o})}async function TF(t,e){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:l,...u}=e,d=lL({message:o,primaryType:a,types:c,domain:l});return lv(t,{address:n,factory:r,factoryData:s,hash:d,signature:i,...u})}async function OF(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function GT(t,e){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:d=t.pollingInterval,strict:h}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))?(()=>{const m=h??!1,y=Kt(["watchContractEvent",r,s,i,t.uid,o,d,m,a]);return wi(y,{onLogs:l,onError:c},b=>{let w;a!==void 0&&(w=a-1n);let E,C=!1;const I=Rl(async()=>{var A;if(!C){try{E=await ue(t,Yw,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:m,fromBlock:a})}catch{}C=!0;return}try{let x;if(E)x=await ue(t,dg,"getFilterChanges")({filter:E});else{const v=await ue(t,vh,"getBlockNumber")({});w&&w<v?x=await ue(t,Jw,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:w+1n,toBlock:v,strict:m}):x=[],w=v}if(x.length===0)return;if(i)b.onLogs(x);else for(const v of x)b.onLogs([v])}catch(x){E&&x instanceof ca&&(C=!1),(A=b.onError)==null||A.call(b,x)}},{emitOnBegin:!0,interval:d});return async()=>{E&&await ue(t,pg,"uninstallFilter")({filter:E}),I()}})})():(()=>{const m=h??!1,y=Kt(["watchContractEvent",r,s,i,t.uid,o,d,m]);let b=!0,w=()=>b=!1;return wi(y,{onLogs:l,onError:c},E=>((async()=>{try{const C=(()=>{if(t.transport.type==="fallback"){const x=t.transport.transports.find(v=>v.config.type==="webSocket");return x?x.value:t.transport}return t.transport})(),I=o?wh({abi:n,eventName:o,args:s}):[],{unsubscribe:A}=await C.subscribe({params:["logs",{address:r,topics:I}],onData(x){var R;if(!b)return;const v=x.result;try{const{eventName:N,args:B}=Qw({abi:n,data:v.data,topics:v.topics,strict:h}),F=bi(v,{args:B,eventName:N});E.onLogs([F])}catch(N){let B,F;if(N instanceof Zu||N instanceof Zp){if(h)return;B=N.abiItem.name,F=(R=N.abiItem.inputs)==null?void 0:R.some(T=>!("name"in T&&T.name))}const _=bi(v,{args:F?[]:{},eventName:B});E.onLogs([_])}},onError(x){var v;(v=E.onError)==null||v.call(E,x)}});w=A,b||w()}catch(C){c==null||c(C)}})(),()=>w()))})()}async function uv(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new go({docsPath:"/docs/contract/writeContract"});const l=r?xt(r):null,u=Ot({abi:n,args:i,functionName:a});try{return await ue(t,ig,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw ua(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function $n(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}class Ed extends fo{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class RF extends fo{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class NF extends fo{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class kF extends fo{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class DF extends fo{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class BF extends fo{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function T1(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new RF;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}function Xi({abi:t,address:e,client:n}){const r=n,[s,i]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],o=s!=null,a=i!=null,c={};let l=!1,u=!1,d=!1;for(const h of t)if(h.type==="function"?h.stateMutability==="view"||h.stateMutability==="pure"?l=!0:u=!0:h.type==="event"&&(d=!0),l&&u&&d)break;return o&&(l&&(c.read=new Proxy({},{get(h,f){return(...g)=>{const{args:p,options:m}=qh(g);return ue(s,cs,"readContract")({abi:t,address:e,functionName:f,args:p,...m})}}})),u&&(c.simulate=new Proxy({},{get(h,f){return(...g)=>{const{args:p,options:m}=qh(g);return ue(s,NT,"simulateContract")({abi:t,address:e,functionName:f,args:p,...m})}}})),d&&(c.createEventFilter=new Proxy({},{get(h,f){return(...g)=>{const p=t.find(b=>b.type==="event"&&b.name===f),{args:m,options:y}=Tm(g,p);return ue(s,Yw,"createContractEventFilter")({abi:t,address:e,eventName:f,args:m,...y})}}}),c.getEvents=new Proxy({},{get(h,f){return(...g)=>{const p=t.find(b=>b.type==="event"&&b.name===f),{args:m,options:y}=Tm(g,p);return ue(s,Jw,"getContractEvents")({abi:t,address:e,eventName:f,args:m,...y})}}}),c.watchEvent=new Proxy({},{get(h,f){return(...g)=>{const p=t.find(b=>b.type==="event"&&b.name===f),{args:m,options:y}=Tm(g,p);return ue(s,GT,"watchContractEvent")({abi:t,address:e,eventName:f,args:m,...y})}}}))),a&&u&&(c.write=new Proxy({},{get(h,f){return(...g)=>{const{args:p,options:m}=qh(g);return ue(i,uv,"writeContract")({abi:t,address:e,functionName:f,args:p,...m})}}})),(o||a)&&u&&(c.estimateGas=new Proxy({},{get(h,f){return(...g)=>{const{args:p,options:m}=qh(g);return ue(s??i,HP,"estimateContractGas")({abi:t,address:e,functionName:f,args:p,...m,account:m.account??i.account})}}})),c.address=e,c.abi=t,c}function qh(t){const e=t.length&&Array.isArray(t[0]),n=e?t[0]:[],r=(e?t[1]:t[0])??{};return{args:n,options:r}}function Tm(t,e){let n=!1;Array.isArray(t[0])?n=!0:t.length===1?n=e.inputs.some(i=>i.indexed):t.length===2&&(n=!0);const r=n?t[0]:void 0,s=(n?t[1]:t[0])??{};return{args:r,options:s}}const Vb=256;let Wh=Vb,Gh;function KT(t=11){if(!Gh||Wh+t>Vb*2){Gh="",Wh=0;for(let e=0;e<Vb;e++)Gh+=(256+Math.random()*256|0).toString(16).substring(1)}return Gh.substring(Wh,Wh+++t)}function yg(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:s="base",name:i="Base Client",pollingInterval:o=4e3,type:a="base"}=t,c=t.chain,l=t.account?xt(t.account):void 0,{config:u,request:d,value:h}=t.transport({chain:c,pollingInterval:o}),f={...u,...h},g={account:l,batch:e,cacheTime:n,ccipRead:r,chain:c,key:s,name:i,pollingInterval:o,request:d,transport:f,type:a,uid:KT()};function p(m){return y=>{const b=y(m);for(const E in g)delete b[E];const w={...m,...b};return Object.assign(w,{extend:p(w)})}}return Object.assign(g,{extend:p(g)})}function dv({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=KT();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:nL(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function jb(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>dv({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function O1(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=$F,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const g=dv({key:n,name:r,async request({method:p,params:m}){let y;const b=async(w=0)=>{const E=h[w]({...d,chain:c,retryCount:0,timeout:u});try{const C=await E.request({method:p,params:m});return f({method:p,params:m,response:C,transport:E,status:"success"}),C}catch(C){if(f({error:C,method:p,params:m,transport:E,status:"error"}),i(C)||w===h.length-1||(y??(y=h.slice(w+1).some(I=>{const{include:A,exclude:x}=I({chain:c}).config.methods||{};return A?A.includes(p):x?!x.includes(p):!0})),!y))throw C;return b(w+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:p=>f=p,transports:h.map(p=>p({chain:c,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};LF({chain:c,interval:p.interval??l,onTransports:m=>h=m,ping:p.ping,sampleCount:p.sampleCount,timeout:p.timeout,transports:h,weights:p.weights})}return g}}function $F(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===el.code||t.code===qt.code||Fo.nodeMessage.test(t.message)||t.code===5e3))}function LF({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async p=>{const m=p({chain:t,retryCount:0,timeout:i}),y=Date.now();let b,w;try{await(r?r({transport:m}):m.request({method:"net_listening"})),w=1}catch{w=0}finally{b=Date.now()}return{latency:b-y,success:w}}));u.push(h),u.length>s&&u.shift();const f=Math.max(...u.map(p=>Math.max(...p.map(({latency:m})=>m)))),g=o.map((p,m)=>{const y=u.map(I=>I[m].latency),w=1-y.reduce((I,A)=>I+A,0)/y.length/f,E=u.map(I=>I[m].success),C=E.reduce((I,A)=>I+A,0)/E.length;return C===0?[0,m]:[l*w+c*C,m]}).sort((p,m)=>m[0]-p[0]);n(g.map(([,p])=>o[p])),await ip(e),d()};d()}class FF extends H{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Mo(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:g=1e3,wait:p=0}=typeof n=="object"?n:{},m=e.retryCount??h,y=f??e.timeout??1e4,b=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!b)throw new FF;const w=iL(b,{fetchOptions:r,onRequest:a,onResponse:c,timeout:y});return dv({key:s,methods:i,name:o,async request({method:E,params:C}){const I={method:E,params:C},{schedule:A}=DP({id:b,wait:p,shouldSplitBatch(N){return N.length>g},fn:N=>w.request({body:N}),sort:(N,B)=>N.id-B.id}),x=async N=>n?A(N):[await w.request({body:N})],[{error:v,result:R}]=await x(I);if(u)return{error:v,result:R};if(v)throw new kw({body:I,error:v,url:b});return R},retryCount:m,retryDelay:l,timeout:y,type:"http"},{fetchOptions:r,url:b})}}function UF(t){var d,h,f;const{scheme:e,statement:n,...r}=((d=t.match(MF))==null?void 0:d.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...l}=((h=t.match(zF))==null?void 0:h.groups)??{},u=(f=t.split("Resources:")[1])==null?void 0:f.split(`
- `).slice(1);return{...r,...l,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const MF=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,zF=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function VF(t){const{address:e,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=t;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||e&&!ug(r.address,e))return!1}catch{return!1}return!0}async function jF(t,e){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...l}=e,u=UF(s);if(!u.address||!VF({address:n,domain:r,message:u,nonce:i,scheme:o,time:c}))return!1;const h=IT(s);return lv(t,{address:u.address,hash:h,signature:a,...l})}function HF(t){return{call:e=>bh(t,e),createAccessList:e=>zP(t,e),createBlockFilter:()=>l$(t),createContractEventFilter:e=>Yw(t,e),createEventFilter:e=>VP(t,e),createPendingTransactionFilter:()=>jP(t),estimateContractGas:e=>HP(t,e),estimateGas:e=>sg(t,e),getBalance:e=>Fw(t,e),getBlobBaseFee:()=>d$(t),getBlock:e=>Rs(t,e),getBlockNumber:e=>vh(t,e),getBlockTransactionCount:e=>y$(t,e),getBytecode:e=>r1(t,e),getChainId:()=>_l(t),getCode:e=>r1(t,e),getContractEvents:e=>Jw(t,e),getEip712Domain:e=>E$(t,e),getEnsAddress:e=>BP(t,e),getEnsAvatar:e=>UP(t,e),getEnsName:e=>MP(t,e),getEnsResolver:e=>c$(t,e),getEnsText:e=>FP(t,e),getFeeHistory:e=>I$(t,e),estimateFeesPerGas:e=>u8(t,e),getFilterChanges:e=>dg(t,e),getFilterLogs:e=>x$(t,e),getGasPrice:()=>$w(t),getLogs:e=>Zw(t,e),getProof:e=>GL(t,e),estimateMaxPriorityFeePerGas:e=>l8(t,e),getStorageAt:e=>S$(t,e),getTransaction:e=>hg(t,e),getTransactionConfirmations:e=>_$(t,e),getTransactionCount:e=>Uw(t,e),getTransactionReceipt:e=>Pb(t,e),multicall:e=>GP(t,e),prepareTransactionRequest:e=>gh(t,e),readContract:e=>cs(t,e),sendRawTransaction:e=>jw(t,e),simulate:e=>Ob(t,e),simulateBlocks:e=>Ob(t,e),simulateCalls:e=>DL(t,e),simulateContract:e=>NT(t,e),verifyMessage:e=>PF(t,e),verifySiweMessage:e=>jF(t,e),verifyTypedData:e=>TF(t,e),uninstallFilter:e=>pg(t,e),waitForTransactionReceipt:e=>TT(t,e),watchBlocks:e=>$L(t,e),watchBlockNumber:e=>ST(t,e),watchContractEvent:e=>GT(t,e),watchEvent:e=>LL(t,e),watchPendingTransactions:e=>_T(t,e)}}function qF(t){const{key:e="public",name:n="Public Client"}=t;return yg({...t,key:e,name:n,type:"publicClient"}).extend(HF)}function WF(t){return{addChain:e=>M5(t,e),deployContract:e=>T8(t,e),getAddresses:()=>FL(t),getCallsStatus:e=>PT(t,e),getCapabilities:()=>ML(t),getChainId:()=>_l(t),getPermissions:()=>UL(t),prepareAuthorization:e=>OT(t,e),prepareTransactionRequest:e=>gh(t,e),requestAddresses:()=>KL(t),requestPermissions:e=>YL(t,e),sendCalls:e=>zL(t,e),sendRawTransaction:e=>jw(t,e),sendTransaction:e=>ig(t,e),showCallsStatus:e=>VL(t,e),signAuthorization:e=>QL(t,e),signMessage:e=>RT(t,e),signTransaction:e=>ZL(t,e),signTypedData:e=>JL(t,e),switchChain:e=>XL(t,e),waitForCallsStatus:e=>jL(t,e),watchAsset:e=>OF(t,e),writeContract:e=>uv(t,e)}}function Om(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return yg({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(WF)}async function bg(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new BF({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new NF;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new DF({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=xt(e.account??n.accounts[0]);if(o&&(o.address=Os(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new kF({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return yg({account:o,chain:a,name:"Connector Client",transport:l=>jb(c)({...l,retryCount:0})})}async function GF(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}async function KF(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await bg(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return $n(o,sg,"estimateGas")({...s,account:i})}function YT(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(G3[t])}async function YF(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return $n(o,GP,"multicall")({allowFailure:n,contracts:s,...i})}function QF(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return $n(s,cs,"readContract")(r)}async function ZF(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[h,f]of o.entries()){const g=f.chainId??t.state.chainId;c[g]||(c[g]=[]),(a=c[g])==null||a.push({contract:f,index:h})}const l=()=>Object.entries(c).map(([h,f])=>YF(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(h),contracts:f.map(({contract:g})=>g)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(h=>h.map(({index:f})=>f));return u.reduce((h,f,g)=>(h&&(h[d[g]]=f),h),[])}catch(c){if(c instanceof TP)throw c;const l=()=>o.map(u=>QF(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function JF(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await R1(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(h){if(h.name==="ContractFunctionExecutionError"){const f=await R1(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),g=s2(os(f.symbol,{dir:"right"}));return{...f,symbol:g}}throw h}const c=t.getClient({chainId:i}),u=await $n(c,Fw,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(h=>h.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:Sl(u,YT(a)),symbol:d.nativeCurrency.symbol,value:u}}async function R1(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await ZF(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=Sl(c??"0",YT(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}let Kh=[];function Ha(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||D5(Kh,e)?Kh:(Kh=e,e)}function XF(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return $n(s,BP,"getEnsAddress")(r)}function eU(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return $n(s,UP,"getEnsAvatar")(r)}function tU(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return $n(s,MP,"getEnsName")(r)}async function nU(t,e){const{account:n,chainId:r,...s}=e,i=n??cb(t).address,o=t.getClient({chainId:r});return $n(o,gh,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}async function rU(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await bg(t,{account:n??void 0,chainId:r,connector:s}),await $n(o,ig,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function sU(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await bg(t,{account:n,connector:r}),$n(i,RT,"signMessage")({...s,...n?{account:n}:{}})}class Mi extends fo{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class iU extends fo{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function N1(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new iU({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new Ed;return t.setState(a=>({...a,chainId:r})),i}function oU(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function aU(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=$n(l,_T,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function cU(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await $n(i,TT,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await $n(i,hg,"getTransaction")({hash:a.transactionHash}),d=await $n(i,bh,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),h=d!=null&&d.data?s2(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}async function lU(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await bg(t,{account:n??void 0,chainId:r,connector:s}),await $n(o,uv,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function Tme(t){return t}Ch.type="injected";function Ch(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...uU[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Ch.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){var f,g,p,m,y,b;const d=await this.getProvider();if(!d)throw new Mi;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(m=(p=(g=(f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:f.caveats)==null?void 0:g[0])==null?void 0:p.value)==null?void 0:m.map(E=>Os(E)),h.length>0&&(h=await this.getAccounts())}catch(w){const E=w;if(E.code===qt.code)throw new qt(E);if(E.code===Ji.code)throw E}try{!(h!=null&&h.length)&&!u&&(h=(await d.request({method:"eth_requestAccounts"})).map(C=>Os(C))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let w=await this.getChainId();if(l&&w!==l){const E=await this.switchChain({chainId:l}).catch(C=>{if(C.code===qt.code)throw C;return{id:w}});w=(E==null?void 0:E.id)??w}return e&&await((y=c.storage)==null?void 0:y.removeItem(`${this.id}.disconnected`)),t.target||await((b=c.storage)==null?void 0:b.setItem("injected.connected",!0)),{accounts:h,chainId:w}}catch(w){const E=w;throw E.code===qt.code?new qt(E):E.code===Ji.code?new Ji(E):E}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new Mi;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await mT(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new Mi;return(await l.request({method:"eth_accounts"})).map(d=>Os(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new Mi;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=Df(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const g=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",g),!!await this.getProvider()),p=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(g()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(g()),p))]))return!0}throw new Mi}return!!(await op(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var g,p,m,y;const d=await this.getProvider();if(!d)throw new Mi;const h=c.chains.find(b=>b.id===u);if(!h)throw new $s(new Ed);const f=new Promise(b=>{const w=E=>{"chainId"in E&&E.chainId===u&&(c.emitter.off("change",w),b())};c.emitter.on("change",w)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:fe(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),f]),h}catch(b){const w=b;if(w.code===4902||((p=(g=w==null?void 0:w.data)==null?void 0:g.originalError)==null?void 0:p.code)===4902)try{const{default:E,...C}=h.blockExplorers??{};let I;l!=null&&l.blockExplorerUrls?I=l.blockExplorerUrls:E&&(I=[E.url,...Object.values(C).map(v=>v.url)]);let A;(m=l==null?void 0:l.rpcUrls)!=null&&m.length?A=l.rpcUrls:A=[((y=h.rpcUrls.default)==null?void 0:y.http[0])??""];const x={blockExplorerUrls:I,chainId:fe(u),chainName:(l==null?void 0:l.chainName)??h.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??h.nativeCurrency,rpcUrls:A};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[x]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new qt(new Error("User rejected switch after adding network."))}),f]),h}catch(E){throw new qt(E)}throw w.code===qt.code?new qt(w):new $s(w)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>Os(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const uU={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Df(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Df(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Df(t,"isPhantom")}}};function Df(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function dU(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function hU(){const t=new Set;let e=[];const n=()=>dU(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const fU=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=h=>{const f=o(h);if(!u(d,f)){const g=d;a(d=f,g)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},pU=fU;function gU(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Hb=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Hb(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Hb(r)(n)}}}},mU=(t,e)=>(n,r,s)=>{let i={storage:gU(()=>localStorage),partialize:p=>p,version:0,merge:(p,m)=>({...m,...p}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...p)},r,s);const u=()=>{const p=i.partialize({...r()});return l.setItem(i.name,{state:p,version:i.version})},d=s.setState;s.setState=(p,m)=>{d(p,m),u()};const h=t((...p)=>{n(...p),u()},r,s);s.getInitialState=()=>h;let f;const g=()=>{var p,m;if(!l)return;o=!1,a.forEach(b=>{var w;return b((w=r())!=null?w:h)});const y=((m=i.onRehydrateStorage)==null?void 0:m.call(i,(p=r())!=null?p:h))||void 0;return Hb(l.getItem.bind(l))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var w;const[E,C]=b;if(f=i.merge(C,(w=r())!=null?w:h),n(f,!0),E)return u()}).then(()=>{y==null||y(f,void 0),f=r(),o=!0,c.forEach(b=>b(f))}).catch(b=>{y==null||y(void 0,b)})};return s.persist={setOptions:p=>{i={...i,...p},p.storage&&(l=p.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||g(),f||h},yU=mU,k1=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},Rm=t=>t?k1(t):k1;var Nm={exports:{}},D1;function bU(){return D1||(D1=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,d||c,h),g=n?n+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],f]:c._events[g].push(f):(c._events[g]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,g=new Array(f);h<f;h++)g[h]=d[h].fn;return g},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,g){var p=n?n+l:l;if(!this._events[p])return!1;var m=this._events[p],y=arguments.length,b,w;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,d),!0;case 4:return m.fn.call(m.context,u,d,h),!0;case 5:return m.fn.call(m.context,u,d,h,f),!0;case 6:return m.fn.call(m.context,u,d,h,f,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];m.fn.apply(m.context,b)}else{var E=m.length,C;for(w=0;w<E;w++)switch(m[w].once&&this.removeListener(l,m[w].fn,void 0,!0),y){case 1:m[w].fn.call(m[w].context);break;case 2:m[w].fn.call(m[w].context,u);break;case 3:m[w].fn.call(m[w].context,u,d);break;case 4:m[w].fn.call(m[w].context,u,d,h);break;default:if(!b)for(C=1,b=new Array(y-1);C<y;C++)b[C-1]=arguments[C];m[w].fn.apply(m[w].context,b)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&o(this,f);else{for(var p=0,m=[],y=g.length;p<y;p++)(g[p].fn!==u||h&&!g[p].once||d&&g[p].context!==d)&&m.push(g[p]);m.length?this._events[f]=m.length===1?m[0]:m:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(Nm)),Nm.exports}var wU=bU();const vU=e2(wU);class EU{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new vU})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function CU(t){return new EU(t)}function AU(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function B1(t,e){return t.slice(0,e).join(".")||"."}function $1(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function IU(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=$1(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=$1(s,c);if(u!==0)return r?e.call(this,a,c,B1(i,u)):`[ref=${B1(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function xU(t,e,n,r){return JSON.stringify(t,IU((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function SU(t){const{deserialize:e=AU,key:n="wagmi",serialize:r=xU,storage:s=QT}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const QT={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function _U(){const t=typeof window<"u"&&window.localStorage?window.localStorage:QT;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const qb=256;let Yh=qb,Qh;function PU(t=11){if(!Qh||Yh+t>qb*2){Qh="",Yh=0;for(let e=0;e<qb;e++)Qh+=(256+Math.random()*256|0).toString(16).substring(1)}return Qh.substring(Yh,Yh+++t)}function TU(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=SU({storage:_U()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?hU():void 0,a=Rm(()=>i.chains),c=Rm(()=>{const C=[],I=new Set;for(const A of i.connectors??[]){const x=l(A);if(C.push(x),!s&&x.rdns){const v=typeof x.rdns=="string"?[x.rdns]:x.rdns;for(const R of v)I.add(R)}}if(!s&&o){const A=o.getProviders();for(const x of A)I.has(x.info.rdns)||C.push(l(u(x)))}return C});function l(C){var x;const I=CU(PU()),A={...C({emitter:I,chains:a.getState(),storage:n,transports:i.transports}),emitter:I,uid:I.uid};return I.on("connect",w),(x=A.setup)==null||x.call(A),A}function u(C){const{info:I}=C,A=C.provider;return Ch({target:{...I,id:I.rdns,provider:A}})}const d=new Map;function h(C={}){const I=C.chainId??m.getState().chainId,A=a.getState().find(v=>v.id===I);if(C.chainId&&!A)throw new Ed;{const v=d.get(m.getState().chainId);if(v&&!A)return v;if(!A)throw new Ed}{const v=d.get(I);if(v)return v}let x;if(i.client)x=i.client({chain:A});else{const v=A.id,R=a.getState().map(F=>F.id),N={},B=Object.entries(i);for(const[F,_]of B)if(!(F==="chains"||F==="client"||F==="connectors"||F==="transports"))if(typeof _=="object")if(v in _)N[F]=_[v];else{if(R.some(S=>S in _))continue;N[F]=_}else N[F]=_;x=yg({...N,chain:A,batch:N.batch??{multicall:!0},transport:F=>i.transports[v]({...F,connectors:c})})}return d.set(I,x),x}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let g;const p="0.0.0-canary-";um.startsWith(p)?g=Number.parseInt(um.replace(p,"")):g=Number.parseInt(um.split(".")[0]??"0");const m=Rm(pU(n?yU(f,{migrate(C,I){if(I===g)return C;const A=f(),x=y(C,A.chainId);return{...A,chainId:x}},name:"store",partialize(C){return{connections:{__type:"Map",value:Array.from(C.connections.entries()).map(([I,A])=>{const{id:x,name:v,type:R,uid:N}=A.connector;return[I,{...A,connector:{id:x,name:v,type:R,uid:N}}]})},chainId:C.chainId,current:C.current}},merge(C,I){typeof C=="object"&&C&&"status"in C&&delete C.status;const A=y(C,I.chainId);return{...I,...C,chainId:A}},skipHydration:s,storage:n,version:g}):f));m.setState(f());function y(C,I){return C&&typeof C=="object"&&"chainId"in C&&typeof C.chainId=="number"&&a.getState().some(A=>A.id===C.chainId)?C.chainId:I}r&&m.subscribe(({connections:C,current:I})=>{var A;return I?(A=C.get(I))==null?void 0:A.chainId:void 0},C=>{if(a.getState().some(A=>A.id===C))return m.setState(A=>({...A,chainId:C??A.chainId}))}),o==null||o.subscribe(C=>{const I=new Set,A=new Set;for(const v of c.getState())if(I.add(v.id),v.rdns){const R=typeof v.rdns=="string"?[v.rdns]:v.rdns;for(const N of R)A.add(N)}const x=[];for(const v of C){if(A.has(v.info.rdns))continue;const R=l(u(v));I.has(R.id)||x.push(R)}n&&!m.persist.hasHydrated()||c.setState(v=>[...v,...x],!0)});function b(C){m.setState(I=>{const A=I.connections.get(C.uid);return A?{...I,connections:new Map(I.connections).set(C.uid,{accounts:C.accounts??A.accounts,chainId:C.chainId??A.chainId,connector:A.connector})}:I})}function w(C){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(I=>{const A=c.getState().find(x=>x.uid===C.uid);return A?(A.emitter.listenerCount("connect")&&A.emitter.off("connect",b),A.emitter.listenerCount("change")||A.emitter.on("change",b),A.emitter.listenerCount("disconnect")||A.emitter.on("disconnect",E),{...I,connections:new Map(I.connections).set(C.uid,{accounts:C.accounts,chainId:C.chainId,connector:A}),current:C.uid,status:"connected"}):I})}function E(C){m.setState(I=>{const A=I.connections.get(C.uid);if(A){const v=A.connector;v.emitter.listenerCount("change")&&A.connector.emitter.off("change",b),v.emitter.listenerCount("disconnect")&&A.connector.emitter.off("disconnect",E),v.emitter.listenerCount("connect")||A.connector.emitter.on("connect",w)}if(I.connections.delete(C.uid),I.connections.size===0)return{...I,connections:new Map,current:null,status:"disconnected"};const x=I.connections.values().next().value;return{...I,connections:new Map(I.connections),current:x.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return m.getState()},setState(C){let I;typeof C=="function"?I=C(m.getState()):I=C;const A=f();typeof I!="object"&&(I=A),Object.keys(A).some(v=>!(v in I))&&(I=A),m.setState(I,!0)},subscribe(C,I,A){return m.subscribe(C,I,A?{...A,fireImmediately:A.emitImmediately}:void 0)},_internal:{mipd:o,store:m,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(C){const I=typeof C=="function"?C(a.getState()):C;if(I.length!==0)return a.setState(I,!0)},subscribe(C){return a.subscribe(C)}},connectors:{providerDetailToConnector:u,setup:l,setState(C){return c.setState(typeof C=="function"?C(c.getState()):C,!0)},subscribe(C){return c.subscribe(C)}},events:{change:b,connect:w,disconnect:E}}}}var wg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vg=typeof window>"u"||"Deno"in globalThis;function Yr(){}function OU(t,e){return typeof t=="function"?t(e):t}function RU(t){return typeof t=="number"&&t>=0&&t!==1/0}function NU(t,e){return Math.max(t+(e||0)-Date.now(),0)}function L1(t,e){return typeof t=="function"?t(e):t}function kU(t,e){return typeof t=="function"?t(e):t}function F1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==hv(o,e.options))return!1}else if(!Ad(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function U1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Cd(e.options.mutationKey)!==Cd(i))return!1}else if(!Ad(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function hv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Cd)(t)}function Cd(t){return JSON.stringify(t,(e,n)=>Wb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ad(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ad(t[n],e[n])):!1}function ZT(t,e){if(t===e)return t;const n=M1(t)&&M1(e);if(n||Wb(t)&&Wb(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let l=0;l<o;l++){const u=n?l:i[l];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,c++):(a[u]=ZT(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function M1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Wb(t){if(!z1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!z1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function z1(t){return Object.prototype.toString.call(t)==="[object Object]"}function DU(t){return new Promise(e=>{setTimeout(e,t)})}function BU(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ZT(t,e):e}function $U(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function LU(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var fv=Symbol();function JT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===fv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var qo,ji,Uc,LS,FU=(LS=class extends wg{constructor(){super();Le(this,qo);Le(this,ji);Le(this,Uc);Ae(this,Uc,e=>{if(!vg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,ji)||this.setEventListener(z(this,Uc))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,ji))==null||e.call(this),Ae(this,ji,void 0))}setEventListener(e){var n;Ae(this,Uc,e),(n=z(this,ji))==null||n.call(this),Ae(this,ji,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,qo)!==e&&(Ae(this,qo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,qo)=="boolean"?z(this,qo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},qo=new WeakMap,ji=new WeakMap,Uc=new WeakMap,LS),XT=new FU,Mc,Hi,zc,FS,UU=(FS=class extends wg{constructor(){super();Le(this,Mc,!0);Le(this,Hi);Le(this,zc);Ae(this,zc,e=>{if(!vg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Hi)||this.setEventListener(z(this,zc))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Hi))==null||e.call(this),Ae(this,Hi,void 0))}setEventListener(e){var n;Ae(this,zc,e),(n=z(this,Hi))==null||n.call(this),Ae(this,Hi,e(this.setOnline.bind(this)))}setOnline(e){z(this,Mc)!==e&&(Ae(this,Mc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Mc)}},Mc=new WeakMap,Hi=new WeakMap,zc=new WeakMap,FS),lp=new UU;function MU(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function zU(t){return Math.min(1e3*2**t,3e4)}function eO(t){return(t??"online")==="online"?lp.isOnline():!0}var tO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function km(t){return t instanceof tO}function nO(t){let e=!1,n=0,r=!1,s;const i=MU(),o=p=>{var m;r||(h(new tO(p)),(m=t.abort)==null||m.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>XT.isFocused()&&(t.networkMode==="always"||lp.isOnline())&&t.canRun(),u=()=>eO(t.networkMode)&&t.canRun(),d=p=>{var m;r||(r=!0,(m=t.onSuccess)==null||m.call(t,p),s==null||s(),i.resolve(p))},h=p=>{var m;r||(r=!0,(m=t.onError)==null||m.call(t,p),s==null||s(),i.reject(p))},f=()=>new Promise(p=>{var m;s=y=>{(r||l())&&p(y)},(m=t.onPause)==null||m.call(t)}).then(()=>{var p;s=void 0,r||(p=t.onContinue)==null||p.call(t)}),g=()=>{if(r)return;let p;const m=n===0?t.initialPromise:void 0;try{p=m??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(d).catch(y=>{var I;if(r)return;const b=t.retry??(vg?0:3),w=t.retryDelay??zU,E=typeof w=="function"?w(n,y):w,C=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(e||!C){h(y);return}n++,(I=t.onFail)==null||I.call(t,n,y),DU(E).then(()=>l()?void 0:f()).then(()=>{e?h(y):g()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?g():f().then(g),i)}}var VU=t=>setTimeout(t,0);function jU(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=VU;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Bn=jU(),Wo,US,rO=(US=class{constructor(){Le(this,Wo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),RU(this.gcTime)&&Ae(this,Wo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vg?1/0:5*60*1e3))}clearGcTimeout(){z(this,Wo)&&(clearTimeout(z(this,Wo)),Ae(this,Wo,void 0))}},Wo=new WeakMap,US),Vc,jc,kr,Go,_n,eh,Ko,Qr,ei,MS,HU=(MS=class extends rO{constructor(e){super();Le(this,Qr);Le(this,Vc);Le(this,jc);Le(this,kr);Le(this,Go);Le(this,_n);Le(this,eh);Le(this,Ko);Ae(this,Ko,!1),Ae(this,eh,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ae(this,Go,e.client),Ae(this,kr,z(this,Go).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ae(this,Vc,WU(this.options)),this.state=e.state??z(this,Vc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=z(this,_n))==null?void 0:e.promise}setOptions(e){this.options={...z(this,eh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,kr).remove(this)}setData(e,n){const r=BU(this.state.data,e,this.options);return hn(this,Qr,ei).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){hn(this,Qr,ei).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=z(this,_n))==null?void 0:r.promise;return(s=z(this,_n))==null||s.cancel(e),n?n.then(Yr).catch(Yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Vc))}isActive(){return this.observers.some(e=>kU(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!NU(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=z(this,_n))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=z(this,_n))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),z(this,kr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(z(this,_n)&&(z(this,Ko)?z(this,_n).cancel({revert:!0}):z(this,_n).cancelRetry()),this.scheduleGc()),z(this,kr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||hn(this,Qr,ei).call(this,{type:"invalidate"})}fetch(e,n){var c,l,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,_n))return z(this,_n).continueRetry(),z(this,_n).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Ae(this,Ko,!0),r.signal)})},i=()=>{const d=JT(this.options,n),h={client:z(this,Go),queryKey:this.queryKey,meta:this.meta};return s(h),Ae(this,Ko,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,Go),state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),Ae(this,jc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=o.fetchOptions)==null?void 0:l.meta))&&hn(this,Qr,ei).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var h,f,g,p;km(d)&&d.silent||hn(this,Qr,ei).call(this,{type:"error",error:d}),km(d)||((f=(h=z(this,kr).config).onError)==null||f.call(h,d,this),(p=(g=z(this,kr).config).onSettled)==null||p.call(g,this.state.data,d,this)),this.scheduleGc()};return Ae(this,_n,nO({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,f,g,p;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(m){a(m);return}(f=(h=z(this,kr).config).onSuccess)==null||f.call(h,d,this),(p=(g=z(this,kr).config).onSettled)==null||p.call(g,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{hn(this,Qr,ei).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{hn(this,Qr,ei).call(this,{type:"pause"})},onContinue:()=>{hn(this,Qr,ei).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),z(this,_n).start()}},Vc=new WeakMap,jc=new WeakMap,kr=new WeakMap,Go=new WeakMap,_n=new WeakMap,eh=new WeakMap,Ko=new WeakMap,Qr=new WeakSet,ei=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qU(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return km(s)&&s.revert&&z(this,jc)?{...z(this,jc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Bn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,kr).notify({query:this,type:"updated",action:e})})},MS);function qU(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function WU(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ss,zS,GU=(zS=class extends wg{constructor(e={}){super();Le(this,Ss);this.config=e,Ae(this,Ss,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??hv(s,n);let o=this.get(i);return o||(o=new HU({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,Ss).has(e.queryHash)||(z(this,Ss).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Ss).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Ss).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Ss).get(e)}getAll(){return[...z(this,Ss).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>F1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>F1(e,r)):n}notify(e){Bn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Bn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ss=new WeakMap,zS),_s,kn,Yo,Ps,Li,VS,KU=(VS=class extends rO{constructor(e){super();Le(this,Ps);Le(this,_s);Le(this,kn);Le(this,Yo);this.mutationId=e.mutationId,Ae(this,kn,e.mutationCache),Ae(this,_s,[]),this.state=e.state||YU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){z(this,_s).includes(e)||(z(this,_s).push(e),this.clearGcTimeout(),z(this,kn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ae(this,_s,z(this,_s).filter(n=>n!==e)),this.scheduleGc(),z(this,kn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){z(this,_s).length||(this.state.status==="pending"?this.scheduleGc():z(this,kn).remove(this))}continue(){var e;return((e=z(this,Yo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,h,f,g,p,m,y,b,w,E,C,I,A,x;const n=()=>{hn(this,Ps,Li).call(this,{type:"continue"})};Ae(this,Yo,nO({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(v,R)=>{hn(this,Ps,Li).call(this,{type:"failed",failureCount:v,error:R})},onPause:()=>{hn(this,Ps,Li).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,kn).canRun(this)}));const r=this.state.status==="pending",s=!z(this,Yo).canStart();try{if(r)n();else{hn(this,Ps,Li).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=z(this,kn).config).onMutate)==null?void 0:o.call(i,e,this));const R=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));R!==this.state.context&&hn(this,Ps,Li).call(this,{type:"pending",context:R,variables:e,isPaused:s})}const v=await z(this,Yo).start();return await((u=(l=z(this,kn).config).onSuccess)==null?void 0:u.call(l,v,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,v,e,this.state.context)),await((g=(f=z(this,kn).config).onSettled)==null?void 0:g.call(f,v,null,this.state.variables,this.state.context,this)),await((m=(p=this.options).onSettled)==null?void 0:m.call(p,v,null,e,this.state.context)),hn(this,Ps,Li).call(this,{type:"success",data:v}),v}catch(v){try{throw await((b=(y=z(this,kn).config).onError)==null?void 0:b.call(y,v,e,this.state.context,this)),await((E=(w=this.options).onError)==null?void 0:E.call(w,v,e,this.state.context)),await((I=(C=z(this,kn).config).onSettled)==null?void 0:I.call(C,void 0,v,this.state.variables,this.state.context,this)),await((x=(A=this.options).onSettled)==null?void 0:x.call(A,void 0,v,e,this.state.context)),v}finally{hn(this,Ps,Li).call(this,{type:"error",error:v})}}finally{z(this,kn).runNext(this)}}},_s=new WeakMap,kn=new WeakMap,Yo=new WeakMap,Ps=new WeakSet,Li=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Bn.batch(()=>{z(this,_s).forEach(r=>{r.onMutationUpdate(e)}),z(this,kn).notify({mutation:this,type:"updated",action:e})})},VS);function YU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ii,Zr,th,jS,QU=(jS=class extends wg{constructor(e={}){super();Le(this,ii);Le(this,Zr);Le(this,th);this.config=e,Ae(this,ii,new Set),Ae(this,Zr,new Map),Ae(this,th,0)}build(e,n,r){const s=new KU({mutationCache:this,mutationId:++Mh(this,th)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){z(this,ii).add(e);const n=Zh(e);if(typeof n=="string"){const r=z(this,Zr).get(n);r?r.push(e):z(this,Zr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,ii).delete(e)){const n=Zh(e);if(typeof n=="string"){const r=z(this,Zr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&z(this,Zr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Zh(e);if(typeof n=="string"){const r=z(this,Zr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Zh(e);if(typeof n=="string"){const s=(r=z(this,Zr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bn.batch(()=>{z(this,ii).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,ii).clear(),z(this,Zr).clear()})}getAll(){return Array.from(z(this,ii))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>U1(n,r))}findAll(e={}){return this.getAll().filter(n=>U1(e,n))}notify(e){Bn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Bn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Yr))))}},ii=new WeakMap,Zr=new WeakMap,th=new WeakMap,jS);function Zh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function V1(t){return{onFetch:(e,n)=>{var u,d,h,f,g;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let p=!1;const m=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=JT(e.options,e.fetchOptions),b=async(w,E,C)=>{if(p)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const I={client:e.client,queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};m(I);const A=await y(I),{maxPages:x}=e.options,v=C?LU:$U;return{pages:v(w.pages,A,x),pageParams:v(w.pageParams,E,x)}};if(s&&i.length){const w=s==="backward",E=w?ZU:j1,C={pages:i,pageParams:o},I=E(r,C);a=await b(C,I,w)}else{const w=t??i.length;do{const E=c===0?o[0]??r.initialPageParam:j1(r,a);if(c>0&&E==null)break;a=await b(a,E),c++}while(c<w)}return a};e.options.persister?e.fetchFn=()=>{var p,m;return(m=(p=e.options).persister)==null?void 0:m.call(p,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function j1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ZU(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var It,qi,Wi,Hc,qc,Gi,Wc,Gc,HS,JU=(HS=class{constructor(t={}){Le(this,It);Le(this,qi);Le(this,Wi);Le(this,Hc);Le(this,qc);Le(this,Gi);Le(this,Wc);Le(this,Gc);Ae(this,It,t.queryCache||new GU),Ae(this,qi,t.mutationCache||new QU),Ae(this,Wi,t.defaultOptions||{}),Ae(this,Hc,new Map),Ae(this,qc,new Map),Ae(this,Gi,0)}mount(){Mh(this,Gi)._++,z(this,Gi)===1&&(Ae(this,Wc,XT.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,It).onFocus())})),Ae(this,Gc,lp.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,It).onOnline())})))}unmount(){var t,e;Mh(this,Gi)._--,z(this,Gi)===0&&((t=z(this,Wc))==null||t.call(this),Ae(this,Wc,void 0),(e=z(this,Gc))==null||e.call(this),Ae(this,Gc,void 0))}isFetching(t){return z(this,It).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,qi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,It).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,It).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(L1(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,It).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,It).get(r.queryHash),i=s==null?void 0:s.state.data,o=OU(e,i);if(o!==void 0)return z(this,It).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Bn.batch(()=>z(this,It).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,It).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,It);Bn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,It);return Bn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Bn.batch(()=>z(this,It).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Yr).catch(Yr)}invalidateQueries(t,e={}){return Bn.batch(()=>(z(this,It).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Bn.batch(()=>z(this,It).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Yr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Yr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,It).build(this,e);return n.isStaleByTime(L1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Yr).catch(Yr)}fetchInfiniteQuery(t){return t.behavior=V1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Yr).catch(Yr)}ensureInfiniteQueryData(t){return t.behavior=V1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return lp.isOnline()?z(this,qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,It)}getMutationCache(){return z(this,qi)}getDefaultOptions(){return z(this,Wi)}setDefaultOptions(t){Ae(this,Wi,t)}setQueryDefaults(t,e){z(this,Hc).set(Cd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Hc).values()],n={};return e.forEach(r=>{Ad(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,qc).set(Cd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,qc).values()],n={};return e.forEach(r=>{Ad(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Wi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===fv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Wi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,It).clear(),z(this,qi).clear()}},It=new WeakMap,qi=new WeakMap,Wi=new WeakMap,Hc=new WeakMap,qc=new WeakMap,Gi=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,HS),XU=yr.createContext(void 0),eM=({client:t,children:e})=>(yr.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),vt.jsx(XU.Provider,{value:t,children:e}));const sO={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},tM={block:J2({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=ph(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?Gt(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:t.stateRoot}}}),transaction:Z2({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?Gt(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:P$({format(t){return{l1GasPrice:t.l1GasPrice?Gt(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?Gt(t.l1GasUsed):null,l1Fee:t.l1Fee?Gt(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function iO(t,e){return sM(t)?rM(t):vL(t,e)}const nM={transaction:iO};function rM(t){iM(t);const{sourceHash:e,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=t,l=[e,r,a??"0x",o?he(o):"0x",c?he(c):"0x",s?he(s):"0x",i?"0x1":"0x",n??"0x"];return tr(["0x7e",yi(l)])}function sM(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function iM(t){const{from:e,to:n}=t;if(e&&!Lt(e))throw new Cn({address:e});if(n&&!Lt(n))throw new Cn({address:n})}const up={contracts:sO,formatters:tM,serializers:nM},oO=Oa({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),pv=Oa({id:421614,name:"Arbitrum Sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://sepolia.arbiscan.io",apiUrl:"https://api-sepolia.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:81930}},testnet:!0}),tu=1,aO=Oa({...up,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...up.contracts,disputeGameFactory:{[tu]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[tu]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[tu]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[tu]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:tu}),nu=11155111,gv=Oa({...up,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...up.contracts,disputeGameFactory:{[nu]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[nu]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[nu]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[nu]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:nu}),oM={estimateFeesPerGas:async t=>{var s;if(!((s=t.request)!=null&&s.feeCurrency))return null;const[e,n]=await Promise.all([aM(t.client,t.request.feeCurrency),cM(t.client,t.request.feeCurrency)]);return{maxFeePerGas:t.multiply(e-n)+n,maxPriorityFeePerGas:n}}};async function aM(t,e){const n=await t.request({method:"eth_gasPrice",params:[e]});return BigInt(n)}async function cM(t,e){const n=await t.request({method:"eth_maxPriorityFeePerGas",params:[e]});return BigInt(n)}function cO(t){return t===0||t===0n||t===void 0||t===null||t==="0"||t===""||typeof t=="string"&&(os(t).toLowerCase()==="0x"||os(t).toLowerCase()==="0x00")}function _u(t){return!cO(t)}function lM(t){return typeof t.maxFeePerGas<"u"&&typeof t.maxPriorityFeePerGas<"u"}function lO(t){return t.type==="cip64"?!0:lM(t)&&_u(t.feeCurrency)}const uM={block:J2({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:{...ph(r),...r.gatewayFee?{gatewayFee:Gt(r.gatewayFee),gatewayFeeRecipient:r.gatewayFeeRecipient}:{},feeCurrency:r.feeCurrency}),...t.randomness?{randomness:t.randomness}:{}}}}),transaction:Z2({format(t){if(t.type==="0x7e")return{isSystemTx:t.isSystemTx,mint:t.mint?Gt(t.mint):void 0,sourceHash:t.sourceHash,type:"deposit"};const e={feeCurrency:t.feeCurrency};return t.type==="0x7b"?e.type="cip64":(t.type==="0x7c"&&(e.type="cip42"),e.gatewayFee=t.gatewayFee?Gt(t.gatewayFee):null,e.gatewayFeeRecipient=t.gatewayFeeRecipient),e}}),transactionRequest:s8({format(t){const e={};return t.feeCurrency&&(e.feeCurrency=t.feeCurrency),lO(t)&&(e.type="0x7b"),e}})};function dM(t,e){return lO(t)?fM(t,e):iO(t,e)}const hM={transaction:dM};function fM(t,e){gM(t);const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,feeCurrency:u,data:d}=t,h=[he(n),s?he(s):"0x",c?he(c):"0x",a?he(a):"0x",r?he(r):"0x",i??"0x",o?he(o):"0x",d??"0x",Eh(l),u,...Ol(t,e)];return tr(["0x7b",yi(h)])}const pM=fh;function gM(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i,feeCurrency:o}=t;if(e<=0)throw new uh({chainId:e});if(i&&!Lt(i))throw new Cn({address:i});if(r)throw new H("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(_u(s)&&s>pM)throw new oo({maxFeePerGas:s});if(_u(n)&&_u(s)&&n>s)throw new Xc({maxFeePerGas:s,maxPriorityFeePerGas:n});if(_u(o)&&!Lt(o))throw new H("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(cO(o))throw new H("`feeCurrency` must be provided for CIP-64 transactions.")}const mM={contracts:sO,formatters:uM,serializers:hM,fees:oM},uO=Oa({...mM,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:13112599}},testnet:!1}),dO=Oa({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),mv=Oa({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});var yM="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const H1=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),q1=4;function bM(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let C=1;C<r;C++)i.push(s+=n());let o=n(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const d=31,h=2**d,f=h>>>1,g=f>>1,p=h-1;let m=0;for(let C=0;C<d;C++)m=m<<1|u();let y=[],b=0,w=h;for(;;){let C=Math.floor(((m-b+1)*s-1)/w),I=0,A=r;for(;A-I>1;){let R=I+A>>>1;C<i[R]?A=R:I=R}if(I==0)break;y.push(I);let x=b+Math.floor(w*i[I]/s),v=b+Math.floor(w*i[I+1]/s)-1;for(;((x^v)&f)==0;)m=m<<1&p|u(),x=x<<1&p,v=v<<1&p|1;for(;x&~v&g;)m=m&f|m<<1&p>>>1|u(),x=x<<1^f,v=(v^f)<<1|f|1;b=x,w=1+v-x}let E=r-4;return y.map(C=>{switch(C-E){case 3:return E+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return E+256+(t[a++]<<8|t[a++]);case 1:return E+t[a++];default:return C-1}})}function wM(t){let e=0;return()=>t[e++]}function hO(t){return wM(bM(vM(t)))}function vM(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,o=0,a=0;s<n;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function EM(t){return t&1?~t>>1:t>>1}function CM(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=EM(e());return n}function Id(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function fO(t){return xd(()=>{let e=Id(t);if(e.length)return e})}function pO(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(AM(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(IM(n,t))}return e.flat()}function xd(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function gO(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)CM(t,n).forEach((i,o)=>r[o].push(i));return r}function AM(t,e){let n=1+e(),r=e(),s=xd(e);return gO(s.length,1+t,e).flatMap((o,a)=>{let[c,...l]=o;return Array(s[a]).fill().map((u,d)=>{let h=d*r;return[c+d*n,l.map(f=>f+h)]})})}function IM(t,e){let n=1+e();return gO(n,1+t,e).map(s=>[s[0],s.slice(1)])}function xM(t){let e=[],n=Id(t);return s(r([]),[]),e;function r(i){let o=t(),a=xd(()=>{let c=Id(t).map(l=>n[l]);if(c.length)return r(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let l of o)for(let u of l.Q)s(l,[...a,u],c)}}}function SM(t){return t.toString(16).toUpperCase().padStart(2,"0")}function mO(t){return`{${SM(t)}}`}function _M(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function rl(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function PM(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var TM="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const Sd=44032,dp=4352,hp=4449,fp=4519,yO=19,bO=21,sl=28,pp=bO*sl,OM=yO*pp,RM=Sd+OM,NM=dp+yO,kM=hp+bO,DM=fp+sl;function Pu(t){return t>>24&255}function wO(t){return t&16777215}let Gb,W1,Kb,Bf;function BM(){let t=hO(TM);Gb=new Map(fO(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),W1=new Set(Id(t)),Kb=new Map,Bf=new Map;for(let[e,n]of pO(t)){if(!W1.has(e)&&n.length==2){let[r,s]=n,i=Bf.get(r);i||(i=new Map,Bf.set(r,i)),i.set(s,e)}Kb.set(e,n.reverse())}}function vO(t){return t>=Sd&&t<RM}function $M(t,e){if(t>=dp&&t<NM&&e>=hp&&e<kM)return Sd+(t-dp)*pp+(e-hp)*sl;if(vO(t)&&e>fp&&e<DM&&(t-Sd)%sl==0)return t+(e-fp);{let n=Bf.get(t);return n&&(n=n.get(e),n)?n:-1}}function EO(t){Gb||BM();let e=[],n=[],r=!1;function s(i){let o=Gb.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(vO(i)){let o=i-Sd,a=o/pp|0,c=o%pp/sl|0,l=o%sl;s(dp+a),s(hp+c),l>0&&s(fp+l)}else{let o=Kb.get(i);o?n.push(...o):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=Pu(e[0]);for(let o=1;o<e.length;o++){let a=Pu(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(i=Pu(e[--c]),i<=a))break}i=Pu(e[o])}}return e}function LM(t){let e=[],n=[],r=-1,s=0;for(let i of t){let o=Pu(i),a=wO(i);if(r==-1)o==0?r=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),s=o;else{let c=$M(r,a);c>=0?r=c:s==0&&o==0?(e.push(r),r=a):(n.push(a),s=o)}}return r>=0&&e.push(r,...n),e}function CO(t){return EO(t).map(wO)}function FM(t){return LM(EO(t))}const G1=45,AO=".",IO=65039,xO=1,gp=t=>Array.from(t);function _d(t,e){return t.P.has(e)||t.Q.has(e)}class UM extends Array{get is_emoji(){return!0}}let Yb,SO,zo,Qb,_O,Bc,Dm,Ec,Po,K1,Zb;function yv(){if(Yb)return;let t=hO(yM);const e=()=>Id(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(h=>u.add(h));Yb=new Map(pO(t)),SO=n(),zo=e(),Qb=new Set(e().map(u=>zo[u])),zo=new Set(zo),_O=n(),n();let s=fO(t),i=t();const o=()=>{let u=new Set;return e().forEach(d=>r(u,s[d])),r(u,e()),u};Bc=xd(u=>{let d=xd(t).map(h=>h+96);if(d.length){let h=u>=i;d[0]-=32,d=rl(d),h&&(d=`Restricted[${d}]`);let f=o(),g=o(),p=!t();return{N:d,P:f,Q:g,M:p,R:h}}}),Dm=n(),Ec=new Map;let a=e().concat(gp(Dm)).sort((u,d)=>u-d);a.forEach((u,d)=>{let h=t(),f=a[d]=h?a[d-h]:{V:[],M:new Map};f.V.push(u),Dm.has(u)||Ec.set(u,f)});for(let{V:u,M:d}of new Set(Ec.values())){let h=[];for(let g of u){let p=Bc.filter(y=>_d(y,g)),m=h.find(({G:y})=>p.some(b=>y.has(b)));m||(m={G:new Set,V:[]},h.push(m)),m.V.push(g),r(m.G,p)}let f=h.flatMap(g=>gp(g.G));for(let{G:g,V:p}of h){let m=new Set(f.filter(y=>!g.has(y)));for(let y of p)d.set(y,m)}}Po=new Set;let c=new Set;const l=u=>Po.has(u)?c.add(u):Po.add(u);for(let u of Bc){for(let d of u.P)l(d);for(let d of u.Q)l(d)}for(let u of Po)!Ec.has(u)&&!c.has(u)&&Ec.set(u,xO);r(Po,CO(Po)),K1=xM(t).map(u=>UM.from(u)).sort(PM),Zb=new Map;for(let u of K1){let d=[Zb];for(let h of u){let f=d.map(g=>{let p=g.get(h);return p||(p=new Map,g.set(h,p)),p});h===IO?d.push(...f):d=f}for(let h of d)h.V=u}}function bv(t){return(PO(t)?"":`${wv(Eg([t]))} `)+mO(t)}function wv(t){return`"${t}"‎`}function MM(t){if(t.length>=4&&t[2]==G1&&t[3]==G1)throw new Error(`invalid label extension: "${rl(t.slice(0,4))}"`)}function zM(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function VM(t){let e=t[0],n=H1.get(e);if(n)throw Uu(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let o=H1.get(e);if(o){if(s==i)throw Uu(`${n} + ${o}`);s=i+1,n=o}}if(s==r)throw Uu(`trailing ${n}`)}function Eg(t,e=1/0,n=mO){let r=[];jM(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];PO(a)&&(r.push(rl(t.slice(s,o))),r.push(n(a)),s=o+1)}return r.push(rl(t.slice(s,i))),r.join("")}function jM(t,e){return yv(),zo.has(t)}function PO(t){return yv(),_O.has(t)}function HM(t){return KM(qM(t,FM,ZM))}function qM(t,e,n){if(!t)return[];yv();let r=0;return t.split(AO).map(s=>{let i=_M(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=QM(i,e,n),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(zM(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(h=>h<128))MM(u),l="ASCII";else{let h=a.flatMap(f=>f.is_emoji?[]:f);if(!h.length)l="Emoji";else{if(zo.has(u[0]))throw Uu("leading combining mark");for(let p=1;p<c;p++){let m=a[p];if(!m.is_emoji&&zo.has(m[0]))throw Uu(`emoji + combining mark: "${rl(a[p-1])} + ${Eg([m[0]])}"`)}VM(u);let f=gp(new Set(h)),[g]=GM(f);YM(g,h),WM(g,f),l=g.N}}o.type=l}catch(a){o.error=a}return o})}function WM(t,e){let n,r=[];for(let s of e){let i=Ec.get(s);if(i===xO)return;if(i){let o=i.M.get(s);if(n=n?n.filter(a=>o.has(a)):gp(o),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>_d(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function GM(t){let e=Bc;for(let n of t){let r=e.filter(s=>_d(s,n));if(!r.length)throw Bc.some(s=>_d(s,n))?OO(e[0],n):TO(n);if(e=r,r.length==1)break}return e}function KM(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${wv(Eg(e,63))}: ${s}`)}return rl(r)}).join(AO)}function TO(t){return new Error(`disallowed character: ${bv(t)}`)}function OO(t,e){let n=bv(e),r=Bc.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Uu(t){return new Error(`illegal placement: ${t}`)}function YM(t,e){for(let n of e)if(!_d(t,n))throw OO(t,n);if(t.M){let n=CO(e);for(let r=1,s=n.length;r<s;r++)if(Qb.has(n[r])){let i=r+1;for(let o;i<s&&Qb.has(o=n[i]);i++)for(let a=r;a<i;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${bv(o)}`);if(i-r>q1)throw new Error(`excessive non-spacing marks: ${wv(Eg(n.slice(r-1,i)))} (${i-r}/${q1})`);r=i}}}function QM(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=JM(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let o=t.pop();if(Po.has(o))s.push(o);else{let a=Yb.get(o);if(a)s.push(...a);else if(!SO.has(o))throw TO(o)}}}return s.length&&r.push(e(s)),r}function ZM(t){return t.filter(e=>e!=IO)}function JM(t,e){let n=Zb,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}function XM(t){return HM(t)}function ez(t){return XM(t)}const tz=Symbol(),Y1=Object.getPrototypeOf,Jb=new WeakMap,nz=t=>t&&(Jb.has(t)?Jb.get(t):Y1(t)===Object.prototype||Y1(t)===Array.prototype),rz=t=>nz(t)&&t[tz]||null,Q1=(t,e=!0)=>{Jb.set(t,e)},mp={},Bm=t=>typeof t=="object"&&t!==null,zi=new WeakMap,Tu=new WeakSet,sz=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>Bm(l)&&!Tu.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,d=r)=>{const h=s.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return Q1(f,!0),s.set(l,[u,f]),Reflect.ownKeys(l).forEach(g=>{if(Object.getOwnPropertyDescriptor(f,g))return;const p=Reflect.get(l,g),{enumerable:m}=Reflect.getOwnPropertyDescriptor(l,g),y={value:p,enumerable:m,configurable:!0};if(Tu.has(p))Q1(p,!1);else if(p instanceof Promise)delete y.value,y.get=()=>d(p);else if(zi.has(p)){const[b,w]=zi.get(p);y.value=i(b,w(),d)}Object.defineProperty(f,g,y)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!Bm(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(v,R=++a[0])=>{d!==R&&(d=R,h.forEach(N=>N(v,R)))};let g=a[1];const p=(v=++a[1])=>(g!==v&&!h.size&&(g=v,y.forEach(([R])=>{const N=R[1](v);N>d&&(d=N)})),d),m=v=>(R,N)=>{const B=[...R];B[1]=[v,...B[1]],f(B,N)},y=new Map,b=(v,R)=>{if((mp?"production":void 0)!=="production"&&y.has(v))throw new Error("prop listener already exists");if(h.size){const N=R[3](m(v));y.set(v,[R,N])}else y.set(v,[R])},w=v=>{var R;const N=y.get(v);N&&(y.delete(v),(R=N[1])==null||R.call(N))},E=v=>(h.add(v),h.size===1&&y.forEach(([N,B],F)=>{if((mp?"production":void 0)!=="production"&&B)throw new Error("remove already exists");const _=N[3](m(F));y.set(F,[N,_])}),()=>{h.delete(v),h.size===0&&y.forEach(([N,B],F)=>{B&&(B(),y.set(F,[N]))})}),C=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),A=e(C,{deleteProperty(v,R){const N=Reflect.get(v,R);w(R);const B=Reflect.deleteProperty(v,R);return B&&f(["delete",[R],N]),B},set(v,R,N,B){const F=Reflect.has(v,R),_=Reflect.get(v,R,B);if(F&&(t(_,N)||o.has(N)&&t(_,o.get(N))))return!0;w(R),Bm(N)&&(N=rz(N)||N);let T=N;if(N instanceof Promise)N.then(S=>{N.status="fulfilled",N.value=S,f(["resolve",[R],S])}).catch(S=>{N.status="rejected",N.reason=S,f(["reject",[R],S])});else{!zi.has(N)&&n(N)&&(T=c(N));const S=!Tu.has(T)&&zi.get(T);S&&b(R,S)}return Reflect.set(v,R,T,B),f(["set",[R],N,_]),!0}});o.set(l,A);const x=[C,p,i,E];return zi.set(A,x),Reflect.ownKeys(l).forEach(v=>{const R=Object.getOwnPropertyDescriptor(l,v);"value"in R&&(A[v]=l[v],delete R.value,delete R.writable),Object.defineProperty(C,v,R)}),A})=>[c,zi,Tu,t,e,n,r,s,i,o,a],[iz]=sz();function bt(t={}){return iz(t)}function Fn(t,e,n){const r=zi.get(t);(mp?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Pd(t,e){const n=zi.get(t);(mp?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,i]=n;return i(r,s(),e)}function fa(t){return Tu.add(t),t}function Mn(t,e,n,r){let s=t[e];return Fn(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}function oz(t){const e=bt({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(i=>i[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const Td={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var az=20,cz=1,Nl=1e6,lz=1e6,uz=-7,dz=21,hz=!1,Ah="[big.js] ",Ra=Ah+"Invalid ",Cg=Ra+"decimal places",fz=Ra+"rounding mode",RO=Ah+"Division by zero",et={},ks=void 0,pz=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function NO(){function t(e){var n=this;if(!(n instanceof t))return e===ks?NO():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Ra+"value");e=e===0&&1/e<0?"-0":String(e)}gz(n,e)}n.constructor=t}return t.prototype=et,t.DP=az,t.RM=cz,t.NE=uz,t.PE=dz,t.strict=hz,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function gz(t,e){var n,r,s;if(!pz.test(e))throw Error(Ra+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function Na(t,e,n,r){var s=t.c;if(n===ks&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(fz);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==ks))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==ks||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function ka(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}et.abs=function(){var t=new this.constructor(this);return t.s=1,t};et.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};et.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Nl)throw Error(Cg);if(!s[0])throw Error(RO);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,h=s.slice(),f=a=s.length,g=r.length,p=r.slice(0,a),m=p.length,y=t,b=y.c=[],w=0,E=o+(y.e=e.e-t.e)+1;for(y.s=i,i=E<0?0:E,h.unshift(0);m++<a;)p.push(0);do{for(l=0;l<10;l++){if(a!=(m=p.length))u=a>m?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=p[d]){u=s[d]>p[d]?1:-1;break}if(u<0){for(c=m==a?s:h;m;){if(p[--m]<c[m]){for(d=m;d&&!p[--d];)p[d]=9;--p[d],p[m]+=10}p[m]-=c[m]}for(;!p[0];)p.shift()}else break}b[w++]=u?l:++l,p[0]&&u?p[m]=r[f]||0:p=[r[f]]}while((f++<g||p[0]!==ks)&&i--);return!b[0]&&w!=1&&(b.shift(),y.e--,E--),w>E&&Na(y,E,n.RM,p[0]!==ks),y};et.eq=function(t){return this.cmp(t)===0};et.gt=function(t){return this.cmp(t)>0};et.gte=function(t){return this.cmp(t)>-1};et.lt=function(t){return this.cmp(t)<0};et.lte=function(t){return this.cmp(t)<1};et.minus=et.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-h){for((s=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};et.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(RO);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};et.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};et.plus=et.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};et.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-1e6||t>lz)throw Error(Ra+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};et.prec=function(t,e){if(t!==~~t||t<1||t>Nl)throw Error(Ra+"precision");return Na(new this.constructor(this),t,e)};et.round=function(t,e){if(t===ks)t=0;else if(t!==~~t||t<-1e6||t>Nl)throw Error(Cg);return Na(new this.constructor(this),t+this.e+1,e)};et.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Ah+"No square root");i=Math.sqrt(+ka(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Na(t,(s.DP-=4)+t.e+1,s.RM)};et.times=et.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};et.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==ks){if(t!==~~t||t<0||t>Nl)throw Error(Cg);for(n=Na(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return ka(n,!0,!!r)};et.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==ks){if(t!==~~t||t<0||t>Nl)throw Error(Cg);for(n=Na(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return ka(n,!1,!!r)};et[Symbol.for("nodejs.util.inspect.custom")]=et.toJSON=et.toString=function(){var t=this,e=t.constructor;return ka(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};et.toNumber=function(){var t=+ka(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Ah+"Imprecise conversion");return t};et.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==ks){if(t!==~~t||t<1||t>Nl)throw Error(Ra+"precision");for(n=Na(new r(n),t,e);n.c.length<t;)n.c.push(0)}return ka(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};et.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Ah+"valueOf disallowed");return ka(t,t.e<=e.NE||t.e>=e.PE,!0)};var ru=NO();const Jh={bigNumber(t){return t?new ru(t):new ru(0)},multiply(t,e){if(t===void 0||e===void 0)return new ru(0);const n=new ru(t),r=new ru(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},mz=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],yz=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],bz=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Y={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},wz={getERC20Abi:t=>Y.USDT_CONTRACT_ADDRESSES.includes(t)?bz:mz,getSwapAbi:()=>yz},Ti={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},De={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types"};function $m(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Pe={setItem(t,e){Ou()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Ou())return localStorage.getItem(t)||void 0},removeItem(t){Ou()&&localStorage.removeItem(t)},clear(){Ou()&&localStorage.clear()}};function Ou(){return typeof window<"u"&&typeof localStorage<"u"}function vz(t){return(t==null?void 0:t.endsWith(Y.WC_NAME_SUFFIX_LEGACY))||(t==null?void 0:t.endsWith(Y.WC_NAME_SUFFIX))}var Z1={};const Lm=(typeof process<"u"&&typeof Z1<"u"?Z1.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Ome=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Rme="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",an={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:Lm,SECURE_SITE_DASHBOARD:`${Lm}/dashboard`,SECURE_SITE_FAVICON:`${Lm}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},re={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=re.getActiveNamespace(),e=re.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Pe.setItem(De.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Pe.getItem(De.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Pe.removeItem(De.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Pe.setItem(De.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Pe.setItem(De.ACTIVE_CAIP_NETWORK_ID,t),re.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Pe.getItem(De.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Pe.removeItem(De.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=$m(t);Pe.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=re.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Pe.setItem(De.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Pe.getItem(De.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=$m(t);Pe.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Pe.getItem(De.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=$m(t);return Pe.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{Pe.setItem(De.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Pe.getItem(De.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Pe.removeItem(De.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Pe.getItem(De.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Pe.getItem(De.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Pe.setItem(De.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Pe.getItem(De.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Pe.getItem(De.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Pe.setItem(De.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=re.getConnectedNamespaces();e.includes(t)||(e.push(t),re.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=re.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),re.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Pe.getItem(De.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Pe.setItem(De.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Pe.removeItem(De.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Pe.getItem(De.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=re.getBalanceCache();Pe.setItem(De.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=re.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;re.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=re.getBalanceCache();e[t.caipAddress]=t,Pe.setItem(De.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Pe.getItem(De.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=re.getBalanceCache();Pe.setItem(De.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=re.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),re.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=re.getNativeBalanceCache();e[t.caipAddress]=t,Pe.setItem(De.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Pe.getItem(De.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=re.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;re.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=re.getEnsCache();e[t.address]=t,Pe.setItem(De.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=re.getEnsCache();Pe.setItem(De.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Pe.getItem(De.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=re.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;re.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=re.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Pe.setItem(De.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=re.getIdentityCache();Pe.setItem(De.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Pe.removeItem(De.PORTFOLIO_CACHE),Pe.removeItem(De.NATIVE_BALANCE_CACHE),Pe.removeItem(De.ENS_CACHE),Pe.removeItem(De.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Pe.setItem(De.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Pe.getItem(De.PREFERRED_ACCOUNT_TYPES);return JSON.parse(t)}catch{console.info("Unable to get preferred account types")}}},Ce={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Ce.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=an.TEN_SEC_MS:!0},isAllowedRetry(t,e=an.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+an.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(Ce.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},formatUniversalUrl(t,e){if(!Ce.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?re.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,Ce.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Y.W3M_API_URL},getBlockchainApiUrl(){return Y.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Y.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?an.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Y.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function su(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Ag{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await su(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await su(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await su(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await su(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await su(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const Ez={handleSolanaDeeplinkRedirect(t){if($.state.activeChain===Y.CHAIN.SOLANA){const e=window.location.href,n=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const r=e.startsWith("https")?"https":"http",s=e.split("/")[2],i=encodeURIComponent(`${r}://${s}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${i}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}}},sr=bt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Jr={state:sr,subscribeNetworkImages(t){return Fn(sr.networkImages,()=>t(sr.networkImages))},subscribeKey(t,e){return Mn(sr,t,e)},subscribe(t){return Fn(sr,()=>t(sr))},setWalletImage(t,e){sr.walletImages[t]=e},setNetworkImage(t,e){sr.networkImages[t]=e},setChainImage(t,e){sr.chainImages[t]=e},setConnectorImage(t,e){sr.connectorImages={...sr.connectorImages,[t]:e}},setTokenImage(t,e){sr.tokenImages[t]=e},setCurrencyImage(t,e){sr.currencyImages[t]=e}},Cz={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},Fm=bt({networkImagePromises:{}}),kO={async fetchWalletImage(t){if(t)return await Ie._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(Fm.networkImagePromises[t]||(Fm.networkImagePromises[t]=Ie._fetchNetworkImage(t)),await Fm.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Jr.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Jr.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return Jr.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Jr.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return Jr.state.connectorImages[t.imageId]},getChainImage(t){return Jr.state.networkImages[Cz[t]]}},Az={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?an.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Ce.isTelegram()){if(Ce.isIos())return t.filter(e=>e!=="google");if(Ce.isMac())return t.filter(e=>e!=="x");if(Ce.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},be=bt({features:an.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:{solana:"eoa",bip122:"payment",polkadot:"eoa",eip155:"smartAccount"},enableNetworkSwitch:!0}),Z={state:be,subscribeKey(t,e){return Mn(be,t,e)},setOptions(t){Object.assign(be,t)},setFeatures(t){if(!t)return;be.features||(be.features=an.DEFAULT_FEATURES);const e={...be.features,...t};be.features=e,be.features.socials&&(be.features.socials=Az.filterSocialsByPlatform(be.features.socials))},setProjectId(t){be.projectId=t},setCustomRpcUrls(t){be.customRpcUrls=t},setAllWallets(t){be.allWallets=t},setIncludeWalletIds(t){be.includeWalletIds=t},setExcludeWalletIds(t){be.excludeWalletIds=t},setFeaturedWalletIds(t){be.featuredWalletIds=t},setTokens(t){be.tokens=t},setTermsConditionsUrl(t){be.termsConditionsUrl=t},setPrivacyPolicyUrl(t){be.privacyPolicyUrl=t},setCustomWallets(t){be.customWallets=t},setIsSiweEnabled(t){be.isSiweEnabled=t},setIsUniversalProvider(t){be.isUniversalProvider=t},setSdkVersion(t){be.sdkVersion=t},setMetadata(t){be.metadata=t},setDisableAppend(t){be.disableAppend=t},setEIP6963Enabled(t){be.enableEIP6963=t},setDebug(t){be.debug=t},setEnableWalletConnect(t){be.enableWalletConnect=t},setEnableWalletGuide(t){be.enableWalletGuide=t},setEnableAuthLogger(t){be.enableAuthLogger=t},setEnableWallets(t){be.enableWallets=t},setHasMultipleAddresses(t){be.hasMultipleAddresses=t},setSIWX(t){be.siwx=t},setConnectMethodsOrder(t){be.features={...be.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){be.features={...be.features,walletFeaturesOrder:t}},setSocialsOrder(t){be.features={...be.features,socials:t}},setCollapseWallets(t){be.features={...be.features,collapseWallets:t}},setEnableEmbedded(t){be.enableEmbedded=t},setAllowUnsupportedChain(t){be.allowUnsupportedChain=t},setManualWCControl(t){be.manualWCControl=t},setEnableNetworkSwitch(t){be.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(be.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){be.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return be.universalProviderConfigOverride},getSnapshot(){return Pd(be)}},Oi=bt({message:"",variant:"info",open:!1}),Xo={state:Oi,subscribeKey(t,e){return Mn(Oi,t,e)},open(t,e){const{debug:n}=Z.state,{shortMessage:r,longMessage:s}=t;n&&(Oi.message=r,Oi.variant=e,Oi.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){Oi.open=!1,Oi.message="",Oi.variant="info"}},Iz=Ce.getAnalyticsUrl(),xz=new Ag({baseUrl:Iz,clientId:null}),Sz=["MODAL_CREATED"],qs=bt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),ct={state:qs,subscribe(t){return Fn(qs,()=>t(qs))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Z.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=ae.state.address;if(Sz.includes(t.data.event)||typeof window>"u")return;await xz.post({path:"/e",params:ct.getSdkProperties(),body:{eventId:Ce.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),qs.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Y.HTTP_STATUS_CODES.FORBIDDEN&&!qs.reportedErrors.FORBIDDEN&&(Xo.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Ou()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),qs.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;qs.timestamp=Date.now(),qs.data=t,(e=Z.state.features)!=null&&e.analytics&&ct._sendAnalyticsEvent(qs)}},_z=["1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"],Pz=Ce.getApiUrl(),Ir=new Ag({baseUrl:Pz,clientId:null}),Tz=40,J1=4,Oz=20,Ze=bt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Ie={state:Ze,subscribeKey(t,e){return Mn(Ze,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Z.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Z.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Ir.baseUrl}/getWalletImage/${t}`,n=await Ir.getBlob({path:e,params:Ie._getSdkProperties()});Jr.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Ir.baseUrl}/public/getAssetImage/${t}`,n=await Ir.getBlob({path:e,params:Ie._getSdkProperties()});Jr.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Ir.baseUrl}/public/getAssetImage/${t}`,n=await Ir.getBlob({path:e,params:Ie._getSdkProperties()});Jr.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Ir.baseUrl}/public/getCurrencyImage/${t}`,n=await Ir.getBlob({path:e,params:Ie._getSdkProperties()});Jr.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Ir.baseUrl}/public/getTokenImage/${t}`,n=await Ir.getBlob({path:e,params:Ie._getSdkProperties()});Jr.setTokenImage(t,URL.createObjectURL(n))},async fetchNetworkImages(){const t=$.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!kO.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Ie._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Ne.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Ie._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ie._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ie._fetchTokenImage(e)))},async fetchWallets(t){var r,s;const e=t.exclude??[];return Ie._getSdkProperties().sv.startsWith("html-core-")&&e.push(..._z),await Ir.get({path:"/getWallets",params:{...Ie._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(r=t.include)==null?void 0:r.join(","),exclude:(s=t.exclude)==null?void 0:s.join(",")}})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Z.state;if(t!=null&&t.length){const e={...Ie._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??J1,include:t},{data:n}=await Ie.fetchWallets(e);n.sort((s,i)=>t.indexOf(s.id)-t.indexOf(i.id));const r=n.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(r.map(s=>Ie._fetchWalletImage(s))),Ze.featured=n,Ze.allFeatured=n}},async fetchRecommendedWallets(){try{Ze.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=Z.state,r=[...e??[],...n??[]].filter(Boolean),s=$.getRequestedCaipNetworkIds().join(","),i={page:1,entries:J1,include:t,exclude:r,chains:s},{data:o,count:a}=await Ie.fetchWallets(i),c=re.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>Ie._fetchWalletImage(d))),Ze.recommended=o,Ze.allRecommended=o,Ze.count=a??0}catch{}finally{Ze.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=Z.state,s=$.getRequestedCaipNetworkIds().join(","),i=[...Ze.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:Tz,include:e,exclude:i,chains:s},{data:a,count:c}=await Ie.fetchWallets(o),l=a.slice(0,Oz).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Ie._fetchWalletImage(u))),Ze.wallets=Ce.uniqueBy([...Ze.wallets,...Ie._filterOutExtensions(a)],"id"),Ze.count=c>Ze.count?c:Ze.count,Ze.page=t},async initializeExcludedWallets({ids:t}){const e=$.getRequestedCaipNetworkIds().join(","),n={page:1,entries:t.length,include:t,chains:e},{data:r}=await Ie.fetchWallets(n);r&&r.forEach(s=>{Ze.excludedWallets.push({rdns:s.rdns,name:s.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=Z.state,s=$.getRequestedCaipNetworkIds().join(",");Ze.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await Ie.fetchWallets(i);ct.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Ie._fetchWalletImage(c)),Ce.wait(300)]),Ze.search=Ie._filterOutExtensions(o)},initPromise(t,e){const n=Ze.promises[t];return n||(Ze.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&Ie.initPromise("connectorImages",Ie.fetchConnectorImages),e&&Ie.initPromise("featuredWallets",Ie.fetchFeaturedWallets),n&&Ie.initPromise("recommendedWallets",Ie.fetchRecommendedWallets),r&&Ie.initPromise("networkImages",Ie.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=Z.state.features)!=null&&t.analytics&&Ie.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Ir.get({path:"/getAnalyticsConfig",params:Ie._getSdkProperties()});Z.setFeatures({analytics:t})}catch{Z.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){Ze.featured=Ze.allFeatured,Ze.recommended=Ze.allRecommended;return}const e=$.getRequestedCaipNetworkIds().join(",");Ze.featured=Ze.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ze.recommended=Ze.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},Ye=bt({view:"Connect",history:["Connect"],transactionStack:[]}),Xe={state:Ye,subscribeKey(t,e){return Mn(Ye,t,e)},pushTransactionStack(t){Ye.transactionStack.push(t)},popTransactionStack(t){var n,r;const e=Ye.transactionStack.pop();if(e)if(t)this.goBack(),(n=e==null?void 0:e.onCancel)==null||n.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const i=Ye.history.indexOf("ConnectingSiwe");i>0?this.goBackToIndex(i-1):(Bt.close(),Ye.history=[])}else e.view&&this.reset(e.view);(r=e==null?void 0:e.onSuccess)==null||r.call(e)}},push(t,e){t!==Ye.view&&(Ye.view=t,Ye.history.push(t),Ye.data=e)},reset(t,e){Ye.view=t,Ye.history=[t],Ye.data=e},replace(t,e){Ye.history.at(-1)===t||(Ye.view=t,Ye.history[Ye.history.length-1]=t,Ye.data=e)},goBack(){var e;const t=!$.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(Ye.history.length>1&&!Ye.history.includes("UnsupportedChain")){Ye.history.pop();const[n]=Ye.history.slice(-1);n&&(Ye.view=n)}else Bt.close();(e=Ye.data)!=null&&e.wallet&&(Ye.data.wallet=void 0),setTimeout(()=>{var n,r,s;if(t){ae.setFarcasterUrl(void 0,$.state.activeChain);const i=Ne.getAuthConnector();(n=i==null?void 0:i.provider)==null||n.reload();const o=Pd(Z.state);(s=(r=i==null?void 0:i.provider)==null?void 0:r.syncDappData)==null||s.call(r,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(Ye.history.length>1){Ye.history=Ye.history.slice(0,t+1);const[e]=Ye.history.slice(-1);e&&(Ye.view=e)}}},Ws=bt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Pn={state:Ws,subscribe(t){return Fn(Ws,()=>t(Ws))},setThemeMode(t){Ws.themeMode=t;try{const e=Ne.getAuthConnector();if(e){const n=Pn.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Qu(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Ws.themeVariables={...Ws.themeVariables,...t};try{const e=Ne.getAuthConnector();if(e){const n=Pn.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Qu(Ws.themeVariables,Ws.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Pd(Ws)}},DO={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},Je=bt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...DO}}),Ne={state:Je,subscribe(t){return Fn(Je,()=>{t(Je)})},subscribeKey(t,e){return Mn(Je,t,e)},initialize(t){t.forEach(e=>{const n=re.getConnectedConnectorId(e);n&&this.setConnectorId(n,e)})},setActiveConnector(t){t&&(Je.activeConnector=fa(t))},setConnectors(t){t.filter(n=>!Je.allConnectors.some(r=>r.id===n.id&&this.getConnectorName(r.name)===this.getConnectorName(n.name)&&r.chain===n.chain)).forEach(n=>{n.type!=="MULTI_CHAIN"&&Je.allConnectors.push(fa(n))}),Je.connectors=this.mergeMultiChainConnectors(Je.allConnectors)},removeAdapter(t){Je.allConnectors=Je.allConnectors.filter(e=>e.chain!==t),Je.connectors=this.mergeMultiChainConnectors(Je.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===Y.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=this.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===Y.CONNECTOR_ID.AUTH){const s=t,i=Pd(Z.state),o=Pn.getSnapshot().themeMode,a=Pn.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Qu(a,o)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var r;const e=t||$.state.activeChain,n=Je.connectors.find(s=>s.id===Y.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return Je.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return Je.allConnectors.find(e=>e.id===t)},getConnector(t,e){return Je.allConnectors.filter(r=>r.chain===$.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=Pd(Z.state),r=Pn.getSnapshot().themeMode,s=Pn.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Qu(s,r)})},getConnectorsByNamespace(t){const e=Je.allConnectors.filter(n=>n.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Ne.getConnector(t.id,t.rdns);$.state.activeChain===Y.CHAIN.SOLANA&&Ez.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?Xe.push("ConnectingExternal",{connector:e}):Xe.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(Je.allConnectors)},setFilterByNamespace(t){Je.filterByNamespace=t,Je.connectors=this.getConnectors(t),Ie.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Je.activeConnectorIds={...Je.activeConnectorIds,[e]:t},re.setConnectedConnectorId(e,t))},removeConnectorId(t){Je.activeConnectorIds={...Je.activeConnectorIds,[t]:void 0},re.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Je.activeConnectorIds[t]},isConnected(t){return t?!!Je.activeConnectorIds[t]:Object.values(Je.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Je.activeConnectorIds={...DO}}};function Xh(t,e){return Ne.getConnectorId(t)===e}function Rz(t){const e=Array.from($.state.chains.keys());let n=[];return t?(n.push([t,$.state.chains.get(t)]),Xh(t,Y.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&Xh(r,Y.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,$.state.chains.get(r)])}):Xh(t,Y.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&Xh(r,Y.CONNECTOR_ID.AUTH)&&n.push([r,$.state.chains.get(r)])})):n=Array.from($.state.chains.entries()),n}var Um={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xb=function(t,e){return Xb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Xb(t,e)};function Nz(t,e){Xb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var e0=function(){return e0=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e0.apply(this,arguments)};function kz(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Dz(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Bz(t,e){return function(n,r){e(n,r,t)}}function $z(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Lz(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Fz(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Uz(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Mz(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function t0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function BO(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function zz(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(BO(arguments[e]));return t}function Vz(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Od(t){return this instanceof Od?(this.v=t,this):new Od(t)}function jz(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(g,p){i.push([h,f,g,p])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(i[0][3],g)}}function c(h){h.value instanceof Od?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Hz(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Od(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function qz(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof t0=="function"?t0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function Wz(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Gz(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Kz(t){return t&&t.__esModule?t:{default:t}}function Yz(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Qz(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Zz=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return e0},__asyncDelegator:Hz,__asyncGenerator:jz,__asyncValues:qz,__await:Od,__awaiter:Lz,__classPrivateFieldGet:Yz,__classPrivateFieldSet:Qz,__createBinding:Uz,__decorate:Dz,__exportStar:Mz,__extends:Nz,__generator:Fz,__importDefault:Kz,__importStar:Gz,__makeTemplateObject:Wz,__metadata:$z,__param:Bz,__read:BO,__rest:kz,__spread:zz,__spreadArrays:Vz,__values:t0},Symbol.toStringTag,{value:"Module"})),Ig=wD(Zz);var Mm={},iu={},X1;function Jz(){if(X1)return iu;X1=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return iu.delay=t,iu}var mo={},zm={},yo={},eC;function Xz(){return eC||(eC=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.ONE_THOUSAND=yo.ONE_HUNDRED=void 0,yo.ONE_HUNDRED=100,yo.ONE_THOUSAND=1e3),yo}var Vm={},tC;function eV(){return tC||(tC=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Vm)),Vm}var nC;function $O(){return nC||(nC=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ig;e.__exportStar(Xz(),t),e.__exportStar(eV(),t)}(zm)),zm}var rC;function tV(){if(rC)return mo;rC=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.fromMiliseconds=mo.toMiliseconds=void 0;const t=$O();function e(r){return r*t.ONE_THOUSAND}mo.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return mo.fromMiliseconds=n,mo}var sC;function nV(){return sC||(sC=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ig;e.__exportStar(Jz(),t),e.__exportStar(tV(),t)}(Mm)),Mm}var qa={},iC;function rV(){if(iC)return qa;iC=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return qa.Watch=t,qa.default=t,qa}var jm={},ou={},oC;function sV(){if(oC)return ou;oC=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.IWatch=void 0;class t{}return ou.IWatch=t,ou}var aC;function iV(){return aC||(aC=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Ig.__exportStar(sV(),t)}(jm)),jm}var cC;function oV(){return cC||(cC=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ig;e.__exportStar(nV(),t),e.__exportStar(rV(),t),e.__exportStar(iV(),t),e.__exportStar($O(),t)}(Um)),Um}var Q=oV();class Da{}let aV=class extends Da{constructor(e){super()}};const lC=Q.FIVE_SECONDS,kl={pulse:"heartbeat_pulse"};let cV=class LO extends aV{constructor(e){super(e),this.events=new ps.EventEmitter,this.interval=lC,this.interval=(e==null?void 0:e.interval)||lC}static async init(e){const n=new LO(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Q.toMiliseconds(this.interval))}pulse(){this.events.emit(kl.pulse)}};const lV=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,uV=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,dV=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function hV(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){fV(t);return}return e}function fV(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function ef(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!dV.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(lV.test(t)||uV.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,hV)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function pV(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Xt(t,...e){try{return pV(t(...e))}catch(n){return Promise.reject(n)}}function gV(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function mV(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function $f(t){if(gV(t))return String(t);if(mV(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return $f(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const n0="base64:";function yV(t){return typeof t=="string"?t:n0+vV(t)}function bV(t){return typeof t!="string"||!t.startsWith(n0)?t:wV(t.slice(n0.length))}function wV(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function vV(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Wn(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function EV(...t){return Wn(t.join(":"))}function tf(t){return t=Wn(t),t?t+":":""}function CV(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function AV(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const IV="memory",xV=()=>{const t=new Map;return{name:IV,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function SV(t={}){const e={mounts:{"":t.driver||xV()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=Wn(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await uC(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=g=>{let p=h.get(g.base);return p||(p={driver:g.driver,base:g.base,items:[]},h.set(g.base,p)),p};for(const g of l){const p=typeof g=="string",m=Wn(p?g:g.key),y=p?void 0:g.value,b=p||!g.options?u:{...u,...g.options},w=n(m);f(w).items.push({key:m,value:y,relativeKey:w.relativeKey,options:b})}return Promise.all([...h.values()].map(g=>d(g))).then(g=>g.flat())},c={hasItem(l,u={}){l=Wn(l);const{relativeKey:d,driver:h}=n(l);return Xt(h.hasItem,d,u)},getItem(l,u={}){l=Wn(l);const{relativeKey:d,driver:h}=n(l);return Xt(h.getItem,d,u).then(f=>ef(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?Xt(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:EV(d.base,f.key),value:ef(f.value)}))):Promise.all(d.items.map(h=>Xt(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:ef(f)})))))},getItemRaw(l,u={}){l=Wn(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?Xt(h.getItemRaw,d,u):Xt(h.getItem,d,u).then(f=>bV(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=Wn(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await Xt(f.setItem,h,$f(u),d),f.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return Xt(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:$f(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>Xt(d.driver.setItem,h.relativeKey,$f(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=Wn(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await Xt(f.setItemRaw,h,u,d);else if(f.setItem)await Xt(f.setItem,h,yV(u),d);else return;f.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Wn(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await Xt(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await Xt(h.removeItem,d+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Wn(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await Xt(h.getMeta,d,u)),!u.nativeOnly){const g=await Xt(h.getItem,d+"$",u).then(p=>ef(p));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(f,g))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var m;l=tf(l);const d=r(l,!0);let h=[];const f=[];let g=!0;for(const y of d){(m=y.driver.flags)!=null&&m.maxDepth||(g=!1);const b=await Xt(y.driver.getKeys,y.relativeBase,u);for(const w of b){const E=y.mountpoint+Wn(w);h.some(C=>E.startsWith(C))||f.push(E)}h=[y.mountpoint,...h.filter(w=>!w.startsWith(y.mountpoint))]}const p=u.maxDepth!==void 0&&!g;return f.filter(y=>(!p||CV(y,u.maxDepth))&&AV(y,l))},async clear(l,u={}){l=tf(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return Xt(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>dC(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=tf(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(uC(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=tf(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await dC(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=Wn(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Wn(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function uC(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function dC(t){typeof t.dispose=="function"&&await Xt(t.dispose)}function Ba(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function FO(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Ba(n);return(s,i)=>r.then(o=>i(o.transaction(e,s).objectStore(e)))}let Hm;function Ih(){return Hm||(Hm=FO("keyval-store","keyval")),Hm}function hC(t,e=Ih()){return e("readonly",n=>Ba(n.get(t)))}function _V(t,e,n=Ih()){return n("readwrite",r=>(r.put(e,t),Ba(r.transaction)))}function PV(t,e=Ih()){return e("readwrite",n=>(n.delete(t),Ba(n.transaction)))}function TV(t=Ih()){return t("readwrite",e=>(e.clear(),Ba(e.transaction)))}function OV(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Ba(t.transaction)}function RV(t=Ih()){return t("readonly",e=>{if(e.getAllKeys)return Ba(e.getAllKeys());const n=[];return OV(e,r=>n.push(r.key)).then(()=>n)})}const NV=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),kV=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function pa(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return kV(t)}catch{return t}}function vi(t){return typeof t=="string"?t:NV(t)||""}const DV="idb-keyval";var BV=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=FO(t.dbName,t.storeName)),{name:DV,options:t,async hasItem(s){return!(typeof await hC(n(s),r)>"u")},async getItem(s){return await hC(n(s),r)??null},setItem(s,i){return _V(n(s),i,r)},removeItem(s){return PV(n(s),r)},getKeys(){return RV(r)},clear(){return TV(r)}}};const $V="WALLET_CONNECT_V2_INDEXED_DB",LV="keyvaluestorage";let FV=class{constructor(){this.indexedDb=SV({driver:BV({dbName:$V,storeName:LV})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,vi(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lf={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof qm<"u"&&qm.localStorage?Lf.exports=qm.localStorage:typeof window<"u"&&window.localStorage?Lf.exports=window.localStorage:Lf.exports=new e})();function UV(t){var e;return[t[0],pa((e=t[1])!=null?e:"")]}let MV=class{constructor(){this.localStorage=Lf.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(UV)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return pa(n)}async setItem(e,n){this.localStorage.setItem(e,vi(n))}async removeItem(e){this.localStorage.removeItem(e)}};const zV="wc_storage_version",fC=1,VV=async(t,e,n)=>{const r=zV,s=await e.getItem(r);if(s&&s>=fC){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,fC),n(e),jV(t,o)},jV=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let HV=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new MV;this.storage=e;try{const n=new FV;VV(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};const qV={level:"info"},xh="custom_context",vv=1e3*1024;let WV=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},pC=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new WV(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},UO=class{constructor(e,n=vv){this.level=e??"error",this.levelValue=Ql.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new pC(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Ql.levels.values.error?console.error(e):n===Ql.levels.values.warn?console.warn(e):n===Ql.levels.values.debug?console.debug(e):n===Ql.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(vi({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new pC(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(vi({extraMetadata:e})),new Blob(n,{type:"application/json"})}},GV=class{constructor(e,n=vv){this.baseChunkLogger=new UO(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},KV=class{constructor(e,n=vv){this.baseChunkLogger=new UO(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var YV=Object.defineProperty,QV=Object.defineProperties,ZV=Object.getOwnPropertyDescriptors,gC=Object.getOwnPropertySymbols,JV=Object.prototype.hasOwnProperty,XV=Object.prototype.propertyIsEnumerable,mC=(t,e,n)=>e in t?YV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yp=(t,e)=>{for(var n in e||(e={}))JV.call(e,n)&&mC(t,n,e[n]);if(gC)for(var n of gC(e))XV.call(e,n)&&mC(t,n,e[n]);return t},bp=(t,e)=>QV(t,ZV(e));function Dl(t){return bp(yp({},t),{level:(t==null?void 0:t.level)||qV.level})}function e9(t,e=xh){return t[e]||""}function t9(t,e,n=xh){return t[n]=e,t}function rr(t,e=xh){let n="";return typeof t.bindings>"u"?n=e9(t,e):n=t.bindings().context||"",n}function n9(t,e,n=xh){const r=rr(t,n);return r.trim()?`${r}/${e}`:e}function Rn(t,e,n=xh){const r=n9(t,e,n),s=t.child({context:r});return t9(s,r,n)}function r9(t){var e,n;const r=new GV((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:sh(bp(yp({},t.opts),{level:"trace",browser:bp(yp({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function s9(t){var e;const n=new KV((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:sh(bp(yp({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function Ev(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?r9(t):s9(t)}var i9=Object.defineProperty,o9=(t,e,n)=>e in t?i9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yC=(t,e,n)=>o9(t,typeof e!="symbol"?e+"":e,n);let a9=class extends Da{constructor(e){super(),this.opts=e,yC(this,"protocol","wc"),yC(this,"version",2)}};var c9=Object.defineProperty,l9=(t,e,n)=>e in t?c9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u9=(t,e,n)=>l9(t,e+"",n);let d9=class extends Da{constructor(e,n){super(),this.core=e,this.logger=n,u9(this,"records",new Map)}},h9=class{constructor(e,n){this.logger=e,this.core=n}};class f9 extends Da{constructor(e,n){super(),this.relayer=e,this.logger=n}}let p9=class extends Da{constructor(e){super()}},g9=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},m9=class extends Da{constructor(e,n){super(),this.relayer=e,this.logger=n}},y9=class extends Da{constructor(e,n){super(),this.core=e,this.logger=n}},b9=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},w9=class{constructor(e,n){this.projectId=e,this.logger=n}},v9=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var E9=Object.defineProperty,C9=(t,e,n)=>e in t?E9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bC=(t,e,n)=>C9(t,typeof e!="symbol"?e+"":e,n);let A9=class{constructor(e){this.opts=e,bC(this,"protocol","wc"),bC(this,"version",2)}},I9=class{constructor(e){this.client=e}};function x9(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function MO(t,...e){if(!x9(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function wC(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function S9(t,e){MO(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Wa=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wm=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function _9(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function zO(t){return typeof t=="string"&&(t=_9(t)),MO(t),t}let P9=class{clone(){return this._cloneInto()}};function T9(t){const e=r=>t().update(zO(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function VO(t=32){if(Wa&&typeof Wa.getRandomValues=="function")return Wa.getRandomValues(new Uint8Array(t));if(Wa&&typeof Wa.randomBytes=="function")return Wa.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function O9(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let R9=class extends P9{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Wm(this.buffer)}update(e){wC(this);const{view:n,buffer:r,blockLen:s}=this;e=zO(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Wm(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){wC(this),S9(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;O9(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Wm(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const nf=BigInt(2**32-1),r0=BigInt(32);function jO(t,e=!1){return e?{h:Number(t&nf),l:Number(t>>r0&nf)}:{h:Number(t>>r0&nf)|0,l:Number(t&nf)|0}}function N9(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=jO(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const k9=(t,e)=>BigInt(t>>>0)<<r0|BigInt(e>>>0),D9=(t,e,n)=>t>>>n,B9=(t,e,n)=>t<<32-n|e>>>n,$9=(t,e,n)=>t>>>n|e<<32-n,L9=(t,e,n)=>t<<32-n|e>>>n,F9=(t,e,n)=>t<<64-n|e>>>n-32,U9=(t,e,n)=>t>>>n-32|e<<64-n,M9=(t,e)=>e,z9=(t,e)=>t,V9=(t,e,n)=>t<<n|e>>>32-n,j9=(t,e,n)=>e<<n|t>>>32-n,H9=(t,e,n)=>e<<n-32|t>>>64-n,q9=(t,e,n)=>t<<n-32|e>>>64-n;function W9(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const G9=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),K9=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Y9=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Q9=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Z9=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),J9=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Be={fromBig:jO,split:N9,toBig:k9,shrSH:D9,shrSL:B9,rotrSH:$9,rotrSL:L9,rotrBH:F9,rotrBL:U9,rotr32H:M9,rotr32L:z9,rotlSH:V9,rotlSL:j9,rotlBH:H9,rotlBL:q9,add:W9,add3L:G9,add3H:K9,add4L:Y9,add4H:Q9,add5H:J9,add5L:Z9},[X9,ej]=Be.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ri=new Uint32Array(80),Ni=new Uint32Array(80);let tj=class extends R9{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:g,Hh:p,Hl:m}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,g,p,m]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,g,p,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=g|0,this.Hh=p|0,this.Hl=m|0}process(e,n){for(let w=0;w<16;w++,n+=4)Ri[w]=e.getUint32(n),Ni[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const E=Ri[w-15]|0,C=Ni[w-15]|0,I=Be.rotrSH(E,C,1)^Be.rotrSH(E,C,8)^Be.shrSH(E,C,7),A=Be.rotrSL(E,C,1)^Be.rotrSL(E,C,8)^Be.shrSL(E,C,7),x=Ri[w-2]|0,v=Ni[w-2]|0,R=Be.rotrSH(x,v,19)^Be.rotrBH(x,v,61)^Be.shrSH(x,v,6),N=Be.rotrSL(x,v,19)^Be.rotrBL(x,v,61)^Be.shrSL(x,v,6),B=Be.add4L(A,N,Ni[w-7],Ni[w-16]),F=Be.add4H(B,I,R,Ri[w-7],Ri[w-16]);Ri[w]=F|0,Ni[w]=B|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:g,Gh:p,Gl:m,Hh:y,Hl:b}=this;for(let w=0;w<80;w++){const E=Be.rotrSH(d,h,14)^Be.rotrSH(d,h,18)^Be.rotrBH(d,h,41),C=Be.rotrSL(d,h,14)^Be.rotrSL(d,h,18)^Be.rotrBL(d,h,41),I=d&f^~d&p,A=h&g^~h&m,x=Be.add5L(b,C,A,ej[w],Ni[w]),v=Be.add5H(x,y,E,I,X9[w],Ri[w]),R=x|0,N=Be.rotrSH(r,s,28)^Be.rotrBH(r,s,34)^Be.rotrBH(r,s,39),B=Be.rotrSL(r,s,28)^Be.rotrBL(r,s,34)^Be.rotrBL(r,s,39),F=r&i^r&a^i&a,_=s&o^s&c^o&c;y=p|0,b=m|0,p=f|0,m=g|0,f=d|0,g=h|0,{h:d,l:h}=Be.add(l|0,u|0,v|0,R|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const T=Be.add3L(R,B,_);r=Be.add3H(T,v,N,F),s=T|0}({h:r,l:s}=Be.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Be.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Be.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Be.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Be.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:g}=Be.add(this.Fh|0,this.Fl|0,f|0,g|0),{h:p,l:m}=Be.add(this.Gh|0,this.Gl|0,p|0,m|0),{h:y,l:b}=Be.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,g,p,m,y,b)}roundClean(){Ri.fill(0),Ni.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const nj=T9(()=>new tj);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cv=BigInt(0),HO=BigInt(1),rj=BigInt(2);function Av(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Iv(t){if(!Av(t))throw new Error("Uint8Array expected")}function Gm(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const sj=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xv(t){Iv(t);let e="";for(let n=0;n<t.length;n++)e+=sj[t[n]];return e}function qO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Cv:BigInt("0x"+t)}const Gs={_0:48,_9:57,A:65,F:70,a:97,f:102};function vC(t){if(t>=Gs._0&&t<=Gs._9)return t-Gs._0;if(t>=Gs.A&&t<=Gs.F)return t-(Gs.A-10);if(t>=Gs.a&&t<=Gs.f)return t-(Gs.a-10)}function WO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=vC(t.charCodeAt(i)),a=vC(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function ij(t){return qO(xv(t))}function Ff(t){return Iv(t),qO(xv(Uint8Array.from(t).reverse()))}function GO(t,e){return WO(t.toString(16).padStart(e*2,"0"))}function s0(t,e){return GO(t,e).reverse()}function Ks(t,e,n){let r;if(typeof e=="string")try{r=WO(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Av(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function EC(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Iv(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const Km=t=>typeof t=="bigint"&&Cv<=t;function oj(t,e,n){return Km(t)&&Km(e)&&Km(n)&&e<=t&&t<n}function au(t,e,n,r){if(!oj(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function aj(t){let e;for(e=0;t>Cv;t>>=HO,e+=1);return e}const cj=t=>(rj<<BigInt(t-1))-HO,lj={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Av(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Sv(t,e,n={}){const r=(s,i,o)=>{const a=lj[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function CC(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const cn=BigInt(0),Nt=BigInt(1),Ro=BigInt(2),uj=BigInt(3),i0=BigInt(4),AC=BigInt(5),IC=BigInt(8);function Wt(t,e){const n=t%e;return n>=cn?n:e+n}function dj(t,e,n){if(e<cn)throw new Error("invalid exponent, negatives unsupported");if(n<=cn)throw new Error("invalid modulus");if(n===Nt)return cn;let r=Nt;for(;e>cn;)e&Nt&&(r=r*t%n),t=t*t%n,e>>=Nt;return r}function bs(t,e,n){let r=t;for(;e-- >cn;)r*=r,r%=n;return r}function xC(t,e){if(t===cn)throw new Error("invert: expected non-zero number");if(e<=cn)throw new Error("invert: expected positive modulus, got "+e);let n=Wt(t,e),r=e,s=cn,i=Nt;for(;n!==cn;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Nt)throw new Error("invert: does not exist");return Wt(s,e)}function hj(t){const e=(t-Nt)/Ro;let n,r,s;for(n=t-Nt,r=0;n%Ro===cn;n/=Ro,r++);for(s=Ro;s<t&&dj(s,e,t)!==t-Nt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Nt)/i0;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+Nt)/Ro;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let g=o.sqr(d);h<c&&!o.eql(g,o.ONE);h++)g=o.sqr(g);const f=o.pow(l,Nt<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function fj(t){if(t%i0===uj){const e=(t+Nt)/i0;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%IC===AC){const e=(t-AC)/IC;return function(n,r){const s=n.mul(r,Ro),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,Ro),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return hj(t)}const pj=(t,e)=>(Wt(t,e)&Nt)===Nt,gj=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function mj(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=gj.reduce((r,s)=>(r[s]="function",r),e);return Sv(t,n)}function yj(t,e,n){if(n<cn)throw new Error("invalid exponent, negatives unsupported");if(n===cn)return t.ONE;if(n===Nt)return e;let r=t.ONE,s=e;for(;n>cn;)n&Nt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Nt;return r}function bj(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function KO(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function YO(t,e,n=!1,r={}){if(t<=cn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=KO(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:cj(s),ZERO:cn,ONE:Nt,create:c=>Wt(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return cn<=c&&c<t},is0:c=>c===cn,isOdd:c=>(c&Nt)===Nt,neg:c=>Wt(-c,t),eql:(c,l)=>c===l,sqr:c=>Wt(c*c,t),add:(c,l)=>Wt(c+l,t),sub:(c,l)=>Wt(c-l,t),mul:(c,l)=>Wt(c*l,t),pow:(c,l)=>yj(a,c,l),div:(c,l)=>Wt(c*xC(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>xC(c,t),sqrt:r.sqrt||(c=>(o||(o=fj(t)),o(a,c))),invertBatch:c=>bj(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?s0(c,i):GO(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?Ff(c):ij(c)}});return Object.freeze(a)}const SC=BigInt(0),rf=BigInt(1);function Ym(t,e){const n=e.negate();return t?n:e}function QO(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Qm(t,e){QO(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function wj(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function vj(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Zm=new WeakMap,ZO=new WeakMap;function Jm(t){return ZO.get(t)||1}function Ej(t,e){return{constTimeNegate:Ym,hasPrecomputes(n){return Jm(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>SC;)r&rf&&(s=s.add(i)),i=i.double(),r>>=rf;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Qm(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=Qm(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let g=Number(s&l);s>>=d,g>o&&(g-=u,s+=rf);const p=f,m=f+Math.abs(g)-1,y=h%2!==0,b=g<0;g===0?c=c.add(Ym(y,r[p])):a=a.add(Ym(b,r[m]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=Qm(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===SC)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=rf),f===0)continue;let g=r[h+Math.abs(f)-1];f<0&&(g=g.negate()),i=i.add(g)}return i},getPrecomputes(n,r,s){let i=Zm.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Zm.set(r,s(i))),i},wNAFCached(n,r,s){const i=Jm(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Jm(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){QO(r,e),ZO.set(n,r),Zm.delete(n)}}}function Cj(t,e,n,r){if(wj(n,t),vj(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=aj(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const g=r[f],p=Number(g>>BigInt(d)&BigInt(a));c[p]=c[p].add(n[f])}let h=s;for(let f=c.length-1,g=s;f>0;f--)g=g.add(c[f]),h=h.add(g);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function Aj(t){return mj(t.Fp),Sv(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...KO(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Mr=BigInt(0),zn=BigInt(1),sf=BigInt(2),Ij=BigInt(8),xj={zip215:!0};function Sj(t){const e=Aj(t);return Sv(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function _j(t){const e=Sj(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=sf<<BigInt(a*8)-zn,u=n.create,d=YO(e.n,e.nBitLength),h=e.uvRatio||((T,S)=>{try{return{isValid:!0,value:n.sqrt(T*n.inv(S))}}catch{return{isValid:!1,value:Mr}}}),f=e.adjustScalarBytes||(T=>T),g=e.domain||((T,S,D)=>{if(Gm("phflag",D),S.length||D)throw new Error("Contexts/pre-hash are not supported");return T});function p(T,S){au("coordinate "+T,S,Mr,l)}function m(T){if(!(T instanceof w))throw new Error("ExtendedPoint expected")}const y=CC((T,S)=>{const{ex:D,ey:k,ez:O}=T,L=T.is0();S==null&&(S=L?Ij:n.inv(O));const U=u(D*S),V=u(k*S),G=u(O*S);if(L)return{x:Mr,y:zn};if(G!==zn)throw new Error("invZ was invalid");return{x:U,y:V}}),b=CC(T=>{const{a:S,d:D}=e;if(T.is0())throw new Error("bad point: ZERO");const{ex:k,ey:O,ez:L,et:U}=T,V=u(k*k),G=u(O*O),q=u(L*L),ee=u(q*q),ce=u(V*S),_e=u(q*u(ce+G)),j=u(ee+u(D*u(V*G)));if(_e!==j)throw new Error("bad point: equation left != right (1)");const M=u(k*O),de=u(L*U);if(M!==de)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(S,D,k,O){this.ex=S,this.ey=D,this.ez=k,this.et=O,p("x",S),p("y",D),p("z",k),p("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof w)throw new Error("extended point not allowed");const{x:D,y:k}=S||{};return p("x",D),p("y",k),new w(D,k,zn,u(D*k))}static normalizeZ(S){const D=n.invertBatch(S.map(k=>k.ez));return S.map((k,O)=>k.toAffine(D[O])).map(w.fromAffine)}static msm(S,D){return Cj(w,d,S,D)}_setWindowSize(S){I.setWindowSize(this,S)}assertValidity(){b(this)}equals(S){m(S);const{ex:D,ey:k,ez:O}=this,{ex:L,ey:U,ez:V}=S,G=u(D*V),q=u(L*O),ee=u(k*V),ce=u(U*O);return G===q&&ee===ce}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:S}=e,{ex:D,ey:k,ez:O}=this,L=u(D*D),U=u(k*k),V=u(sf*u(O*O)),G=u(S*L),q=D+k,ee=u(u(q*q)-L-U),ce=G+U,_e=ce-V,j=G-U,M=u(ee*_e),de=u(ce*j),pe=u(ee*j),ye=u(_e*ce);return new w(M,de,ye,pe)}add(S){m(S);const{a:D,d:k}=e,{ex:O,ey:L,ez:U,et:V}=this,{ex:G,ey:q,ez:ee,et:ce}=S;if(D===BigInt(-1)){const Uh=u((L-O)*(q+G)),Wl=u((L+O)*(q-G)),Gl=u(Wl-Uh);if(Gl===Mr)return this.double();const Kl=u(U*sf*ce),Yl=u(V*sf*ee),za=Yl+Kl,bE=Wl+Uh,wE=Yl-Kl,fD=u(za*Gl),pD=u(bE*wE),gD=u(za*wE),mD=u(Gl*bE);return new w(fD,pD,mD,gD)}const _e=u(O*G),j=u(L*q),M=u(V*k*ce),de=u(U*ee),pe=u((O+L)*(G+q)-_e-j),ye=de-M,xe=de+M,Me=u(j-D*_e),_t=u(pe*ye),xi=u(xe*Me),sm=u(pe*Me),Fh=u(ye*xe);return new w(_t,xi,Fh,sm)}subtract(S){return this.add(S.negate())}wNAF(S){return I.wNAFCached(this,S,w.normalizeZ)}multiply(S){const D=S;au("scalar",D,zn,r);const{p:k,f:O}=this.wNAF(D);return w.normalizeZ([k,O])[0]}multiplyUnsafe(S,D=w.ZERO){const k=S;return au("scalar",k,Mr,r),k===Mr?C:this.is0()||k===zn?this:I.wNAFCachedUnsafe(this,k,w.normalizeZ,D)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return I.unsafeLadder(this,r).is0()}toAffine(S){return y(this,S)}clearCofactor(){const{h:S}=e;return S===zn?this:this.multiplyUnsafe(S)}static fromHex(S,D=!1){const{d:k,a:O}=e,L=n.BYTES;S=Ks("pointHex",S,L),Gm("zip215",D);const U=S.slice(),V=S[L-1];U[L-1]=V&-129;const G=Ff(U),q=D?l:n.ORDER;au("pointHex.y",G,Mr,q);const ee=u(G*G),ce=u(ee-zn),_e=u(k*ee-O);let{isValid:j,value:M}=h(ce,_e);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const de=(M&zn)===zn,pe=(V&128)!==0;if(!D&&M===Mr&&pe)throw new Error("Point.fromHex: x=0 and x_0=1");return pe!==de&&(M=u(-M)),w.fromAffine({x:M,y:G})}static fromPrivateKey(S){return v(S).point}toRawBytes(){const{x:S,y:D}=this.toAffine(),k=s0(D,n.BYTES);return k[k.length-1]|=S&zn?128:0,k}toHex(){return xv(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,zn,u(e.Gx*e.Gy)),w.ZERO=new w(Mr,zn,zn,Mr);const{BASE:E,ZERO:C}=w,I=Ej(w,a*8);function A(T){return Wt(T,r)}function x(T){return A(Ff(T))}function v(T){const S=n.BYTES;T=Ks("private key",T,S);const D=Ks("hashed private key",i(T),2*S),k=f(D.slice(0,S)),O=D.slice(S,2*S),L=x(k),U=E.multiply(L),V=U.toRawBytes();return{head:k,prefix:O,scalar:L,point:U,pointBytes:V}}function R(T){return v(T).pointBytes}function N(T=new Uint8Array,...S){const D=EC(...S);return x(i(g(D,Ks("context",T),!!s)))}function B(T,S,D={}){T=Ks("message",T),s&&(T=s(T));const{prefix:k,scalar:O,pointBytes:L}=v(S),U=N(D.context,k,T),V=E.multiply(U).toRawBytes(),G=N(D.context,V,L,T),q=A(U+G*O);au("signature.s",q,Mr,r);const ee=EC(V,s0(q,n.BYTES));return Ks("result",ee,n.BYTES*2)}const F=xj;function _(T,S,D,k=F){const{context:O,zip215:L}=k,U=n.BYTES;T=Ks("signature",T,2*U),S=Ks("message",S),D=Ks("publicKey",D,U),L!==void 0&&Gm("zip215",L),s&&(S=s(S));const V=Ff(T.slice(U,2*U));let G,q,ee;try{G=w.fromHex(D,L),q=w.fromHex(T.slice(0,U),L),ee=E.multiplyUnsafe(V)}catch{return!1}if(!L&&G.isSmallOrder())return!1;const ce=N(O,q.toRawBytes(),G.toRawBytes(),S);return q.add(G.multiplyUnsafe(ce)).subtract(ee).clearCofactor().equals(w.ZERO)}return E._setWindowSize(8),{CURVE:e,getPublicKey:R,sign:B,verify:_,ExtendedPoint:w,utils:{getExtendedPublicKey:v,randomPrivateKey:()=>o(n.BYTES),precompute(T=8,S=w.BASE){return S._setWindowSize(T),S.multiply(BigInt(3)),S}}}}BigInt(0),BigInt(1);const _v=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),_C=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Pj=BigInt(1),PC=BigInt(2);BigInt(3);const Tj=BigInt(5),Oj=BigInt(8);function Rj(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=_v,o=t*t%i*t%i,a=bs(o,PC,i)*o%i,c=bs(a,Pj,i)*t%i,l=bs(c,Tj,i)*c%i,u=bs(l,e,i)*l%i,d=bs(u,n,i)*u%i,h=bs(d,r,i)*d%i,f=bs(h,s,i)*h%i,g=bs(f,s,i)*h%i,p=bs(g,e,i)*l%i;return{pow_p_5_8:bs(p,PC,i)*t%i,b2:o}}function Nj(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function kj(t,e){const n=_v,r=Wt(e*e*e,n),s=Wt(r*r*e,n),i=Rj(t*s).pow_p_5_8;let o=Wt(t*r*i,n);const a=Wt(e*o*o,n),c=o,l=Wt(o*_C,n),u=a===t,d=a===Wt(-t,n),h=a===Wt(-t*_C,n);return u&&(o=c),(d||h)&&(o=l),pj(o,n)&&(o=Wt(-o,n)),{isValid:u||d,value:o}}const Dj=YO(_v,void 0,!0),Bj={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Dj,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Oj,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:nj,randomBytes:VO,adjustScalarBytes:Nj,uvRatio:kj},JO=_j(Bj),$j="EdDSA",Lj="JWT",wp=".",xg="base64url",XO="utf8",eR="utf8",Fj=":",Uj="did",Mj="key",TC="base58btc",zj="z",Vj="K36",jj=32;function Pv(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function tR(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Pv(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function nR(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=tR(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return Pv(n)}function Hj(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var p=0,m=0,y=0,b=g.length;y!==b&&g[y]===0;)y++,p++;for(var w=(b-y)*u+1>>>0,E=new Uint8Array(w);y!==b;){for(var C=g[y],I=0,A=w-1;(C!==0||I<m)&&A!==-1;A--,I++)C+=256*E[A]>>>0,E[A]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");m=I,y++}for(var x=w-m;x!==w&&E[x]===0;)x++;for(var v=c.repeat(p);x<w;++x)v+=t.charAt(E[x]);return v}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var p=0;if(g[p]!==" "){for(var m=0,y=0;g[p]===c;)m++,p++;for(var b=(g.length-p)*l+1>>>0,w=new Uint8Array(b);g[p];){var E=n[g.charCodeAt(p)];if(E===255)return;for(var C=0,I=b-1;(E!==0||C<y)&&I!==-1;I--,C++)E+=a*w[I]>>>0,w[I]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=C,p++}if(g[p]!==" "){for(var A=b-y;A!==b&&w[A]===0;)A++;for(var x=new Uint8Array(m+(b-A)),v=m;A!==b;)x[v++]=w[A++];return x}}}function f(g){var p=h(g);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var qj=Hj,Wj=qj;const rR=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Gj=t=>new TextEncoder().encode(t),Kj=t=>new TextDecoder().decode(t);let Yj=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Qj=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return sR(this,e)}},Zj=class{constructor(e){this.decoders=e}or(e){return sR(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const sR=(t,e)=>new Zj({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Jj=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Yj(e,n,r),this.decoder=new Qj(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Sg=({name:t,prefix:e,encode:n,decode:r})=>new Jj(t,e,n,r),Sh=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Wj(n,e);return Sg({prefix:t,name:e,encode:r,decode:i=>rR(s(i))})},Xj=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},e7=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},An=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Sg({prefix:e,name:t,encode(s){return e7(s,r,n)},decode(s){return Xj(s,r,n,t)}}),t7=Sg({prefix:"\0",name:"identity",encode:t=>Kj(t),decode:t=>Gj(t)});var n7=Object.freeze({__proto__:null,identity:t7});const r7=An({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var s7=Object.freeze({__proto__:null,base2:r7});const i7=An({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var o7=Object.freeze({__proto__:null,base8:i7});const a7=Sh({prefix:"9",name:"base10",alphabet:"0123456789"});var c7=Object.freeze({__proto__:null,base10:a7});const l7=An({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),u7=An({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var d7=Object.freeze({__proto__:null,base16:l7,base16upper:u7});const h7=An({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),f7=An({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),p7=An({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),g7=An({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),m7=An({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),y7=An({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),b7=An({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),w7=An({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),v7=An({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var E7=Object.freeze({__proto__:null,base32:h7,base32upper:f7,base32pad:p7,base32padupper:g7,base32hex:m7,base32hexupper:y7,base32hexpad:b7,base32hexpadupper:w7,base32z:v7});const C7=Sh({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),A7=Sh({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var I7=Object.freeze({__proto__:null,base36:C7,base36upper:A7});const x7=Sh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),S7=Sh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var _7=Object.freeze({__proto__:null,base58btc:x7,base58flickr:S7});const P7=An({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),T7=An({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),O7=An({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),R7=An({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var N7=Object.freeze({__proto__:null,base64:P7,base64pad:T7,base64url:O7,base64urlpad:R7});const iR=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),k7=iR.reduce((t,e,n)=>(t[n]=e,t),[]),D7=iR.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function B7(t){return t.reduce((e,n)=>(e+=k7[n],e),"")}function $7(t){const e=[];for(const n of t){const r=D7[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const L7=Sg({prefix:"🚀",name:"base256emoji",encode:B7,decode:$7});var F7=Object.freeze({__proto__:null,base256emoji:L7}),U7=oR,OC=128,M7=-128,z7=Math.pow(2,31);function oR(t,e,n){e=e||[],n=n||0;for(var r=n;t>=z7;)e[n++]=t&255|OC,t/=128;for(;t&M7;)e[n++]=t&255|OC,t>>>=7;return e[n]=t|0,oR.bytes=n-r+1,e}var V7=o0,j7=128,RC=127;function o0(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw o0.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&RC)<<s:(o&RC)*Math.pow(2,s),s+=7}while(o>=j7);return o0.bytes=i-r,n}var H7=Math.pow(2,7),q7=Math.pow(2,14),W7=Math.pow(2,21),G7=Math.pow(2,28),K7=Math.pow(2,35),Y7=Math.pow(2,42),Q7=Math.pow(2,49),Z7=Math.pow(2,56),J7=Math.pow(2,63),X7=function(t){return t<H7?1:t<q7?2:t<W7?3:t<G7?4:t<K7?5:t<Y7?6:t<Q7?7:t<Z7?8:t<J7?9:10},eH={encode:U7,decode:V7,encodingLength:X7},aR=eH;const NC=(t,e,n=0)=>(aR.encode(t,e,n),e),kC=t=>aR.encodingLength(t),a0=(t,e)=>{const n=e.byteLength,r=kC(t),s=r+kC(n),i=new Uint8Array(s+n);return NC(t,i,0),NC(n,i,r),i.set(e,s),new tH(t,n,e,i)};let tH=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const cR=({name:t,code:e,encode:n})=>new nH(t,e,n);let nH=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?a0(this.code,n):n.then(r=>a0(this.code,r))}else throw Error("Unknown type, must be binary type")}};const lR=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),rH=cR({name:"sha2-256",code:18,encode:lR("SHA-256")}),sH=cR({name:"sha2-512",code:19,encode:lR("SHA-512")});var iH=Object.freeze({__proto__:null,sha256:rH,sha512:sH});const uR=0,oH="identity",dR=rR,aH=t=>a0(uR,dR(t)),cH={code:uR,name:oH,encode:dR,digest:aH};var lH=Object.freeze({__proto__:null,identity:cH});new TextEncoder,new TextDecoder;const DC={...n7,...s7,...o7,...c7,...d7,...E7,...I7,..._7,...N7,...F7};({...iH,...lH});function hR(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const BC=hR("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Xm=hR("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=tR(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),fR={utf8:BC,"utf-8":BC,hex:DC.base16,latin1:Xm,ascii:Xm,binary:Xm,...DC};function _g(t,e="utf8"){const n=fR[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Bl(t,e="utf8"){const n=fR[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Pv(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function $C(t){return pa(_g(Bl(t,xg),XO))}function vp(t){return _g(Bl(vi(t),XO),xg)}function pR(t){const e=Bl(Vj,TC),n=zj+_g(nR([e,t]),TC);return[Uj,Mj,n].join(Fj)}function uH(t){return _g(t,xg)}function dH(t){return Bl(t,xg)}function hH(t){return Bl([vp(t.header),vp(t.payload)].join(wp),eR)}function fH(t){return[vp(t.header),vp(t.payload),uH(t.signature)].join(wp)}function c0(t){const e=t.split(wp),n=$C(e[0]),r=$C(e[1]),s=dH(e[2]),i=Bl(e.slice(0,2).join(wp),eR);return{header:n,payload:r,signature:s,data:i}}function LC(t=VO(jj)){const e=JO.getPublicKey(t);return{secretKey:nR([t,e]),publicKey:e}}async function pH(t,e,n,r,s=Q.fromMiliseconds(Date.now())){const i={alg:$j,typ:Lj},o=pR(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=hH({header:i,payload:c}),u=JO.sign(l,r.secretKey.slice(0,32));return fH({header:i,payload:c,signature:u})}var FC=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},gH=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),mH=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),yH=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),bH=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),wH=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),vH=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,EH=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,UC=3,CH=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",vH]],MC=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function AH(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new wH:typeof navigator<"u"?xH(navigator.userAgent):_H()}function IH(t){return t!==""&&CH.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function xH(t){var e=IH(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new bH;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<UC&&(s=FC(FC([],s,!0),PH(UC-s.length),!0)):s=[];var i=s.join("."),o=SH(t),a=EH.exec(t);return a&&a[1]?new yH(n,i,o,a[1]):new gH(n,i,o)}function SH(t){for(var e=0,n=MC.length;e<n;e++){var r=MC[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function _H(){var t=typeof process<"u"&&process.version;return t?new mH(process.version.slice(1)):null}function PH(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var nt={},zC;function gR(){if(zC)return nt;zC=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.getLocalStorage=nt.getLocalStorageOrThrow=nt.getCrypto=nt.getCryptoOrThrow=nt.getLocation=nt.getLocationOrThrow=nt.getNavigator=nt.getNavigatorOrThrow=nt.getDocument=nt.getDocumentOrThrow=nt.getFromWindowOrThrow=nt.getFromWindow=void 0;function t(h){let f;return typeof window<"u"&&typeof window[h]<"u"&&(f=window[h]),f}nt.getFromWindow=t;function e(h){const f=t(h);if(!f)throw new Error(`${h} is not defined in Window`);return f}nt.getFromWindowOrThrow=e;function n(){return e("document")}nt.getDocumentOrThrow=n;function r(){return t("document")}nt.getDocument=r;function s(){return e("navigator")}nt.getNavigatorOrThrow=s;function i(){return t("navigator")}nt.getNavigator=i;function o(){return e("location")}nt.getLocationOrThrow=o;function a(){return t("location")}nt.getLocation=a;function c(){return e("crypto")}nt.getCryptoOrThrow=c;function l(){return t("crypto")}nt.getCrypto=l;function u(){return e("localStorage")}nt.getLocalStorageOrThrow=u;function d(){return t("localStorage")}return nt.getLocalStorage=d,nt}var ls=gR(),cu={},VC;function TH(){if(VC)return cu;VC=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.getWindowMetadata=void 0;const t=gR();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function s(){const f=n.getElementsByTagName("link"),g=[];for(let p=0;p<f.length;p++){const m=f[p],y=m.getAttribute("rel");if(y&&y.toLowerCase().indexOf("icon")>-1){const b=m.getAttribute("href");if(b)if(b.toLowerCase().indexOf("https:")===-1&&b.toLowerCase().indexOf("http:")===-1&&b.indexOf("//")!==0){let w=r.protocol+"//"+r.host;if(b.indexOf("/")===0)w+=b;else{const E=r.pathname.split("/");E.pop();const C=E.join("/");w+=C+"/"+b}g.push(w)}else if(b.indexOf("//")===0){const w=r.protocol+b;g.push(w)}else g.push(b)}}return g}function i(...f){const g=n.getElementsByTagName("meta");for(let p=0;p<g.length;p++){const m=g[p],y=["itemprop","property","name"].map(b=>m.getAttribute(b)).filter(b=>b?f.includes(b):!1);if(y.length&&y){const b=m.getAttribute("content");if(b)return b}}return""}function o(){let f=i("name","og:site_name","og:title","twitter:title");return f||(f=n.title),f}function a(){return i("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=r.origin,d=s();return{description:l,url:u,icons:d,name:c}}return cu.getWindowMetadata=e,cu}var mR=TH();function yR(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Mu(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=yR(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function OH(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var p=0,m=0,y=0,b=g.length;y!==b&&g[y]===0;)y++,p++;for(var w=(b-y)*u+1>>>0,E=new Uint8Array(w);y!==b;){for(var C=g[y],I=0,A=w-1;(C!==0||I<m)&&A!==-1;A--,I++)C+=256*E[A]>>>0,E[A]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");m=I,y++}for(var x=w-m;x!==w&&E[x]===0;)x++;for(var v=c.repeat(p);x<w;++x)v+=t.charAt(E[x]);return v}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var p=0;if(g[p]!==" "){for(var m=0,y=0;g[p]===c;)m++,p++;for(var b=(g.length-p)*l+1>>>0,w=new Uint8Array(b);g[p];){var E=n[g.charCodeAt(p)];if(E===255)return;for(var C=0,I=b-1;(E!==0||C<y)&&I!==-1;I--,C++)E+=a*w[I]>>>0,w[I]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=C,p++}if(g[p]!==" "){for(var A=b-y;A!==b&&w[A]===0;)A++;for(var x=new Uint8Array(m+(b-A)),v=m;A!==b;)x[v++]=w[A++];return x}}}function f(g){var p=h(g);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var RH=OH,NH=RH;const kH=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},DH=t=>new TextEncoder().encode(t),BH=t=>new TextDecoder().decode(t);class $H{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class LH{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return bR(this,e)}}class FH{constructor(e){this.decoders=e}or(e){return bR(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const bR=(t,e)=>new FH({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class UH{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new $H(e,n,r),this.decoder=new LH(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Pg=({name:t,prefix:e,encode:n,decode:r})=>new UH(t,e,n,r),_h=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=NH(n,e);return Pg({prefix:t,name:e,encode:r,decode:i=>kH(s(i))})},MH=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},zH=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},In=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Pg({prefix:e,name:t,encode(s){return zH(s,r,n)},decode(s){return MH(s,r,n,t)}}),VH=Pg({prefix:"\0",name:"identity",encode:t=>BH(t),decode:t=>DH(t)}),jH=Object.freeze(Object.defineProperty({__proto__:null,identity:VH},Symbol.toStringTag,{value:"Module"})),HH=In({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),qH=Object.freeze(Object.defineProperty({__proto__:null,base2:HH},Symbol.toStringTag,{value:"Module"})),WH=In({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),GH=Object.freeze(Object.defineProperty({__proto__:null,base8:WH},Symbol.toStringTag,{value:"Module"})),KH=_h({prefix:"9",name:"base10",alphabet:"0123456789"}),YH=Object.freeze(Object.defineProperty({__proto__:null,base10:KH},Symbol.toStringTag,{value:"Module"})),QH=In({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ZH=In({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),JH=Object.freeze(Object.defineProperty({__proto__:null,base16:QH,base16upper:ZH},Symbol.toStringTag,{value:"Module"})),XH=In({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eq=In({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tq=In({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nq=In({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rq=In({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),sq=In({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),iq=In({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oq=In({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),aq=In({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),cq=Object.freeze(Object.defineProperty({__proto__:null,base32:XH,base32hex:rq,base32hexpad:iq,base32hexpadupper:oq,base32hexupper:sq,base32pad:tq,base32padupper:nq,base32upper:eq,base32z:aq},Symbol.toStringTag,{value:"Module"})),lq=_h({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),uq=_h({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),dq=Object.freeze(Object.defineProperty({__proto__:null,base36:lq,base36upper:uq},Symbol.toStringTag,{value:"Module"})),hq=_h({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fq=_h({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),pq=Object.freeze(Object.defineProperty({__proto__:null,base58btc:hq,base58flickr:fq},Symbol.toStringTag,{value:"Module"})),gq=In({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),mq=In({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yq=In({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),bq=In({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),wq=Object.freeze(Object.defineProperty({__proto__:null,base64:gq,base64pad:mq,base64url:yq,base64urlpad:bq},Symbol.toStringTag,{value:"Module"})),wR=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),vq=wR.reduce((t,e,n)=>(t[n]=e,t),[]),Eq=wR.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Cq(t){return t.reduce((e,n)=>(e+=vq[n],e),"")}function Aq(t){const e=[];for(const n of t){const r=Eq[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Iq=Pg({prefix:"🚀",name:"base256emoji",encode:Cq,decode:Aq}),xq=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Iq},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const jC={...jH,...qH,...GH,...YH,...JH,...cq,...dq,...pq,...wq,...xq};function vR(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const HC=vR("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ey=vR("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=yR(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),ER={utf8:HC,"utf-8":HC,hex:jC.base16,latin1:ey,ascii:ey,binary:ey,...jC};function Xn(t,e="utf8"){const n=ER[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function Tn(t,e="utf8"){const n=ER[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Sq={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var _q={};const Pq="ReactNative",es={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Tq="js";function Ep(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function $a(){return!ls.getDocument()&&!!ls.getNavigator()&&navigator.product===Pq}function Oq(){return $a()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Rq(){return $a()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Tg(){return!Ep()&&!!ls.getNavigator()&&!!ls.getDocument()}function Og(){return $a()?es.reactNative:Ep()?es.node:Tg()?es.browser:es.unknown}function qC(){var t;try{return $a()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Nq(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function kq(){return mR.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Dq(){if(Og()===es.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=AH();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Bq(){var t;const e=Og();return e===es.browser?[e,((t=ls.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function CR(t,e,n){const r=Dq(),s=Bq();return[[t,e].join("-"),[Tq,n].join("-"),r,s].join("/")}function $q({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=CR(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=Nq(l[1]||"",d);return l[0]+"?"+h}function l0(t){return Object.fromEntries(t.entries())}function u0(t){return new Map(Object.entries(t))}function Lq(t=Q.FIVE_MINUTES,e){const n=Q.toMiliseconds(t||Q.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function Ki(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function AR(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Fq(t){return AR("topic",t)}function Uq(t){return AR("id",t)}function Mq(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function zu(t,e){return Q.fromMiliseconds(Date.now()+Q.toMiliseconds(t))}function WC(t){return Date.now()>=Q.toMiliseconds(t)}function ty(t,e){return`${t}${e?`:${e}`:""}`}function GC(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function IR(){return typeof process<"u"&&_q.IS_VITEST==="true"}function xR(t){return Buffer.from(t,"base64").toString("utf-8")}function zq(t){return new Promise(e=>setTimeout(e,t))}function Rd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Vq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ph(t,...e){if(!Vq(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Tv(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Rd(t.outputLen),Rd(t.blockLen)}function il(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function SR(t,e){Ph(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const of=BigInt(2**32-1),KC=BigInt(32);function jq(t,e=!1){return e?{h:Number(t&of),l:Number(t>>KC&of)}:{h:Number(t>>KC&of)|0,l:Number(t&of)|0}}function Hq(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=jq(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const qq=(t,e,n)=>t<<n|e>>>32-n,Wq=(t,e,n)=>e<<n|t>>>32-n,Gq=(t,e,n)=>e<<n-32|t>>>64-n,Kq=(t,e,n)=>t<<n-32|e>>>64-n,Ga=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Yq(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ny(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ws(t,e){return t<<32-e|t>>>e}const YC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Qq(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function QC(t){for(let e=0;e<t.length;e++)t[e]=Qq(t[e])}function Zq(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ol(t){return typeof t=="string"&&(t=Zq(t)),Ph(t),t}function Jq(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Ph(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let Ov=class{clone(){return this._cloneInto()}};function _R(t){const e=r=>t().update(ol(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $l(t=32){if(Ga&&typeof Ga.getRandomValues=="function")return Ga.getRandomValues(new Uint8Array(t));if(Ga&&typeof Ga.randomBytes=="function")return Ga.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const PR=[],TR=[],OR=[],Xq=BigInt(0),lu=BigInt(1),eW=BigInt(2),tW=BigInt(7),nW=BigInt(256),rW=BigInt(113);for(let t=0,e=lu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],PR.push(2*(5*r+n)),TR.push((t+1)*(t+2)/2%64);let s=Xq;for(let i=0;i<7;i++)e=(e<<lu^(e>>tW)*rW)%nW,e&eW&&(s^=lu<<(lu<<BigInt(i))-lu);OR.push(s)}const[sW,iW]=Hq(OR,!0),ZC=(t,e,n)=>n>32?Gq(t,e,n):qq(t,e,n),JC=(t,e,n)=>n>32?Kq(t,e,n):Wq(t,e,n);function oW(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=ZC(l,u,1)^n[a],h=JC(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=TR[o],c=ZC(s,i,a),l=JC(s,i,a),u=PR[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=sW[r],t[1]^=iW[r]}n.fill(0)}let aW=class RR extends Ov{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Rd(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Yq(this.state)}keccak(){YC||QC(this.state32),oW(this.state32,this.rounds),YC||QC(this.state32),this.posOut=0,this.pos=0}update(e){il(this);const{blockLen:n,state:r}=this;e=ol(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){il(this,!1),Ph(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Rd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(SR(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new RR(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const cW=(t,e,n)=>_R(()=>new aW(e,t,n));cW(1,136,256/8);function ry(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function NR(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hr(t,...e){if(!NR(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function XC(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function lW(t,e){hr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function eA(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const eo=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),uW=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),dW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!dW)throw new Error("Non little-endian hardware is not supported");function hW(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function d0(t){if(typeof t=="string")t=hW(t);else if(NR(t))t=h0(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function fW(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function pW(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const gW=(t,e)=>{function n(r,...s){if(hr(r),t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?hr(l):hr(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&hr(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");hr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,hr(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(hr(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function tA(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!mW(e))throw new Error("invalid output, must be aligned");return e}function nA(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function mW(t){return t.byteOffset%4===0}function h0(t){return Uint8Array.from(t)}function al(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const kR=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),yW=kR("expand 16-byte k"),bW=kR("expand 32-byte k"),wW=eo(yW),vW=eo(bW);function je(t,e){return t<<e|t>>>32-e}function f0(t){return t.byteOffset%4===0}const af=64,EW=16,DR=2**32-1,rA=new Uint32Array;function CW(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(af),u=eo(l),d=f0(s)&&f0(i),h=d?eo(s):rA,f=d?eo(i):rA;for(let g=0;g<c;o++){if(t(e,n,r,u,o,a),o>=DR)throw new Error("arx: counter overflow");const p=Math.min(af,c-g);if(d&&p===af){const m=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let y=0,b;y<EW;y++)b=m+y,f[b]=h[b]^u[y];g+=af;continue}for(let m=0,y;m<p;m++)y=g+m,i[y]=s[y]^l[m];g+=p}}function AW(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=fW({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return ry(s),ry(o),eA(i),eA(n),(a,c,l,u,d=0)=>{hr(a),hr(c),hr(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),hr(u),ry(d),d<0||d>=DR)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let g=a.length,p,m;if(g===32)f.push(p=h0(a)),m=vW;else if(g===16&&n)p=new Uint8Array(32),p.set(a),p.set(a,16),m=wW,f.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);f0(c)||f.push(c=h0(c));const y=eo(p);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,y,eo(c.subarray(0,16)),y),c=c.subarray(16)}const b=16-s;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,i?0:12-c.length),c=E,f.push(c)}const w=eo(c);return CW(t,m,y,w,l,u,d,o),al(...f),u}}const fn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let IW=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=d0(e),hr(e,32);const n=fn(e,0),r=fn(e,2),s=fn(e,4),i=fn(e,6),o=fn(e,8),a=fn(e,10),c=fn(e,12),l=fn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=fn(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],g=o[7],p=o[8],m=o[9],y=fn(e,n+0),b=fn(e,n+2),w=fn(e,n+4),E=fn(e,n+6),C=fn(e,n+8),I=fn(e,n+10),A=fn(e,n+12),x=fn(e,n+14);let v=i[0]+(y&8191),R=i[1]+((y>>>13|b<<3)&8191),N=i[2]+((b>>>10|w<<6)&8191),B=i[3]+((w>>>7|E<<9)&8191),F=i[4]+((E>>>4|C<<12)&8191),_=i[5]+(C>>>1&8191),T=i[6]+((C>>>14|I<<2)&8191),S=i[7]+((I>>>11|A<<5)&8191),D=i[8]+((A>>>8|x<<8)&8191),k=i[9]+(x>>>5|s),O=0,L=O+v*a+R*(5*m)+N*(5*p)+B*(5*g)+F*(5*f);O=L>>>13,L&=8191,L+=_*(5*h)+T*(5*d)+S*(5*u)+D*(5*l)+k*(5*c),O+=L>>>13,L&=8191;let U=O+v*c+R*a+N*(5*m)+B*(5*p)+F*(5*g);O=U>>>13,U&=8191,U+=_*(5*f)+T*(5*h)+S*(5*d)+D*(5*u)+k*(5*l),O+=U>>>13,U&=8191;let V=O+v*l+R*c+N*a+B*(5*m)+F*(5*p);O=V>>>13,V&=8191,V+=_*(5*g)+T*(5*f)+S*(5*h)+D*(5*d)+k*(5*u),O+=V>>>13,V&=8191;let G=O+v*u+R*l+N*c+B*a+F*(5*m);O=G>>>13,G&=8191,G+=_*(5*p)+T*(5*g)+S*(5*f)+D*(5*h)+k*(5*d),O+=G>>>13,G&=8191;let q=O+v*d+R*u+N*l+B*c+F*a;O=q>>>13,q&=8191,q+=_*(5*m)+T*(5*p)+S*(5*g)+D*(5*f)+k*(5*h),O+=q>>>13,q&=8191;let ee=O+v*h+R*d+N*u+B*l+F*c;O=ee>>>13,ee&=8191,ee+=_*a+T*(5*m)+S*(5*p)+D*(5*g)+k*(5*f),O+=ee>>>13,ee&=8191;let ce=O+v*f+R*h+N*d+B*u+F*l;O=ce>>>13,ce&=8191,ce+=_*c+T*a+S*(5*m)+D*(5*p)+k*(5*g),O+=ce>>>13,ce&=8191;let _e=O+v*g+R*f+N*h+B*d+F*u;O=_e>>>13,_e&=8191,_e+=_*l+T*c+S*a+D*(5*m)+k*(5*p),O+=_e>>>13,_e&=8191;let j=O+v*p+R*g+N*f+B*h+F*d;O=j>>>13,j&=8191,j+=_*u+T*l+S*c+D*a+k*(5*m),O+=j>>>13,j&=8191;let M=O+v*m+R*p+N*g+B*f+F*h;O=M>>>13,M&=8191,M+=_*d+T*u+S*l+D*c+k*a,O+=M>>>13,M&=8191,O=(O<<2)+O|0,O=O+L|0,L=O&8191,O=O>>>13,U+=O,i[0]=L,i[1]=U,i[2]=V,i[3]=G,i[4]=q,i[5]=ee,i[6]=ce,i[7]=_e,i[8]=j,i[9]=M}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;al(r)}update(e){XC(this);const{buffer:n,blockLen:r}=this;e=d0(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){al(this.h,this.r,this.buffer,this.pad)}digestInto(e){XC(this),lW(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function xW(t){const e=(r,s)=>t(s).update(d0(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const SW=xW(t=>new IW(t));function _W(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],g=e[4],p=e[5],m=e[6],y=e[7],b=s,w=n[0],E=n[1],C=n[2],I=o,A=a,x=c,v=l,R=u,N=d,B=h,F=f,_=g,T=p,S=m,D=y,k=b,O=w,L=E,U=C;for(let G=0;G<i;G+=2)I=I+R|0,k=je(k^I,16),_=_+k|0,R=je(R^_,12),I=I+R|0,k=je(k^I,8),_=_+k|0,R=je(R^_,7),A=A+N|0,O=je(O^A,16),T=T+O|0,N=je(N^T,12),A=A+N|0,O=je(O^A,8),T=T+O|0,N=je(N^T,7),x=x+B|0,L=je(L^x,16),S=S+L|0,B=je(B^S,12),x=x+B|0,L=je(L^x,8),S=S+L|0,B=je(B^S,7),v=v+F|0,U=je(U^v,16),D=D+U|0,F=je(F^D,12),v=v+F|0,U=je(U^v,8),D=D+U|0,F=je(F^D,7),I=I+N|0,U=je(U^I,16),S=S+U|0,N=je(N^S,12),I=I+N|0,U=je(U^I,8),S=S+U|0,N=je(N^S,7),A=A+B|0,k=je(k^A,16),D=D+k|0,B=je(B^D,12),A=A+B|0,k=je(k^A,8),D=D+k|0,B=je(B^D,7),x=x+F|0,O=je(O^x,16),_=_+O|0,F=je(F^_,12),x=x+F|0,O=je(O^x,8),_=_+O|0,F=je(F^_,7),v=v+R|0,L=je(L^v,16),T=T+L|0,R=je(R^T,12),v=v+R|0,L=je(L^v,8),T=T+L|0,R=je(R^T,7);let V=0;r[V++]=o+I|0,r[V++]=a+A|0,r[V++]=c+x|0,r[V++]=l+v|0,r[V++]=u+R|0,r[V++]=d+N|0,r[V++]=h+B|0,r[V++]=f+F|0,r[V++]=g+_|0,r[V++]=p+T|0,r[V++]=m+S|0,r[V++]=y+D|0,r[V++]=b+k|0,r[V++]=w+O|0,r[V++]=E+L|0,r[V++]=C+U|0}const PW=AW(_W,{counterRight:!1,counterLength:4,allowShortKeys:!1}),TW=new Uint8Array(16),sA=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(TW.subarray(n))},OW=new Uint8Array(32);function iA(t,e,n,r,s){const i=t(e,n,OW),o=SW.create(i);s&&sA(o,s),sA(o,r);const a=new Uint8Array(16),c=uW(a);nA(c,0,BigInt(s?s.length:0),!0),nA(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return al(i,a),l}const RW=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=tA(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=iA(t,e,n,a,r);return i.set(c,o),al(c),i},decrypt(s,i){i=tA(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=iA(t,e,n,o,r);if(!pW(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),al(c),i}}),BR=gW({blockSize:64,nonceLength:12,tagLength:16},RW(PW));let $R=class extends Ov{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Tv(e);const r=ol(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return il(this),this.iHash.update(e),this}digestInto(e){il(this),Ph(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Rg=(t,e,n)=>new $R(t,e).update(n).digest();Rg.create=(t,e)=>new $R(t,e);function NW(t,e,n){return Tv(t),n===void 0&&(n=new Uint8Array(t.outputLen)),Rg(t,ol(n),ol(e))}const sy=new Uint8Array([0]),oA=new Uint8Array;function kW(t,e,n,r=32){if(Tv(t),Rd(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/t.outputLen);n===void 0&&(n=oA);const i=new Uint8Array(s*t.outputLen),o=Rg.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<s;l++)sy[0]=l+1,a.update(l===0?oA:c).update(n).update(sy).digestInto(c),i.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),sy.fill(0),i.slice(0,r)}const DW=(t,e,n,r,s)=>kW(t,NW(t,e,n),r,s);function BW(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function $W(t,e,n){return t&e^~t&n}function LW(t,e,n){return t&e^t&n^e&n}let FW=class extends Ov{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ny(this.buffer)}update(e){il(this);const{view:n,buffer:r,blockLen:s}=this;e=ol(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=ny(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){il(this),SR(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;BW(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=ny(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const UW=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ki=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Di=new Uint32Array(64);let MW=class extends FW{constructor(){super(64,32,8,!1),this.A=ki[0]|0,this.B=ki[1]|0,this.C=ki[2]|0,this.D=ki[3]|0,this.E=ki[4]|0,this.F=ki[5]|0,this.G=ki[6]|0,this.H=ki[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Di[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Di[d-15],f=Di[d-2],g=ws(h,7)^ws(h,18)^h>>>3,p=ws(f,17)^ws(f,19)^f>>>10;Di[d]=p+Di[d-7]+g+Di[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=ws(a,6)^ws(a,11)^ws(a,25),f=u+h+$W(a,c,l)+UW[d]+Di[d]|0,g=(ws(r,2)^ws(r,13)^ws(r,22))+LW(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Di.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Th=_R(()=>new MW);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ng=BigInt(0),kg=BigInt(1),zW=BigInt(2);function ga(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Oh(t){if(!ga(t))throw new Error("Uint8Array expected")}function cl(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const VW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ll(t){Oh(t);let e="";for(let n=0;n<t.length;n++)e+=VW[t[n]];return e}function _c(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Rv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Ng:BigInt("0x"+t)}const Ys={_0:48,_9:57,A:65,F:70,a:97,f:102};function aA(t){if(t>=Ys._0&&t<=Ys._9)return t-Ys._0;if(t>=Ys.A&&t<=Ys.F)return t-(Ys.A-10);if(t>=Ys.a&&t<=Ys.f)return t-(Ys.a-10)}function ul(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=aA(t.charCodeAt(i)),a=aA(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function ea(t){return Rv(ll(t))}function Nd(t){return Oh(t),Rv(ll(Uint8Array.from(t).reverse()))}function dl(t,e){return ul(t.toString(16).padStart(e*2,"0"))}function Dg(t,e){return dl(t,e).reverse()}function jW(t){return ul(_c(t))}function ur(t,e,n){let r;if(typeof e=="string")try{r=ul(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(ga(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function kd(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Oh(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}function HW(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function qW(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const iy=t=>typeof t=="bigint"&&Ng<=t;function Bg(t,e,n){return iy(t)&&iy(e)&&iy(n)&&e<=t&&t<n}function di(t,e,n,r){if(!Bg(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function LR(t){let e;for(e=0;t>Ng;t>>=kg,e+=1);return e}function WW(t,e){return t>>BigInt(e)&kg}function GW(t,e,n){return t|(n?kg:Ng)<<BigInt(e)}const Nv=t=>(zW<<BigInt(t-1))-kg,oy=t=>new Uint8Array(t),cA=t=>Uint8Array.from(t);function FR(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=oy(t),s=oy(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...u)=>n(s,r,...u),c=(u=oy())=>{s=a(cA([0]),u),r=a(),u.length!==0&&(s=a(cA([1]),u),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){r=a();const h=r.slice();d.push(h),u+=r.length}return kd(...d)};return(u,d)=>{o(),c(u);let h;for(;!(h=d(l()));)c();return o(),h}}const KW={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ga(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ll(t,e,n={}){const r=(s,i,o)=>{const a=KW[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const YW=()=>{throw new Error("not implemented")};function p0(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}var QW=Object.freeze({__proto__:null,isBytes:ga,abytes:Oh,abool:cl,bytesToHex:ll,numberToHexUnpadded:_c,hexToNumber:Rv,hexToBytes:ul,bytesToNumberBE:ea,bytesToNumberLE:Nd,numberToBytesBE:dl,numberToBytesLE:Dg,numberToVarBytesBE:jW,ensureBytes:ur,concatBytes:kd,equalBytes:HW,utf8ToBytes:qW,inRange:Bg,aInRange:di,bitLen:LR,bitGet:WW,bitSet:GW,bitMask:Nv,createHmacDrbg:FR,validateObject:Ll,notImplemented:YW,memoized:p0});const ln=BigInt(0),kt=BigInt(1),No=BigInt(2),ZW=BigInt(3),g0=BigInt(4),lA=BigInt(5),uA=BigInt(8);function Qn(t,e){const n=t%e;return n>=ln?n:e+n}function UR(t,e,n){if(e<ln)throw new Error("invalid exponent, negatives unsupported");if(n<=ln)throw new Error("invalid modulus");if(n===kt)return ln;let r=kt;for(;e>ln;)e&kt&&(r=r*t%n),t=t*t%n,e>>=kt;return r}function Wr(t,e,n){let r=t;for(;e-- >ln;)r*=r,r%=n;return r}function m0(t,e){if(t===ln)throw new Error("invert: expected non-zero number");if(e<=ln)throw new Error("invert: expected positive modulus, got "+e);let n=Qn(t,e),r=e,s=ln,i=kt;for(;n!==ln;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==kt)throw new Error("invert: does not exist");return Qn(s,e)}function JW(t){const e=(t-kt)/No;let n,r,s;for(n=t-kt,r=0;n%No===ln;n/=No,r++);for(s=No;s<t&&UR(s,e,t)!==t-kt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+kt)/g0;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+kt)/No;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let g=o.sqr(d);h<c&&!o.eql(g,o.ONE);h++)g=o.sqr(g);const f=o.pow(l,kt<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function XW(t){if(t%g0===ZW){const e=(t+kt)/g0;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%uA===lA){const e=(t-lA)/uA;return function(n,r){const s=n.mul(r,No),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,No),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return JW(t)}const eG=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tG(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=eG.reduce((r,s)=>(r[s]="function",r),e);return Ll(t,n)}function nG(t,e,n){if(n<ln)throw new Error("invalid exponent, negatives unsupported");if(n===ln)return t.ONE;if(n===kt)return e;let r=t.ONE,s=e;for(;n>ln;)n&kt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=kt;return r}function rG(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function MR(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function zR(t,e,n=!1,r={}){if(t<=ln)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=MR(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Nv(s),ZERO:ln,ONE:kt,create:c=>Qn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ln<=c&&c<t},is0:c=>c===ln,isOdd:c=>(c&kt)===kt,neg:c=>Qn(-c,t),eql:(c,l)=>c===l,sqr:c=>Qn(c*c,t),add:(c,l)=>Qn(c+l,t),sub:(c,l)=>Qn(c-l,t),mul:(c,l)=>Qn(c*l,t),pow:(c,l)=>nG(a,c,l),div:(c,l)=>Qn(c*m0(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>m0(c,t),sqrt:r.sqrt||(c=>(o||(o=XW(t)),o(a,c))),invertBatch:c=>rG(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?Dg(c,i):dl(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?Nd(c):ea(c)}});return Object.freeze(a)}function VR(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function jR(t){const e=VR(t);return e+Math.ceil(e/2)}function sG(t,e,n=!1){const r=t.length,s=VR(e),i=jR(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Nd(t):ea(t),a=Qn(o,e-kt)+kt;return n?Dg(a,s):dl(a,s)}const dA=BigInt(0),cf=BigInt(1);function ay(t,e){const n=e.negate();return t?n:e}function HR(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function cy(t,e){HR(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function iG(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function oG(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const ly=new WeakMap,qR=new WeakMap;function uy(t){return qR.get(t)||1}function aG(t,e){return{constTimeNegate:ay,hasPrecomputes(n){return uy(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>dA;)r&cf&&(s=s.add(i)),i=i.double(),r>>=cf;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=cy(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=cy(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let g=Number(s&l);s>>=d,g>o&&(g-=u,s+=cf);const p=f,m=f+Math.abs(g)-1,y=h%2!==0,b=g<0;g===0?c=c.add(ay(y,r[p])):a=a.add(ay(b,r[m]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=cy(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===dA)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=cf),f===0)continue;let g=r[h+Math.abs(f)-1];f<0&&(g=g.negate()),i=i.add(g)}return i},getPrecomputes(n,r,s){let i=ly.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&ly.set(r,s(i))),i},wNAFCached(n,r,s){const i=uy(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=uy(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){HR(r,e),qR.set(n,r),ly.delete(n)}}}function cG(t,e,n,r){if(iG(n,t),oG(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=LR(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const g=r[f],p=Number(g>>BigInt(d)&BigInt(a));c[p]=c[p].add(n[f])}let h=s;for(let f=c.length-1,g=s;f>0;f--)g=g.add(c[f]),h=h.add(g);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function WR(t){return tG(t.Fp),Ll(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...MR(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Ka=BigInt(0),dy=BigInt(1);function lG(t){return Ll(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function uG(t){const e=lG(t),{P:n}=e,r=b=>Qn(b,n),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(b=>b),c=e.powPminus2||(b=>UR(b,n-BigInt(2),n));function l(b,w,E){const C=r(b*(w-E));return w=r(w-C),E=r(E+C),[w,E]}const u=(e.a-BigInt(2))/BigInt(4);function d(b,w){di("u",b,Ka,n),di("scalar",w,Ka,n);const E=w,C=b;let I=dy,A=Ka,x=b,v=dy,R=Ka,N;for(let F=BigInt(s-1);F>=Ka;F--){const _=E>>F&dy;R^=_,N=l(R,I,x),I=N[0],x=N[1],N=l(R,A,v),A=N[0],v=N[1],R=_;const T=I+A,S=r(T*T),D=I-A,k=r(D*D),O=S-k,L=x+v,U=x-v,V=r(U*T),G=r(L*D),q=V+G,ee=V-G;x=r(q*q),v=r(C*r(ee*ee)),I=r(S*k),A=r(O*(S+r(u*O)))}N=l(R,I,x),I=N[0],x=N[1],N=l(R,A,v),A=N[0],v=N[1];const B=c(A);return r(I*B)}function h(b){return Dg(r(b),i)}function f(b){const w=ur("u coordinate",b,i);return o===32&&(w[31]&=127),Nd(w)}function g(b){const w=ur("scalar",b),E=w.length;if(E!==i&&E!==o){let C=""+i+" or "+o;throw new Error("invalid scalar, expected "+C+" bytes, got "+E)}return Nd(a(w))}function p(b,w){const E=f(w),C=g(b),I=d(E,C);if(I===Ka)throw new Error("invalid private or public key received");return h(I)}const m=h(e.Gu);function y(b){return p(b,m)}return{scalarMult:p,scalarMultBase:y,getSharedSecret:(b,w)=>p(b,w),getPublicKey:b=>y(b),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:m}}const y0=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const dG=BigInt(1),hA=BigInt(2),hG=BigInt(3),fG=BigInt(5);BigInt(8);function pG(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=y0,o=t*t%i*t%i,a=Wr(o,hA,i)*o%i,c=Wr(a,dG,i)*t%i,l=Wr(c,fG,i)*c%i,u=Wr(l,e,i)*l%i,d=Wr(u,n,i)*u%i,h=Wr(d,r,i)*d%i,f=Wr(h,s,i)*h%i,g=Wr(f,s,i)*h%i,p=Wr(g,e,i)*l%i;return{pow_p_5_8:Wr(p,hA,i)*t%i,b2:o}}function gG(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const b0=uG({P:y0,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=y0,{pow_p_5_8:n,b2:r}=pG(t);return Qn(Wr(n,hG,e)*r,e)},adjustScalarBytes:gG,randomBytes:$l});function fA(t){t.lowS!==void 0&&cl("lowS",t.lowS),t.prehash!==void 0&&cl("prehash",t.prehash)}function mG(t){const e=WR(t);Ll(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:yG,hexToBytes:bG}=QW;let wG=class extends Error{constructor(e=""){super(e)}};const ri={Err:wG,_tlv:{encode:(t,e)=>{const{Err:n}=ri;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=_c(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?_c(s.length/2|128):"";return _c(t)+i+s+e},decode(t,e){const{Err:n}=ri;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=ri;if(t<ai)throw new e("integer: negative integers are not allowed");let n=_c(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ri;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return yG(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ri,s=typeof t=="string"?bG(t):t;Oh(s);const{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=ri,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},ai=BigInt(0),tn=BigInt(1);BigInt(2);const pA=BigInt(3);BigInt(4);function vG(t){const e=mG(t),{Fp:n}=e,r=zR(e.n,e.nBitLength),s=e.toBytes||((p,m,y)=>{const b=m.toAffine();return kd(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),i=e.fromBytes||(p=>{const m=p.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),b=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:b}});function o(p){const{a:m,b:y}=e,b=n.sqr(p),w=n.mul(b,p);return n.add(n.add(w,n.mul(p,m)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return Bg(p,tn,e.n)}function c(p){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:b,n:w}=e;if(m&&typeof p!="bigint"){if(ga(p)&&(p=ll(p)),typeof p!="string"||!m.includes(p.length))throw new Error("invalid private key");p=p.padStart(y*2,"0")}let E;try{E=typeof p=="bigint"?p:ea(ur("private key",p,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof p)}return b&&(E=Qn(E,w)),di("private key",E,tn,w),E}function l(p){if(!(p instanceof h))throw new Error("ProjectivePoint expected")}const u=p0((p,m)=>{const{px:y,py:b,pz:w}=p;if(n.eql(w,n.ONE))return{x:y,y:b};const E=p.is0();m==null&&(m=E?n.ONE:n.inv(w));const C=n.mul(y,m),I=n.mul(b,m),A=n.mul(w,m);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:C,y:I}}),d=p0(p=>{if(p.is0()){if(e.allowInfinityPoint&&!n.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=p.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");const b=n.sqr(y),w=o(m);if(!n.eql(b,w))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(m,y,b){if(this.px=m,this.py=y,this.pz=b,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(m){const{x:y,y:b}=m||{};if(!m||!n.isValid(y)||!n.isValid(b))throw new Error("invalid affine point");if(m instanceof h)throw new Error("projective point not allowed");const w=E=>n.eql(E,n.ZERO);return w(y)&&w(b)?h.ZERO:new h(y,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=n.invertBatch(m.map(b=>b.pz));return m.map((b,w)=>b.toAffine(y[w])).map(h.fromAffine)}static fromHex(m){const y=h.fromAffine(i(ur("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return h.BASE.multiply(c(m))}static msm(m,y){return cG(h,r,m,y)}_setWindowSize(m){g.setWindowSize(this,m)}assertValidity(){d(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:y,py:b,pz:w}=this,{px:E,py:C,pz:I}=m,A=n.eql(n.mul(y,I),n.mul(E,w)),x=n.eql(n.mul(b,I),n.mul(C,w));return A&&x}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,b=n.mul(y,pA),{px:w,py:E,pz:C}=this;let I=n.ZERO,A=n.ZERO,x=n.ZERO,v=n.mul(w,w),R=n.mul(E,E),N=n.mul(C,C),B=n.mul(w,E);return B=n.add(B,B),x=n.mul(w,C),x=n.add(x,x),I=n.mul(m,x),A=n.mul(b,N),A=n.add(I,A),I=n.sub(R,A),A=n.add(R,A),A=n.mul(I,A),I=n.mul(B,I),x=n.mul(b,x),N=n.mul(m,N),B=n.sub(v,N),B=n.mul(m,B),B=n.add(B,x),x=n.add(v,v),v=n.add(x,v),v=n.add(v,N),v=n.mul(v,B),A=n.add(A,v),N=n.mul(E,C),N=n.add(N,N),v=n.mul(N,B),I=n.sub(I,v),x=n.mul(N,R),x=n.add(x,x),x=n.add(x,x),new h(I,A,x)}add(m){l(m);const{px:y,py:b,pz:w}=this,{px:E,py:C,pz:I}=m;let A=n.ZERO,x=n.ZERO,v=n.ZERO;const R=e.a,N=n.mul(e.b,pA);let B=n.mul(y,E),F=n.mul(b,C),_=n.mul(w,I),T=n.add(y,b),S=n.add(E,C);T=n.mul(T,S),S=n.add(B,F),T=n.sub(T,S),S=n.add(y,w);let D=n.add(E,I);return S=n.mul(S,D),D=n.add(B,_),S=n.sub(S,D),D=n.add(b,w),A=n.add(C,I),D=n.mul(D,A),A=n.add(F,_),D=n.sub(D,A),v=n.mul(R,S),A=n.mul(N,_),v=n.add(A,v),A=n.sub(F,v),v=n.add(F,v),x=n.mul(A,v),F=n.add(B,B),F=n.add(F,B),_=n.mul(R,_),S=n.mul(N,S),F=n.add(F,_),_=n.sub(B,_),_=n.mul(R,_),S=n.add(S,_),B=n.mul(F,S),x=n.add(x,B),B=n.mul(D,S),A=n.mul(T,A),A=n.sub(A,B),B=n.mul(T,F),v=n.mul(D,v),v=n.add(v,B),new h(A,x,v)}subtract(m){return this.add(m.negate())}is0(){return this.equals(h.ZERO)}wNAF(m){return g.wNAFCached(this,m,h.normalizeZ)}multiplyUnsafe(m){const{endo:y,n:b}=e;di("scalar",m,ai,b);const w=h.ZERO;if(m===ai)return w;if(this.is0()||m===tn)return this;if(!y||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,m,h.normalizeZ);let{k1neg:E,k1:C,k2neg:I,k2:A}=y.splitScalar(m),x=w,v=w,R=this;for(;C>ai||A>ai;)C&tn&&(x=x.add(R)),A&tn&&(v=v.add(R)),R=R.double(),C>>=tn,A>>=tn;return E&&(x=x.negate()),I&&(v=v.negate()),v=new h(n.mul(v.px,y.beta),v.py,v.pz),x.add(v)}multiply(m){const{endo:y,n:b}=e;di("scalar",m,tn,b);let w,E;if(y){const{k1neg:C,k1:I,k2neg:A,k2:x}=y.splitScalar(m);let{p:v,f:R}=this.wNAF(I),{p:N,f:B}=this.wNAF(x);v=g.constTimeNegate(C,v),N=g.constTimeNegate(A,N),N=new h(n.mul(N.px,y.beta),N.py,N.pz),w=v.add(N),E=R.add(B)}else{const{p:C,f:I}=this.wNAF(m);w=C,E=I}return h.normalizeZ([w,E])[0]}multiplyAndAddUnsafe(m,y,b){const w=h.BASE,E=(I,A)=>A===ai||A===tn||!I.equals(w)?I.multiplyUnsafe(A):I.multiply(A),C=E(this,y).add(E(m,b));return C.is0()?void 0:C}toAffine(m){return u(this,m)}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===tn)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===tn?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return cl("isCompressed",m),this.assertValidity(),s(h,this,m)}toHex(m=!0){return cl("isCompressed",m),ll(this.toRawBytes(m))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,g=aG(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function EG(t){const e=WR(t);return Ll(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function CG(t){const e=EG(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function o(_){return Qn(_,r)}function a(_){return m0(_,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=vG({...e,toBytes(_,T,S){const D=T.toAffine(),k=n.toBytes(D.x),O=kd;return cl("isCompressed",S),S?O(Uint8Array.from([T.hasEvenY()?2:3]),k):O(Uint8Array.from([4]),k,n.toBytes(D.y))},fromBytes(_){const T=_.length,S=_[0],D=_.subarray(1);if(T===s&&(S===2||S===3)){const k=ea(D);if(!Bg(k,tn,n.ORDER))throw new Error("Point is not on curve");const O=u(k);let L;try{L=n.sqrt(O)}catch(V){const G=V instanceof Error?": "+V.message:"";throw new Error("Point is not on curve"+G)}const U=(L&tn)===tn;return(S&1)===1!==U&&(L=n.neg(L)),{x:k,y:L}}else if(T===i&&S===4){const k=n.fromBytes(D.subarray(0,n.BYTES)),O=n.fromBytes(D.subarray(n.BYTES,2*n.BYTES));return{x:k,y:O}}else{const k=s,O=i;throw new Error("invalid Point, expected length of "+k+", or uncompressed "+O+", got "+T)}}}),h=_=>ll(dl(_,e.nByteLength));function f(_){const T=r>>tn;return _>T}function g(_){return f(_)?o(-_):_}const p=(_,T,S)=>ea(_.slice(T,S));class m{constructor(T,S,D){this.r=T,this.s=S,this.recovery=D,this.assertValidity()}static fromCompact(T){const S=e.nByteLength;return T=ur("compactSignature",T,S*2),new m(p(T,0,S),p(T,S,2*S))}static fromDER(T){const{r:S,s:D}=ri.toSig(ur("DER",T));return new m(S,D)}assertValidity(){di("r",this.r,tn,r),di("s",this.s,tn,r)}addRecoveryBit(T){return new m(this.r,this.s,T)}recoverPublicKey(T){const{r:S,s:D,recovery:k}=this,O=I(ur("msgHash",T));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");const L=k===2||k===3?S+e.n:S;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const U=(k&1)===0?"02":"03",V=c.fromHex(U+h(L)),G=a(L),q=o(-O*G),ee=o(D*G),ce=c.BASE.multiplyAndAddUnsafe(V,q,ee);if(!ce)throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ul(this.toDERHex())}toDERHex(){return ri.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ul(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(_){try{return l(_),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const _=jR(e.n);return sG(e.randomBytes(_),e.n)},precompute(_=8,T=c.BASE){return T._setWindowSize(_),T.multiply(BigInt(3)),T}};function b(_,T=!0){return c.fromPrivateKey(_).toRawBytes(T)}function w(_){const T=ga(_),S=typeof _=="string",D=(T||S)&&_.length;return T?D===s||D===i:S?D===2*s||D===2*i:_ instanceof c}function E(_,T,S=!0){if(w(_))throw new Error("first arg must be private key");if(!w(T))throw new Error("second arg must be public key");return c.fromHex(T).multiply(l(_)).toRawBytes(S)}const C=e.bits2int||function(_){if(_.length>8192)throw new Error("input is too large");const T=ea(_),S=_.length*8-e.nBitLength;return S>0?T>>BigInt(S):T},I=e.bits2int_modN||function(_){return o(C(_))},A=Nv(e.nBitLength);function x(_){return di("num < 2^"+e.nBitLength,_,ai,A),dl(_,e.nByteLength)}function v(_,T,S=R){if(["recovered","canonical"].some(j=>j in S))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:k}=e;let{lowS:O,prehash:L,extraEntropy:U}=S;O==null&&(O=!0),_=ur("msgHash",_),fA(S),L&&(_=ur("prehashed msgHash",D(_)));const V=I(_),G=l(T),q=[x(G),x(V)];if(U!=null&&U!==!1){const j=U===!0?k(n.BYTES):U;q.push(ur("extraEntropy",j))}const ee=kd(...q),ce=V;function _e(j){const M=C(j);if(!d(M))return;const de=a(M),pe=c.BASE.multiply(M).toAffine(),ye=o(pe.x);if(ye===ai)return;const xe=o(de*o(ce+ye*G));if(xe===ai)return;let Me=(pe.x===ye?0:2)|Number(pe.y&tn),_t=xe;return O&&f(xe)&&(_t=g(xe),Me^=1),new m(ye,_t,Me)}return{seed:ee,k2sig:_e}}const R={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function B(_,T,S=R){const{seed:D,k2sig:k}=v(_,T,S),O=e;return FR(O.hash.outputLen,O.nByteLength,O.hmac)(D,k)}c.BASE._setWindowSize(8);function F(_,T,S,D=N){var xe;const k=_;T=ur("msgHash",T),S=ur("publicKey",S);const{lowS:O,prehash:L,format:U}=D;if(fA(D),"strict"in D)throw new Error("options.strict was renamed to lowS");if(U!==void 0&&U!=="compact"&&U!=="der")throw new Error("format must be compact or der");const V=typeof k=="string"||ga(k),G=!V&&!U&&typeof k=="object"&&k!==null&&typeof k.r=="bigint"&&typeof k.s=="bigint";if(!V&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,ee;try{if(G&&(q=new m(k.r,k.s)),V){try{U!=="compact"&&(q=m.fromDER(k))}catch(Me){if(!(Me instanceof ri.Err))throw Me}!q&&U!=="der"&&(q=m.fromCompact(k))}ee=c.fromHex(S)}catch{return!1}if(!q||O&&q.hasHighS())return!1;L&&(T=e.hash(T));const{r:ce,s:_e}=q,j=I(T),M=a(_e),de=o(j*M),pe=o(ce*M),ye=(xe=c.BASE.multiplyAndAddUnsafe(ee,de,pe))==null?void 0:xe.toAffine();return ye?o(ye.x)===ce:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:B,verify:F,ProjectivePoint:c,Signature:m,utils:y}}function AG(t){return{hash:t,hmac:(e,...n)=>Rg(t,e,Jq(...n)),randomBytes:$l}}function IG(t,e){const n=r=>CG({...t,...AG(r)});return{...n(e),create:n}}const GR=zR(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),xG=GR.create(BigInt("-3")),SG=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),_G=IG({a:xG,b:SG,Fp:GR,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Th),KR="base10",Ln="base16",ta="base64pad",kv="base64url",Rh="utf8",YR=0,Fl=1,$g=2,PG=0,gA=1,Vu=12,Dv=32;function TG(){const t=b0.utils.randomPrivateKey(),e=b0.getPublicKey(t);return{privateKey:Tn(t,Ln),publicKey:Tn(e,Ln)}}function w0(){const t=$l(Dv);return Tn(t,Ln)}function OG(t,e){const n=b0.getSharedSecret(Xn(t,Ln),Xn(e,Ln)),r=DW(Th,n,void 0,void 0,Dv);return Tn(r,Ln)}function RG(t){const e=Th(Xn(t,Ln));return Tn(e,Ln)}function Uf(t){const e=Th(Xn(t,Rh));return Tn(e,Ln)}function QR(t){return Xn(`${t}`,KR)}function ma(t){return Number(Tn(t,KR))}function ZR(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function JR(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function NG(t){const e=QR(typeof t.type<"u"?t.type:YR);if(ma(e)===Fl&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Xn(t.senderPublicKey,Ln):void 0,r=typeof t.iv<"u"?Xn(t.iv,Ln):$l(Vu),s=Xn(t.symKey,Ln),i=BR(s,r).encrypt(Xn(t.message,Rh)),o=XR({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===kv?ZR(o):o}function kG(t){const e=Xn(t.symKey,Ln),{sealed:n,iv:r}=Dd({encoded:t.encoded,encoding:t.encoding}),s=BR(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return Tn(s,Rh)}function DG(t,e){const n=QR($g),r=$l(Vu),s=Xn(t,Rh),i=XR({type:n,sealed:s,iv:r});return e===kv?ZR(i):i}function BG(t,e){const{sealed:n}=Dd({encoded:t,encoding:e});return Tn(n,Rh)}function XR(t){if(ma(t.type)===$g)return Tn(Mu([t.type,t.sealed]),ta);if(ma(t.type)===Fl){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Tn(Mu([t.type,t.senderPublicKey,t.iv,t.sealed]),ta)}return Tn(Mu([t.type,t.iv,t.sealed]),ta)}function Dd(t){const e=(t.encoding||ta)===kv?JR(t.encoded):t.encoded,n=Xn(e,ta),r=n.slice(PG,gA),s=gA;if(ma(r)===Fl){const c=s+Dv,l=c+Vu,u=n.slice(s,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(ma(r)===$g){const c=n.slice(s),l=$l(Vu);return{type:r,sealed:c,iv:l}}const i=s+Vu,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function $G(t,e){const n=Dd({encoded:t,encoding:e==null?void 0:e.encoding});return eN({type:ma(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Tn(n.senderPublicKey,Ln):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function eN(t){const e=(t==null?void 0:t.type)||YR;if(e===Fl){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function mA(t){return t.type===Fl&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function yA(t){return t.type===$g}function LG(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Mu([new Uint8Array([4]),e,n])}function FG(t,e){const[n,r,s]=t.split("."),i=Buffer.from(JR(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=Th(c),u=LG(e);if(!_G.verify(Mu([o,a]),l,u))throw new Error("Invalid signature");return c0(t).payload}const UG="irn";function Cp(t){return(t==null?void 0:t.relay)||{protocol:UG}}function Ru(t){const e=Sq[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function MG(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function bA(t){if(!t.includes("wc:")){const l=xR(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:zG(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:MG(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function zG(t){return t.startsWith("//")?t.substring(2):t}function VG(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function wA(t){const e=new URLSearchParams,n=VG(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}const jG={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},HG={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Qe(t,e){const{message:n,code:r}=HG[t];return{message:e?`${n} ${e}`:n,code:r}}function Nu(t,e){const{message:n,code:r}=jG[t];return{message:e?`${n} ${e}`:n,code:r}}function v0(t){return typeof t>"u"}function tN(t,e){return typeof t=="string"&&!!t.trim().length}function qG(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(tN(t,!1)){if(e(t))return!0;const n=xR(t);return e(n)}}catch{}return!1}function WG(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function GG(t){return t==null?void 0:t.topic}function hy(t){return typeof t<"u"&&typeof t!==null}function vA(){const t=Og();return new Promise(e=>{switch(t){case es.browser:e(KG());break;case es.reactNative:e(YG());break;case es.node:e(QG());break;default:e(!0)}})}function KG(){return Tg()&&(navigator==null?void 0:navigator.onLine)}async function YG(){if($a()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function QG(){return!0}function ZG(t){switch(Og()){case es.browser:JG(t);break;case es.reactNative:XG(t);break}}function JG(t){!$a()&&Tg()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function XG(t){$a()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const eK="PARSE_ERROR",tK="INVALID_REQUEST",nK="METHOD_NOT_FOUND",rK="INVALID_PARAMS",nN="INTERNAL_ERROR",Bv="SERVER_ERROR",sK=[-32700,-32600,-32601,-32602,-32603],ju={[eK]:{code:-32700,message:"Parse error"},[tK]:{code:-32600,message:"Invalid Request"},[nK]:{code:-32601,message:"Method not found"},[rK]:{code:-32602,message:"Invalid params"},[nN]:{code:-32603,message:"Internal error"},[Bv]:{code:-32e3,message:"Server error"}},rN=Bv;function iK(t){return sK.includes(t)}function EA(t){return Object.keys(ju).includes(t)?ju[t]:ju[rN]}function oK(t){const e=Object.values(ju).find(n=>n.code===t);return e||ju[rN]}function sN(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}function Is(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Vo(t=6){return BigInt(Is(t))}function Yi(t,e,n){return{id:n||Is(),jsonrpc:"2.0",method:t,params:e}}function Lg(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Fg(t,e,n){return{id:t,jsonrpc:"2.0",error:aK(e)}}function aK(t,e){return typeof t>"u"?EA(nN):(typeof t=="string"&&(t=Object.assign(Object.assign({},EA(Bv)),{message:t})),iK(t.code)&&(t=oK(t.code)),t)}class cK{}class lK extends cK{constructor(){super()}}class uK extends lK{constructor(e){super()}}const dK="^https?:",hK="^wss?:";function fK(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function iN(t,e){const n=fK(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function CA(t){return iN(t,dK)}function AA(t){return iN(t,hK)}function pK(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function oN(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function $v(t){return oN(t)&&"method"in t}function Ug(t){return oN(t)&&(xs(t)||Dr(t))}function xs(t){return"result"in t}function Dr(t){return"error"in t}class Fr extends uK{constructor(e){super(e),this.events=new ps.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Yi(e.method,e.params||[],e.id||Vo().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{Dr(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ug(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const gK=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),mK=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",IA=t=>t.split("?")[0],xA=10,yK=gK();let bK=class{constructor(e){if(this.url=e,this.events=new ps.EventEmitter,this.registering=!1,!AA(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(vi(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!AA(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=SD.isReactNative()?void 0:{rejectUnauthorized:!pK(e)},i=new yK(e,[],s);mK()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?pa(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Fg(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return sN(e,IA(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>xA&&this.events.setMaxListeners(xA)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${IA(this.url)}`));return this.events.emit("register_error",n),n}};var wK={};const aN="wc",cN=2,E0="core",Fs=`${aN}@2:${E0}:`,vK={logger:"error"},EK={database:":memory:"},CK="crypto",SA="client_ed25519_seed",AK=Q.ONE_DAY,IK="keychain",xK="0.3",SK="messages",_K="0.3",_A=Q.SIX_HOURS,PK="publisher",lN="irn",TK="error",uN="wss://relay.walletconnect.org",OK="relayer",sn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},RK="_subscription",xr={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},NK=.1,C0="2.19.2",gt={link_mode:"link_mode",relay:"relay"},Mf={inbound:"inbound",outbound:"outbound"},kK="0.3",DK="WALLETCONNECT_CLIENT_ID",PA="WALLETCONNECT_LINK_MODE_APPS",cr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},BK="subscription",$K="0.3",LK="pairing",FK="0.3",uu={wc_pairingDelete:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Q.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Q.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:0},res:{ttl:Q.ONE_DAY,prompt:!1,tag:0}}},ko={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},zr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},UK="history",MK="0.3",zK="expirer",Rr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},VK="0.3",jK="verify-api",HK="https://verify.walletconnect.com",dN="https://verify.walletconnect.org",Hu=dN,qK=`${Hu}/v3`,WK=[HK,dN],GK="echo",KK="https://echo.walletconnect.com",As={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ti={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Vr={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},bo={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},wo={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},du={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},YK=.1,QK="event-client",ZK=86400,JK="https://pulse.walletconnect.org/batch";function XK(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var p=0,m=0,y=0,b=g.length;y!==b&&g[y]===0;)y++,p++;for(var w=(b-y)*u+1>>>0,E=new Uint8Array(w);y!==b;){for(var C=g[y],I=0,A=w-1;(C!==0||I<m)&&A!==-1;A--,I++)C+=256*E[A]>>>0,E[A]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");m=I,y++}for(var x=w-m;x!==w&&E[x]===0;)x++;for(var v=c.repeat(p);x<w;++x)v+=t.charAt(E[x]);return v}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var p=0;if(g[p]!==" "){for(var m=0,y=0;g[p]===c;)m++,p++;for(var b=(g.length-p)*l+1>>>0,w=new Uint8Array(b);g[p];){var E=n[g.charCodeAt(p)];if(E===255)return;for(var C=0,I=b-1;(E!==0||C<y)&&I!==-1;I--,C++)E+=a*w[I]>>>0,w[I]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=C,p++}if(g[p]!==" "){for(var A=b-y;A!==b&&w[A]===0;)A++;for(var x=new Uint8Array(m+(b-A)),v=m;A!==b;)x[v++]=w[A++];return x}}}function f(g){var p=h(g);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var eY=XK,tY=eY;const hN=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},nY=t=>new TextEncoder().encode(t),rY=t=>new TextDecoder().decode(t);let sY=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},iY=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return fN(this,e)}},oY=class{constructor(e){this.decoders=e}or(e){return fN(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const fN=(t,e)=>new oY({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let aY=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new sY(e,n,r),this.decoder=new iY(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Mg=({name:t,prefix:e,encode:n,decode:r})=>new aY(t,e,n,r),Nh=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=tY(n,e);return Mg({prefix:t,name:e,encode:r,decode:i=>hN(s(i))})},cY=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},lY=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},xn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Mg({prefix:e,name:t,encode(s){return lY(s,r,n)},decode(s){return cY(s,r,n,t)}}),uY=Mg({prefix:"\0",name:"identity",encode:t=>rY(t),decode:t=>nY(t)});var dY=Object.freeze({__proto__:null,identity:uY});const hY=xn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var fY=Object.freeze({__proto__:null,base2:hY});const pY=xn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var gY=Object.freeze({__proto__:null,base8:pY});const mY=Nh({prefix:"9",name:"base10",alphabet:"0123456789"});var yY=Object.freeze({__proto__:null,base10:mY});const bY=xn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wY=xn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var vY=Object.freeze({__proto__:null,base16:bY,base16upper:wY});const EY=xn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),CY=xn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),AY=xn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),IY=xn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xY=xn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),SY=xn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_Y=xn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),PY=xn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),TY=xn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var OY=Object.freeze({__proto__:null,base32:EY,base32upper:CY,base32pad:AY,base32padupper:IY,base32hex:xY,base32hexupper:SY,base32hexpad:_Y,base32hexpadupper:PY,base32z:TY});const RY=Nh({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),NY=Nh({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var kY=Object.freeze({__proto__:null,base36:RY,base36upper:NY});const DY=Nh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),BY=Nh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var $Y=Object.freeze({__proto__:null,base58btc:DY,base58flickr:BY});const LY=xn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),FY=xn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),UY=xn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),MY=xn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var zY=Object.freeze({__proto__:null,base64:LY,base64pad:FY,base64url:UY,base64urlpad:MY});const pN=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),VY=pN.reduce((t,e,n)=>(t[n]=e,t),[]),jY=pN.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function HY(t){return t.reduce((e,n)=>(e+=VY[n],e),"")}function qY(t){const e=[];for(const n of t){const r=jY[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const WY=Mg({prefix:"🚀",name:"base256emoji",encode:HY,decode:qY});var GY=Object.freeze({__proto__:null,base256emoji:WY}),KY=gN,TA=128,YY=-128,QY=Math.pow(2,31);function gN(t,e,n){e=e||[],n=n||0;for(var r=n;t>=QY;)e[n++]=t&255|TA,t/=128;for(;t&YY;)e[n++]=t&255|TA,t>>>=7;return e[n]=t|0,gN.bytes=n-r+1,e}var ZY=A0,JY=128,OA=127;function A0(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw A0.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&OA)<<s:(o&OA)*Math.pow(2,s),s+=7}while(o>=JY);return A0.bytes=i-r,n}var XY=Math.pow(2,7),eQ=Math.pow(2,14),tQ=Math.pow(2,21),nQ=Math.pow(2,28),rQ=Math.pow(2,35),sQ=Math.pow(2,42),iQ=Math.pow(2,49),oQ=Math.pow(2,56),aQ=Math.pow(2,63),cQ=function(t){return t<XY?1:t<eQ?2:t<tQ?3:t<nQ?4:t<rQ?5:t<sQ?6:t<iQ?7:t<oQ?8:t<aQ?9:10},lQ={encode:KY,decode:ZY,encodingLength:cQ},mN=lQ;const RA=(t,e,n=0)=>(mN.encode(t,e,n),e),NA=t=>mN.encodingLength(t),I0=(t,e)=>{const n=e.byteLength,r=NA(t),s=r+NA(n),i=new Uint8Array(s+n);return RA(t,i,0),RA(n,i,r),i.set(e,s),new uQ(t,n,e,i)};let uQ=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const yN=({name:t,code:e,encode:n})=>new dQ(t,e,n);let dQ=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?I0(this.code,n):n.then(r=>I0(this.code,r))}else throw Error("Unknown type, must be binary type")}};const bN=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),hQ=yN({name:"sha2-256",code:18,encode:bN("SHA-256")}),fQ=yN({name:"sha2-512",code:19,encode:bN("SHA-512")});var pQ=Object.freeze({__proto__:null,sha256:hQ,sha512:fQ});const wN=0,gQ="identity",vN=hN,mQ=t=>I0(wN,vN(t)),yQ={code:wN,name:gQ,encode:vN,digest:mQ};var bQ=Object.freeze({__proto__:null,identity:yQ});new TextEncoder,new TextDecoder;const kA={...dY,...fY,...gY,...yY,...vY,...OY,...kY,...$Y,...zY,...GY};({...pQ,...bQ});function wQ(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function EN(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const DA=EN("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),fy=EN("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=wQ(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),vQ={utf8:DA,"utf-8":DA,hex:kA.base16,latin1:fy,ascii:fy,binary:fy,...kA};function EQ(t,e="utf8"){const n=vQ[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var CQ=Object.defineProperty,AQ=(t,e,n)=>e in t?CQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vs=(t,e,n)=>AQ(t,typeof e!="symbol"?e+"":e,n);let IQ=class{constructor(e,n){this.core=e,this.logger=n,vs(this,"keychain",new Map),vs(this,"name",IK),vs(this,"version",xK),vs(this,"initialized",!1),vs(this,"storagePrefix",Fs),vs(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),vs(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),vs(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),vs(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=Qe("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),vs(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Rn(n,this.name)}get context(){return rr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,l0(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?u0(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var xQ=Object.defineProperty,SQ=(t,e,n)=>e in t?xQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pn=(t,e,n)=>SQ(t,typeof e!="symbol"?e+"":e,n);let _Q=class{constructor(e,n,r){this.core=e,this.logger=n,pn(this,"name",CK),pn(this,"keychain"),pn(this,"randomSessionIdentifier",w0()),pn(this,"initialized",!1),pn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),pn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),pn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=LC(s);return pR(i.publicKey)}),pn(this,"generateKeyPair",()=>{this.isInitialized();const s=TG();return this.setPrivateKey(s.publicKey,s.privateKey)}),pn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=LC(i),a=this.randomSessionIdentifier;return await pH(a,s,AK,o)}),pn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=OG(a,i);return this.setSymKey(c,o)}),pn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||RG(s);return await this.keychain.set(o,s),o}),pn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),pn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),pn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=eN(o),c=vi(i);if(yA(a))return DG(c,o==null?void 0:o.encoding);if(mA(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(h,f)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return NG({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),pn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=$G(i,o);if(yA(a)){const c=BG(i,o==null?void 0:o.encoding);return pa(c)}if(mA(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=kG({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return pa(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),pn(this,"getPayloadType",(s,i=ta)=>{const o=Dd({encoded:s,encoding:i});return ma(o.type)}),pn(this,"getPayloadSenderPublicKey",(s,i=ta)=>{const o=Dd({encoded:s,encoding:i});return o.senderPublicKey?Tn(o.senderPublicKey,Ln):void 0}),this.core=e,this.logger=Rn(n,this.name),this.keychain=r||new IQ(this.core,this.logger)}get context(){return rr(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(SA)}catch{e=w0(),await this.keychain.set(SA,e)}return EQ(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var PQ=Object.defineProperty,TQ=Object.defineProperties,OQ=Object.getOwnPropertyDescriptors,BA=Object.getOwnPropertySymbols,RQ=Object.prototype.hasOwnProperty,NQ=Object.prototype.propertyIsEnumerable,x0=(t,e,n)=>e in t?PQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kQ=(t,e)=>{for(var n in e||(e={}))RQ.call(e,n)&&x0(t,n,e[n]);if(BA)for(var n of BA(e))NQ.call(e,n)&&x0(t,n,e[n]);return t},DQ=(t,e)=>TQ(t,OQ(e)),ir=(t,e,n)=>x0(t,typeof e!="symbol"?e+"":e,n);let BQ=class extends h9{constructor(e,n){super(e,n),this.logger=e,this.core=n,ir(this,"messages",new Map),ir(this,"messagesWithoutClientAck",new Map),ir(this,"name",SK),ir(this,"version",_K),ir(this,"initialized",!1),ir(this,"storagePrefix",Fs),ir(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ir(this,"set",async(r,s,i)=>{this.isInitialized();const o=Uf(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===Mf.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,DQ(kQ({},c),{[o]:s}))}return await this.persist(),o}),ir(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),ir(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),ir(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=Uf(s);return typeof i[o]<"u"}),ir(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=Uf(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),ir(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Rn(e,this.name),this.core=n}get context(){return rr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,l0(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,l0(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?u0(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?u0(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var $Q=Object.defineProperty,LQ=Object.defineProperties,FQ=Object.getOwnPropertyDescriptors,$A=Object.getOwnPropertySymbols,UQ=Object.prototype.hasOwnProperty,MQ=Object.prototype.propertyIsEnumerable,S0=(t,e,n)=>e in t?$Q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lf=(t,e)=>{for(var n in e||(e={}))UQ.call(e,n)&&S0(t,n,e[n]);if($A)for(var n of $A(e))MQ.call(e,n)&&S0(t,n,e[n]);return t},py=(t,e)=>LQ(t,FQ(e)),jr=(t,e,n)=>S0(t,typeof e!="symbol"?e+"":e,n);class zQ extends f9{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,jr(this,"events",new ps.EventEmitter),jr(this,"name",PK),jr(this,"queue",new Map),jr(this,"publishTimeout",Q.toMiliseconds(Q.ONE_MINUTE)),jr(this,"initialPublishTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),jr(this,"needsTransportRestart",!1),jr(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||_A,c=Cp(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||Vo().toString(),h={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const g=new Promise(async p=>{const m=({id:b})=>{h.opts.id===b&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener(sn.publish,m),p(h))};this.relayer.events.on(sn.publish,m);const y=Ki(new Promise((b,w)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(b).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),w(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await y,this.events.removeListener(sn.publish,m)}catch(b){this.queue.set(d,py(lf({},h),{attempt:1})),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await Ki(g,this.publishTimeout,f)}catch(g){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(g),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw g}finally{this.queue.delete(d)}}),jr(this,"on",(r,s)=>{this.events.on(r,s)}),jr(this,"once",(r,s)=>{this.events.once(r,s)}),jr(this,"off",(r,s)=>{this.events.off(r,s)}),jr(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Rn(n,this.name),this.registerEventListeners()}get context(){return rr(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:c=_A,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,g={method:Ru(Cp().protocol).publish,params:lf({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};v0((n=g.params)==null?void 0:n.prompt)&&((r=g.params)==null||delete r.prompt),v0((s=g.params)==null?void 0:s.tag)&&((i=g.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:g});const p=await this.relayer.request(g);return this.relayer.events.emit(sn.publish,e),this.logger.debug("Successfully Published Payload"),p}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,py(lf({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(py(lf({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(kl.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(sn.connection_stalled);return}this.checkQueue()}),this.relayer.on(sn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var VQ=Object.defineProperty,jQ=(t,e,n)=>e in t?VQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ya=(t,e,n)=>jQ(t,typeof e!="symbol"?e+"":e,n);let HQ=class{constructor(){Ya(this,"map",new Map),Ya(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Ya(this,"get",e=>this.map.get(e)||[]),Ya(this,"exists",(e,n)=>this.get(e).includes(n)),Ya(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),Ya(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var qQ=Object.defineProperty,WQ=Object.defineProperties,GQ=Object.getOwnPropertyDescriptors,LA=Object.getOwnPropertySymbols,KQ=Object.prototype.hasOwnProperty,YQ=Object.prototype.propertyIsEnumerable,_0=(t,e,n)=>e in t?qQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hu=(t,e)=>{for(var n in e||(e={}))KQ.call(e,n)&&_0(t,n,e[n]);if(LA)for(var n of LA(e))YQ.call(e,n)&&_0(t,n,e[n]);return t},gy=(t,e)=>WQ(t,GQ(e)),rt=(t,e,n)=>_0(t,typeof e!="symbol"?e+"":e,n);let QQ=class extends m9{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,rt(this,"subscriptions",new Map),rt(this,"topicMap",new HQ),rt(this,"events",new ps.EventEmitter),rt(this,"name",BK),rt(this,"version",$K),rt(this,"pending",new Map),rt(this,"cached",[]),rt(this,"initialized",!1),rt(this,"storagePrefix",Fs),rt(this,"subscribeTimeout",Q.toMiliseconds(Q.ONE_MINUTE)),rt(this,"initialSubscribeTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),rt(this,"clientId"),rt(this,"batchSubscribeTopicsLimit",500),rt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),rt(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=Cp(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),rt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),rt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),rt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),rt(this,"on",(r,s)=>{this.events.on(r,s)}),rt(this,"once",(r,s)=>{this.events.once(r,s)}),rt(this,"off",(r,s)=>{this.events.off(r,s)}),rt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),rt(this,"start",async()=>{await this.onConnect()}),rt(this,"stop",async()=>{await this.onDisconnect()}),rt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),rt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),rt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(kl.pulse,async()=>{await this.checkPending()}),this.events.on(cr.created,async r=>{const s=cr.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(cr.deleted,async r=>{const s=cr.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Rn(n,this.name),this.clientId=""}get context(){return rr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=Cp(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=Nu("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===gt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:Ru(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===gt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},Q.toMiliseconds(Q.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(cr.created,d),u(h.id))};this.events.on(cr.created,d);try{const h=await Ki(new Promise((f,g)=>{this.relayer.request(i).catch(p=>{this.logger.warn(p,p==null?void 0:p.message),g(p)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(cr.created,d),u(h)}catch{}}),l=await Ki(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(sn.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Ru(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Ki(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(sn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Ru(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Ki(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(sn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:Ru(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,gy(hu({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,hu({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,hu({},n)),this.topicMap.set(n.topic,e),this.events.emit(cr.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(cr.deleted,gy(hu({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(cr.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(cr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=Qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>gy(hu({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await zq(Q.toMiliseconds(Q.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Uf(e+await this.getClientId())}};var ZQ=Object.defineProperty,FA=Object.getOwnPropertySymbols,JQ=Object.prototype.hasOwnProperty,XQ=Object.prototype.propertyIsEnumerable,P0=(t,e,n)=>e in t?ZQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UA=(t,e)=>{for(var n in e||(e={}))JQ.call(e,n)&&P0(t,n,e[n]);if(FA)for(var n of FA(e))XQ.call(e,n)&&P0(t,n,e[n]);return t},He=(t,e,n)=>P0(t,typeof e!="symbol"?e+"":e,n);let eZ=class extends p9{constructor(e){super(e),He(this,"protocol","wc"),He(this,"version",2),He(this,"core"),He(this,"logger"),He(this,"events",new ps.EventEmitter),He(this,"provider"),He(this,"messages"),He(this,"subscriber"),He(this,"publisher"),He(this,"name",OK),He(this,"transportExplicitlyClosed",!1),He(this,"initialized",!1),He(this,"connectionAttemptInProgress",!1),He(this,"relayUrl"),He(this,"projectId"),He(this,"packageName"),He(this,"bundleId"),He(this,"hasExperiencedNetworkDisruption",!1),He(this,"pingTimeout"),He(this,"heartBeatTimeout",Q.toMiliseconds(Q.THIRTY_SECONDS+Q.FIVE_SECONDS)),He(this,"reconnectTimeout"),He(this,"connectPromise"),He(this,"reconnectInProgress",!1),He(this,"requestsInFlight",[]),He(this,"connectTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),He(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||Vo().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),He(this,"resetPingTimeout",()=>{Ep()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),He(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),He(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(sn.connect)}),He(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),He(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(sn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),He(this,"registerProviderListeners",()=>{this.provider.on(xr.payload,this.onPayloadHandler),this.provider.on(xr.connect,this.onConnectHandler),this.provider.on(xr.disconnect,this.onDisconnectHandler),this.provider.on(xr.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Rn(e.logger,this.name):sh(Dl({level:e.logger||TK})),this.messages=new BQ(this.logger,e.core),this.subscriber=new QQ(this,this.logger),this.publisher=new zQ(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||uN,this.projectId=e.projectId,Oq()?this.packageName=qC():Rq()&&(this.bundleId=qC()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return rr(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:gt.relay},Mf.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(cr.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(cr.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,UA({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Ki(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await vA())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=zu(Q.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(sn.message,e),await this.recordMessageEvent(e,Mf.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(xr.disconnect,i),await Ki(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(xr.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(xr.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(xr.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Q.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(Ep())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Fr(new bK($q({sdkVersion:C0,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),$v(e)){if(!e.method.endsWith(RK))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:gt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(UA({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Ug(e)&&this.events.emit(sn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Mf.inbound),this.events.emit(sn.message,e))}async acknowledgePayload(e){const n=Lg(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(xr.payload,this.onPayloadHandler),this.provider.off(xr.connect,this.onConnectHandler),this.provider.off(xr.disconnect,this.onDisconnectHandler),this.provider.off(xr.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await vA();ZG(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(sn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Q.toMiliseconds(NK)))))}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}};function tZ(){}function MA(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function zA(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function VA(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const nZ="[object RegExp]",rZ="[object String]",sZ="[object Number]",iZ="[object Boolean]",jA="[object Arguments]",oZ="[object Symbol]",aZ="[object Date]",cZ="[object Map]",lZ="[object Set]",uZ="[object Array]",dZ="[object Function]",hZ="[object ArrayBuffer]",my="[object Object]",fZ="[object Error]",pZ="[object DataView]",gZ="[object Uint8Array]",mZ="[object Uint8ClampedArray]",yZ="[object Uint16Array]",bZ="[object Uint32Array]",wZ="[object BigUint64Array]",vZ="[object Int8Array]",EZ="[object Int16Array]",CZ="[object Int32Array]",AZ="[object BigInt64Array]",IZ="[object Float32Array]",xZ="[object Float64Array]";function SZ(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function _Z(t,e,n){return ku(t,e,void 0,void 0,void 0,void 0,n)}function ku(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return qu(t,e,i,o)}return qu(t,e,i,o)}function qu(t,e,n,r){if(Object.is(t,e))return!0;let s=VA(t),i=VA(e);if(s===jA&&(s=my),i===jA&&(i=my),s!==i)return!1;switch(s){case rZ:return t.toString()===e.toString();case sZ:{const c=t.valueOf(),l=e.valueOf();return SZ(c,l)}case iZ:case aZ:case oZ:return Object.is(t.valueOf(),e.valueOf());case nZ:return t.source===e.source&&t.flags===e.flags;case dZ:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case cZ:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!ku(l,e.get(c),c,t,e,n,r))return!1;return!0}case lZ:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>ku(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case uZ:case gZ:case mZ:case yZ:case bZ:case wZ:case vZ:case EZ:case CZ:case AZ:case IZ:case xZ:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!ku(t[c],e[c],c,t,e,n,r))return!1;return!0}case hZ:return t.byteLength!==e.byteLength?!1:qu(new Uint8Array(t),new Uint8Array(e),n,r);case pZ:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:qu(new Uint8Array(t),new Uint8Array(e),n,r);case fZ:return t.name===e.name&&t.message===e.message;case my:{if(!(qu(t.constructor,e.constructor,n,r)||MA(t)&&MA(e)))return!1;const c=[...Object.keys(t),...zA(t)],l=[...Object.keys(e),...zA(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!ku(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function PZ(t,e){return _Z(t,e,tZ)}var TZ=Object.defineProperty,HA=Object.getOwnPropertySymbols,OZ=Object.prototype.hasOwnProperty,RZ=Object.prototype.propertyIsEnumerable,T0=(t,e,n)=>e in t?TZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qA=(t,e)=>{for(var n in e||(e={}))OZ.call(e,n)&&T0(t,n,e[n]);if(HA)for(var n of HA(e))RZ.call(e,n)&&T0(t,n,e[n]);return t},Vn=(t,e,n)=>T0(t,typeof e!="symbol"?e+"":e,n);let La=class extends g9{constructor(e,n,r,s=Fs,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,Vn(this,"map",new Map),Vn(this,"version",kK),Vn(this,"cached",[]),Vn(this,"initialized",!1),Vn(this,"getKey"),Vn(this,"storagePrefix",Fs),Vn(this,"recentlyDeleted",[]),Vn(this,"recentlyDeletedLimit",200),Vn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!v0(o)?this.map.set(this.getKey(o),o):WG(o)?this.map.set(o.id,o):GG(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Vn(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Vn(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Vn(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>PZ(a[c],o[c]))):this.values)),Vn(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=qA(qA({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Vn(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Rn(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return rr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=Qe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=Qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var NZ=Object.defineProperty,kZ=(t,e,n)=>e in t?NZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fe=(t,e,n)=>kZ(t,typeof e!="symbol"?e+"":e,n);let DZ=class{constructor(e,n){this.core=e,this.logger=n,Fe(this,"name",LK),Fe(this,"version",FK),Fe(this,"events",new gw),Fe(this,"pairings"),Fe(this,"initialized",!1),Fe(this,"storagePrefix",Fs),Fe(this,"ignoredPayloadTypes",[Fl]),Fe(this,"registeredMethods",[]),Fe(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Fe(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Fe(this,"create",async r=>{this.isInitialized();const s=w0(),i=await this.core.crypto.setSymKey(s),o=zu(Q.FIVE_MINUTES),a={protocol:lN},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=wA({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(ko.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),Fe(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[As.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=bA(r.uri);s.props.properties.topic=i,s.addTrace(As.pairing_uri_validation_success),s.addTrace(As.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(As.existing_pairing),u.active)throw s.setError(ti.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(As.pairing_not_expired)}const d=c||zu(Q.FIVE_MINUTES),h={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,h),s.addTrace(As.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(ko.create,h),s.addTrace(As.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(As.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(ti.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(f){throw s.setError(ti.subscribe_pairing_topic_failure),f}return s.addTrace(As.subscribe_pairing_topic_success),h}),Fe(this,"activate",async({topic:r})=>{this.isInitialized();const s=zu(Q.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),Fe(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Lq();this.events.once(ty("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),Fe(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),Fe(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),Fe(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Fe(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Nu("USER_DISCONNECTED")),await this.deletePairing(s))}),Fe(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return wA({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),Fe(this,"sendRequest",async(r,s,i)=>{const o=Yi(s,i),a=await this.core.crypto.encode(r,o),c=uu[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Fe(this,"sendResult",async(r,s,i)=>{const o=Lg(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=uu[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),Fe(this,"sendError",async(r,s,i)=>{const o=Fg(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=uu[c]?uu[c].res:uu.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),Fe(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Nu("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),Fe(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>WC(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),Fe(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),Fe(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),Fe(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(ko.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Fe(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{xs(s)?this.events.emit(ty("pairing_ping",i),{}):Dr(s)&&this.events.emit(ty("pairing_ping",i),{error:s.error})},500)}),Fe(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(ko.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Fe(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Nu("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),Fe(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Nu("WC_METHOD_UNSUPPORTED",r))}),Fe(this,"isValidPair",(r,s)=>{var i;if(!hy(r)){const{message:a}=Qe("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(ti.malformed_pairing_uri),new Error(a)}if(!qG(r.uri)){const{message:a}=Qe("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(ti.malformed_pairing_uri),new Error(a)}const o=bA(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=Qe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(ti.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Qe("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(ti.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Q.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(ti.pairing_expired);const{message:a}=Qe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Fe(this,"isValidPing",async r=>{if(!hy(r)){const{message:i}=Qe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Fe(this,"isValidDisconnect",async r=>{if(!hy(r)){const{message:i}=Qe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Fe(this,"isValidPairingTopic",async r=>{if(!tN(r)){const{message:s}=Qe("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=Qe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(WC(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=Qe("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Rn(n,this.name),this.pairings=new La(this.core,this.logger,this.name,this.storagePrefix)}get context(){return rr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(sn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==gt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);$v(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):Ug(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Rr.expired,async e=>{const{topic:n}=Mq(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(ko.expire,{topic:n}))})}};var BZ=Object.defineProperty,$Z=(t,e,n)=>e in t?BZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gn=(t,e,n)=>$Z(t,typeof e!="symbol"?e+"":e,n);let LZ=class extends d9{constructor(e,n){super(e,n),this.core=e,this.logger=n,gn(this,"records",new Map),gn(this,"events",new ps.EventEmitter),gn(this,"name",UK),gn(this,"version",MK),gn(this,"cached",[]),gn(this,"initialized",!1),gn(this,"storagePrefix",Fs),gn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),gn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:zu(Q.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(zr.created,o)}),gn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Dr(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(zr.updated,s))}),gn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),gn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(zr.deleted,i)}}),this.persist()}),gn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),gn(this,"on",(r,s)=>{this.events.on(r,s)}),gn(this,"once",(r,s)=>{this.events.once(r,s)}),gn(this,"off",(r,s)=>{this.events.off(r,s)}),gn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Rn(n,this.name)}get context(){return rr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Yi(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(zr.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(zr.created,e=>{const n=zr.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(zr.updated,e=>{const n=zr.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(zr.deleted,e=>{const n=zr.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(kl.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Q.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(zr.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var FZ=Object.defineProperty,UZ=(t,e,n)=>e in t?FZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sn=(t,e,n)=>UZ(t,typeof e!="symbol"?e+"":e,n);let MZ=class extends y9{constructor(e,n){super(e,n),this.core=e,this.logger=n,Sn(this,"expirations",new Map),Sn(this,"events",new ps.EventEmitter),Sn(this,"name",zK),Sn(this,"version",VK),Sn(this,"cached",[]),Sn(this,"initialized",!1),Sn(this,"storagePrefix",Fs),Sn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Sn(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Sn(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Rr.created,{target:i,expiration:o})}),Sn(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Sn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Rr.deleted,{target:s,expiration:i})}}),Sn(this,"on",(r,s)=>{this.events.on(r,s)}),Sn(this,"once",(r,s)=>{this.events.once(r,s)}),Sn(this,"off",(r,s)=>{this.events.off(r,s)}),Sn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Rn(n,this.name)}get context(){return rr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Fq(e);if(typeof e=="number")return Uq(e);const{message:n}=Qe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Rr.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Q.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Rr.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(kl.pulse,()=>this.checkExpirations()),this.events.on(Rr.created,e=>{const n=Rr.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Rr.expired,e=>{const n=Rr.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Rr.deleted,e=>{const n=Rr.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var zZ=Object.defineProperty,VZ=(t,e,n)=>e in t?zZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ut=(t,e,n)=>VZ(t,typeof e!="symbol"?e+"":e,n);let jZ=class extends b9{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Ut(this,"name",jK),Ut(this,"abortController"),Ut(this,"isDevEnv"),Ut(this,"verifyUrlV3",qK),Ut(this,"storagePrefix",Fs),Ut(this,"version",cN),Ut(this,"publicKey"),Ut(this,"fetchPromise"),Ut(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Q.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Ut(this,"register",async s=>{if(!Tg()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=ls.getDocument(),u=this.startAbortTimer(Q.ONE_SECOND*5),d=await new Promise((h,f)=>{const g=()=>{window.removeEventListener("message",m),l.body.removeChild(p),f("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const p=l.createElement("iframe");p.src=c,p.style.display="none",p.addEventListener("error",g,{signal:this.abortController.signal});const m=y=>{if(y.data&&typeof y.data=="string")try{const b=JSON.parse(y.data);if(b.type==="verify_attestation"){if(c0(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(p),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",m),h(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(p),window.addEventListener("message",m,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),Ut(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(c0(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),Ut(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(Q.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Ut(this,"getVerifyUrl",s=>{let i=s||Hu;return WK.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Hu}`),i=Hu),i}),Ut(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(Q.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Ut(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Ut(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Ut(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Ut(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Ut(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Ut(this,"validateAttestation",(s,i)=>{const o=FG(s,i.publicKey),a={hasExpired:Q.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Rn(n,this.name),this.abortController=new AbortController,this.isDevEnv=IR(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return rr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Q.toMiliseconds(e))}};var HZ=Object.defineProperty,qZ=(t,e,n)=>e in t?HZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WA=(t,e,n)=>qZ(t,typeof e!="symbol"?e+"":e,n);let WZ=class extends w9{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,WA(this,"context",GK),WA(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${KK}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=Rn(n,this.context)}};var GZ=Object.defineProperty,GA=Object.getOwnPropertySymbols,KZ=Object.prototype.hasOwnProperty,YZ=Object.prototype.propertyIsEnumerable,O0=(t,e,n)=>e in t?GZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fu=(t,e)=>{for(var n in e||(e={}))KZ.call(e,n)&&O0(t,n,e[n]);if(GA)for(var n of GA(e))YZ.call(e,n)&&O0(t,n,e[n]);return t},Yt=(t,e,n)=>O0(t,typeof e!="symbol"?e+"":e,n);class QZ extends v9{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Yt(this,"context",QK),Yt(this,"storagePrefix",Fs),Yt(this,"storageVersion",YK),Yt(this,"events",new Map),Yt(this,"shouldPersist",!1),Yt(this,"init",async()=>{if(!IR())try{const s={eventId:GC(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:CR(this.core.relayer.protocol,this.core.relayer.version,C0)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Yt(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=GC(),u=this.core.projectId||"",d=Date.now(),h=fu({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Yt(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return fu(fu({},a),this.setMethods(a.eventId))}),Yt(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),Yt(this,"setEventListeners",()=>{this.core.heartbeat.on(kl.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{Q.fromMiliseconds(Date.now())-Q.fromMiliseconds(s.timestamp)>ZK&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Yt(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),Yt(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),Yt(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),Yt(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Yt(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,fu(fu({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),Yt(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),Yt(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${JK}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${C0}${i}`,{method:"POST",body:JSON.stringify(s)})}),Yt(this,"getAppDomain",()=>kq().url),this.logger=Rn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var ZZ=Object.defineProperty,KA=Object.getOwnPropertySymbols,JZ=Object.prototype.hasOwnProperty,XZ=Object.prototype.propertyIsEnumerable,R0=(t,e,n)=>e in t?ZZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YA=(t,e)=>{for(var n in e||(e={}))JZ.call(e,n)&&R0(t,n,e[n]);if(KA)for(var n of KA(e))XZ.call(e,n)&&R0(t,n,e[n]);return t},lt=(t,e,n)=>R0(t,typeof e!="symbol"?e+"":e,n);let eJ=class CN extends a9{constructor(e){var n;super(e),lt(this,"protocol",aN),lt(this,"version",cN),lt(this,"name",E0),lt(this,"relayUrl"),lt(this,"projectId"),lt(this,"customStoragePrefix"),lt(this,"events",new ps.EventEmitter),lt(this,"logger"),lt(this,"heartbeat"),lt(this,"relayer"),lt(this,"crypto"),lt(this,"storage"),lt(this,"history"),lt(this,"expirer"),lt(this,"pairing"),lt(this,"verify"),lt(this,"echoClient"),lt(this,"linkModeSupportedApps"),lt(this,"eventClient"),lt(this,"initialized",!1),lt(this,"logChunkController"),lt(this,"on",(a,c)=>this.events.on(a,c)),lt(this,"once",(a,c)=>this.events.once(a,c)),lt(this,"off",(a,c)=>this.events.off(a,c)),lt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),lt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:gt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||uN,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=Dl({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:vK.logger,name:E0}),{logger:i,chunkLoggerController:o}=Ev({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Rn(i,this.name),this.heartbeat=new cV,this.crypto=new _Q(this,this.logger,e==null?void 0:e.keychain),this.history=new LZ(this,this.logger),this.expirer=new MZ(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new HV(YA(YA({},EK),e==null?void 0:e.storageOptions)),this.relayer=new eZ({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new DZ(this,this.logger),this.verify=new jZ(this,this.logger,this.storage),this.echoClient=new WZ(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new QZ(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new CN(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(DK,r),n}get context(){return rr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(PA,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(PA)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&wK.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const tJ=eJ;function Bd(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function QA(t){return Bd(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const AN="2.23.2";let pu={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${AN}`};class ya extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof ya?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof ya&&n.cause.docsPath||n.docsPath,i=(a=pu.getDocsUrl)==null?void 0:a.call(pu,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...pu.version?[`Version: ${pu.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=AN}walk(e){return IN(this,e)}}function IN(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?IN(t.cause,e):e?null:t}class xN extends ya{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Ul(t,{dir:e,size:n=32}={}){return typeof t=="string"?nJ(t,{dir:e,size:n}):rJ(t,{dir:e,size:n})}function nJ(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new xN({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function rJ(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new xN({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class sJ extends ya{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class iJ extends ya{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Ml(t,{size:e}){if(QA(t)>e)throw new iJ({givenSize:QA(t),maxSize:e})}function N0(t,e={}){const{signed:n}=e;e.size&&Ml(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function oJ(t,e={}){return Number(N0(t,e))}const aJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function k0(t,e={}){return typeof t=="number"||typeof t=="bigint"?_N(t,e):typeof t=="string"?uJ(t,e):typeof t=="boolean"?cJ(t,e):SN(t,e)}function cJ(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ml(n,{size:e.size}),Ul(n,{size:e.size})):n}function SN(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=aJ[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ml(r,{size:e.size}),Ul(r,{dir:"right",size:e.size})):r}function _N(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new sJ({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ul(a,{size:r}):a}const lJ=new TextEncoder;function uJ(t,e={}){const n=lJ.encode(t);return SN(n,e)}const dJ=new TextEncoder;function hJ(t,e={}){return typeof t=="number"||typeof t=="bigint"?pJ(t,e):typeof t=="boolean"?fJ(t,e):Bd(t)?PN(t,e):TN(t,e)}function fJ(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ml(n,{size:e.size}),Ul(n,{size:e.size})):n}const Qs={zero:48,nine:57,A:65,F:70,a:97,f:102};function ZA(t){if(t>=Qs.zero&&t<=Qs.nine)return t-Qs.zero;if(t>=Qs.A&&t<=Qs.F)return t-(Qs.A-10);if(t>=Qs.a&&t<=Qs.f)return t-(Qs.a-10)}function PN(t,e={}){let n=t;e.size&&(Ml(n,{size:e.size}),n=Ul(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=ZA(r.charCodeAt(a++)),l=ZA(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new ya(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function pJ(t,e){const n=_N(t,e);return PN(n)}function TN(t,e={}){const n=dJ.encode(t);return typeof e.size=="number"?(Ml(n,{size:e.size}),Ul(n,{dir:"right",size:e.size})):n}function Ap(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function gJ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zg(t,...e){if(!gJ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function kye(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ap(t.outputLen),Ap(t.blockLen)}function JA(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mJ(t,e){zg(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const uf=BigInt(2**32-1),XA=BigInt(32);function yJ(t,e=!1){return e?{h:Number(t&uf),l:Number(t>>XA&uf)}:{h:Number(t>>XA&uf)|0,l:Number(t&uf)|0}}function bJ(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=yJ(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const wJ=(t,e,n)=>t<<n|e>>>32-n,vJ=(t,e,n)=>e<<n|t>>>32-n,EJ=(t,e,n)=>e<<n-32|t>>>64-n,CJ=(t,e,n)=>t<<n-32|e>>>64-n,Qa=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function AJ(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Dye(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Bye(t,e){return t<<32-e|t>>>e}const eI=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function IJ(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function tI(t){for(let e=0;e<t.length;e++)t[e]=IJ(t[e])}function xJ(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ON(t){return typeof t=="string"&&(t=xJ(t)),zg(t),t}function $ye(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];zg(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class SJ{clone(){return this._cloneInto()}}function _J(t){const e=r=>t().update(ON(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Lye(t=32){if(Qa&&typeof Qa.getRandomValues=="function")return Qa.getRandomValues(new Uint8Array(t));if(Qa&&typeof Qa.randomBytes=="function")return Qa.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const RN=[],NN=[],kN=[],PJ=BigInt(0),gu=BigInt(1),TJ=BigInt(2),OJ=BigInt(7),RJ=BigInt(256),NJ=BigInt(113);for(let t=0,e=gu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],RN.push(2*(5*r+n)),NN.push((t+1)*(t+2)/2%64);let s=PJ;for(let i=0;i<7;i++)e=(e<<gu^(e>>OJ)*NJ)%RJ,e&TJ&&(s^=gu<<(gu<<BigInt(i))-gu);kN.push(s)}const[kJ,DJ]=bJ(kN,!0),nI=(t,e,n)=>n>32?EJ(t,e,n):wJ(t,e,n),rI=(t,e,n)=>n>32?CJ(t,e,n):vJ(t,e,n);function BJ(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=nI(l,u,1)^n[a],h=rI(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=NN[o],c=nI(s,i,a),l=rI(s,i,a),u=RN[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=kJ[r],t[1]^=DJ[r]}n.fill(0)}class Lv extends SJ{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ap(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=AJ(this.state)}keccak(){eI||tI(this.state32),BJ(this.state32,this.rounds),eI||tI(this.state32),this.posOut=0,this.pos=0}update(e){JA(this);const{blockLen:n,state:r}=this;e=ON(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){JA(this,!1),zg(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ap(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(mJ(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Lv(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const $J=(t,e,n)=>_J(()=>new Lv(e,t,n)),LJ=$J(1,136,256/8);function DN(t,e){const n=e||"hex",r=LJ(Bd(t,{strict:!1})?hJ(t):t);return n==="bytes"?r:k0(r)}class FJ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const yy=new FJ(8192);function UJ(t,e){if(yy.has(`${t}.${e}`))return yy.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=DN(TN(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return yy.set(`${t}.${e}`,i),i}function MJ(t){const e=DN(`0x${t.substring(4)}`).substring(26);return UJ(`0x${e}`)}async function zJ({hash:t,signature:e}){const n=Bd(t)?t:k0(t),{secp256k1:r}=await Kn(async()=>{const{secp256k1:o}=await import("./secp256k1-XAX_s5et.js");return{secp256k1:o}},__vite__mapDeps([10,2,4,1,3,5,6,7,8,9]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),g=sI(f);return new r.Signature(N0(l),N0(u)).addRecoveryBit(g)}const o=Bd(e)?e:k0(e),a=oJ(`0x${o.slice(130)}`),c=sI(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function sI(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function VJ({hash:t,signature:e}){return MJ(await zJ({hash:t,signature:e}))}var jJ={};const HJ=":";function $c(t){const[e,n]=t.split(HJ);return{namespace:e,reference:n}}function BN(t,e){return t.includes(":")?[t]:e.chains||[]}var qJ=Object.defineProperty,WJ=Object.defineProperties,GJ=Object.getOwnPropertyDescriptors,iI=Object.getOwnPropertySymbols,KJ=Object.prototype.hasOwnProperty,YJ=Object.prototype.propertyIsEnumerable,oI=(t,e,n)=>e in t?qJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aI=(t,e)=>{for(var n in e||(e={}))KJ.call(e,n)&&oI(t,n,e[n]);if(iI)for(var n of iI(e))YJ.call(e,n)&&oI(t,n,e[n]);return t},QJ=(t,e)=>WJ(t,GJ(e));const ZJ="ReactNative",Pc={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function $N(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function LN(){return!ls.getDocument()&&!!ls.getNavigator()&&navigator.product===ZJ}function FN(){return!$N()&&!!ls.getNavigator()&&!!ls.getDocument()}function JJ(){return LN()?Pc.reactNative:$N()?Pc.node:FN()?Pc.browser:Pc.unknown}function XJ(t){var e,n;const r=eX();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),QJ(aI(aI({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function eX(){return mR.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function jo(t,e){return t.filter(n=>e.includes(n)).length===t.length}function Za(t=Q.FIVE_MINUTES,e){const n=Q.toMiliseconds(t||Q.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function tX(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function jn(t,e){return Q.fromMiliseconds(Date.now()+Q.toMiliseconds(t))}function Ja(t){return Date.now()>=Q.toMiliseconds(t)}function st(t,e){return`${t}${e?`:${e}`:""}`}function zf(t=[],e=[]){return[...new Set([...t,...e])]}async function nX({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=rX(i,t,e),a=JJ();if(a===Pc.browser){if(!((r=ls.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}sX(o)}else a===Pc.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function rX(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${lX(r,!0)}`}else s=`${s}/wc?${r}`;return s}function sX(t){let e="_self";cX()?e="_top":(aX()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function iX(t,e){let n="";try{if(FN()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function cI(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function oX(){return typeof process<"u"&&jJ.IS_VITEST==="true"}function aX(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function cX(){try{return window.self!==window.top}catch{return!1}}function lX(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function Ip(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function uX(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function kh(t,...e){if(!uX(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function dX(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ip(t.outputLen),Ip(t.blockLen)}function hl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UN(t,e){kh(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const df=BigInt(2**32-1),lI=BigInt(32);function hX(t,e=!1){return e?{h:Number(t&df),l:Number(t>>lI&df)}:{h:Number(t>>lI&df)|0,l:Number(t&df)|0}}function fX(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=hX(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const pX=(t,e,n)=>t<<n|e>>>32-n,gX=(t,e,n)=>e<<n|t>>>32-n,mX=(t,e,n)=>e<<n-32|t>>>64-n,yX=(t,e,n)=>t<<n-32|e>>>64-n,Xa=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function bX(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function by(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Es(t,e){return t<<32-e|t>>>e}const uI=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function wX(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function dI(t){for(let e=0;e<t.length;e++)t[e]=wX(t[e])}function vX(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Vg(t){return typeof t=="string"&&(t=vX(t)),kh(t),t}function EX(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];kh(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let Fv=class{clone(){return this._cloneInto()}};function MN(t){const e=r=>t().update(Vg(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function zN(t=32){if(Xa&&typeof Xa.getRandomValues=="function")return Xa.getRandomValues(new Uint8Array(t));if(Xa&&typeof Xa.randomBytes=="function")return Xa.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const VN=[],jN=[],HN=[],CX=BigInt(0),mu=BigInt(1),AX=BigInt(2),IX=BigInt(7),xX=BigInt(256),SX=BigInt(113);for(let t=0,e=mu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],VN.push(2*(5*r+n)),jN.push((t+1)*(t+2)/2%64);let s=CX;for(let i=0;i<7;i++)e=(e<<mu^(e>>IX)*SX)%xX,e&AX&&(s^=mu<<(mu<<BigInt(i))-mu);HN.push(s)}const[_X,PX]=fX(HN,!0),hI=(t,e,n)=>n>32?mX(t,e,n):pX(t,e,n),fI=(t,e,n)=>n>32?yX(t,e,n):gX(t,e,n);function TX(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=hI(l,u,1)^n[a],h=fI(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=jN[o],c=hI(s,i,a),l=fI(s,i,a),u=VN[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=_X[r],t[1]^=PX[r]}n.fill(0)}class Uv extends Fv{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ip(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=bX(this.state)}keccak(){uI||dI(this.state32),TX(this.state32,this.rounds),uI||dI(this.state32),this.posOut=0,this.pos=0}update(e){hl(this);const{blockLen:n,state:r}=this;e=Vg(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){hl(this,!1),kh(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ip(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(UN(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Uv(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const OX=(t,e,n)=>MN(()=>new Uv(e,t,n)),RX=OX(1,136,256/8),NX="https://rpc.walletconnect.org/v1";function qN(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(RX(n)).toString("hex")}async function kX(t,e,n,r,s,i){switch(n.t){case"eip191":return await DX(t,e,n.s);case"eip1271":return await BX(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function DX(t,e,n){return(await VJ({hash:qN(e),signature:n})).toLowerCase()===t.toLowerCase()}async function BX(t,e,n,r,s,i){const o=$c(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=n.substring(2),d=qN(e).substring(2),h=a+d+c+l+u,f=await fetch(`${i||NX}/?chainId=${r}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:$X(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:g}=await f.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function $X(){return Date.now()+Math.floor(Math.random()*1e3)}function LX(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return t2.encode(i)}var FX=Object.defineProperty,UX=Object.defineProperties,MX=Object.getOwnPropertyDescriptors,pI=Object.getOwnPropertySymbols,zX=Object.prototype.hasOwnProperty,VX=Object.prototype.propertyIsEnumerable,gI=(t,e,n)=>e in t?FX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jX=(t,e)=>{for(var n in e||(e={}))zX.call(e,n)&&gI(t,n,e[n]);if(pI)for(var n of pI(e))VX.call(e,n)&&gI(t,n,e[n]);return t},HX=(t,e)=>UX(t,MX(e));const qX="did:pkh:",Mv=t=>t==null?void 0:t.split(":"),WX=t=>{const e=t&&Mv(t);if(e)return t.includes(qX)?e[3]:e[1]},D0=t=>{const e=t&&Mv(t);if(e)return e[2]+":"+e[3]},xp=t=>{const e=t&&Mv(t);if(e)return e.pop()};async function mI(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=WN(s,s.iss),o=xp(s.iss);return await kX(o,i,r,D0(s.iss),n)}const WN=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=xp(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${WX(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(p=>`
- ${p}`).join("")}`:void 0,g=Vf(t.resources);if(g){const p=$d(g);s=tee(s,p)}return[n,r,"",s,"",i,o,a,c,l,u,d,h,f].filter(p=>p!=null).join(`
`)};function GX(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function KX(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function ba(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function YX(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:QX(e,n,r)}}}function QX(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function GN(t){return ba(t),`urn:recap:${GX(t).replace(/=/g,"")}`}function $d(t){const e=KX(t.replace("urn:recap:",""));return ba(e),e}function ZX(t,e,n){const r=YX(t,e,n);return GN(r)}function JX(t){return t&&t.includes("urn:recap:")}function XX(t,e){const n=$d(t),r=$d(e),s=eee(n,r);return GN(s)}function eee(t,e){ba(t),ba(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=HX(jX({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function tee(t="",e){ba(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function yI(t){var e;const n=$d(t);ba(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function bI(t){const e=$d(t);ba(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function Vf(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return JX(e)?e:void 0}function wy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function KN(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fr(t,...e){if(!KN(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function wI(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function nee(t,e){fr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function vI(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const to=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ree=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),see=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!see)throw new Error("Non little-endian hardware is not supported");function iee(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function B0(t){if(typeof t=="string")t=iee(t);else if(KN(t))t=$0(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function oee(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function aee(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const cee=(t,e)=>{function n(r,...s){if(fr(r),t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?fr(l):fr(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&fr(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");fr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,fr(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(fr(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function EI(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!lee(e))throw new Error("invalid output, must be aligned");return e}function CI(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function lee(t){return t.byteOffset%4===0}function $0(t){return Uint8Array.from(t)}function fl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const YN=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),uee=YN("expand 16-byte k"),dee=YN("expand 32-byte k"),hee=to(uee),fee=to(dee);function qe(t,e){return t<<e|t>>>32-e}function L0(t){return t.byteOffset%4===0}const hf=64,pee=16,QN=2**32-1,AI=new Uint32Array;function gee(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(hf),u=to(l),d=L0(s)&&L0(i),h=d?to(s):AI,f=d?to(i):AI;for(let g=0;g<c;o++){if(t(e,n,r,u,o,a),o>=QN)throw new Error("arx: counter overflow");const p=Math.min(hf,c-g);if(d&&p===hf){const m=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let y=0,b;y<pee;y++)b=m+y,f[b]=h[b]^u[y];g+=hf;continue}for(let m=0,y;m<p;m++)y=g+m,i[y]=s[y]^l[m];g+=p}}function mee(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=oee({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return wy(s),wy(o),vI(i),vI(n),(a,c,l,u,d=0)=>{fr(a),fr(c),fr(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),fr(u),wy(d),d<0||d>=QN)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let g=a.length,p,m;if(g===32)f.push(p=$0(a)),m=fee;else if(g===16&&n)p=new Uint8Array(32),p.set(a),p.set(a,16),m=hee,f.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);L0(c)||f.push(c=$0(c));const y=to(p);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,y,to(c.subarray(0,16)),y),c=c.subarray(16)}const b=16-s;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,i?0:12-c.length),c=E,f.push(c)}const w=to(c);return gee(t,m,y,w,l,u,d,o),fl(...f),u}}const mn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class yee{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=B0(e),fr(e,32);const n=mn(e,0),r=mn(e,2),s=mn(e,4),i=mn(e,6),o=mn(e,8),a=mn(e,10),c=mn(e,12),l=mn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=mn(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],g=o[7],p=o[8],m=o[9],y=mn(e,n+0),b=mn(e,n+2),w=mn(e,n+4),E=mn(e,n+6),C=mn(e,n+8),I=mn(e,n+10),A=mn(e,n+12),x=mn(e,n+14);let v=i[0]+(y&8191),R=i[1]+((y>>>13|b<<3)&8191),N=i[2]+((b>>>10|w<<6)&8191),B=i[3]+((w>>>7|E<<9)&8191),F=i[4]+((E>>>4|C<<12)&8191),_=i[5]+(C>>>1&8191),T=i[6]+((C>>>14|I<<2)&8191),S=i[7]+((I>>>11|A<<5)&8191),D=i[8]+((A>>>8|x<<8)&8191),k=i[9]+(x>>>5|s),O=0,L=O+v*a+R*(5*m)+N*(5*p)+B*(5*g)+F*(5*f);O=L>>>13,L&=8191,L+=_*(5*h)+T*(5*d)+S*(5*u)+D*(5*l)+k*(5*c),O+=L>>>13,L&=8191;let U=O+v*c+R*a+N*(5*m)+B*(5*p)+F*(5*g);O=U>>>13,U&=8191,U+=_*(5*f)+T*(5*h)+S*(5*d)+D*(5*u)+k*(5*l),O+=U>>>13,U&=8191;let V=O+v*l+R*c+N*a+B*(5*m)+F*(5*p);O=V>>>13,V&=8191,V+=_*(5*g)+T*(5*f)+S*(5*h)+D*(5*d)+k*(5*u),O+=V>>>13,V&=8191;let G=O+v*u+R*l+N*c+B*a+F*(5*m);O=G>>>13,G&=8191,G+=_*(5*p)+T*(5*g)+S*(5*f)+D*(5*h)+k*(5*d),O+=G>>>13,G&=8191;let q=O+v*d+R*u+N*l+B*c+F*a;O=q>>>13,q&=8191,q+=_*(5*m)+T*(5*p)+S*(5*g)+D*(5*f)+k*(5*h),O+=q>>>13,q&=8191;let ee=O+v*h+R*d+N*u+B*l+F*c;O=ee>>>13,ee&=8191,ee+=_*a+T*(5*m)+S*(5*p)+D*(5*g)+k*(5*f),O+=ee>>>13,ee&=8191;let ce=O+v*f+R*h+N*d+B*u+F*l;O=ce>>>13,ce&=8191,ce+=_*c+T*a+S*(5*m)+D*(5*p)+k*(5*g),O+=ce>>>13,ce&=8191;let _e=O+v*g+R*f+N*h+B*d+F*u;O=_e>>>13,_e&=8191,_e+=_*l+T*c+S*a+D*(5*m)+k*(5*p),O+=_e>>>13,_e&=8191;let j=O+v*p+R*g+N*f+B*h+F*d;O=j>>>13,j&=8191,j+=_*u+T*l+S*c+D*a+k*(5*m),O+=j>>>13,j&=8191;let M=O+v*m+R*p+N*g+B*f+F*h;O=M>>>13,M&=8191,M+=_*d+T*u+S*l+D*c+k*a,O+=M>>>13,M&=8191,O=(O<<2)+O|0,O=O+L|0,L=O&8191,O=O>>>13,U+=O,i[0]=L,i[1]=U,i[2]=V,i[3]=G,i[4]=q,i[5]=ee,i[6]=ce,i[7]=_e,i[8]=j,i[9]=M}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;fl(r)}update(e){wI(this);const{buffer:n,blockLen:r}=this;e=B0(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){fl(this.h,this.r,this.buffer,this.pad)}digestInto(e){wI(this),nee(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function bee(t){const e=(r,s)=>t(s).update(B0(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const wee=bee(t=>new yee(t));function vee(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],g=e[4],p=e[5],m=e[6],y=e[7],b=s,w=n[0],E=n[1],C=n[2],I=o,A=a,x=c,v=l,R=u,N=d,B=h,F=f,_=g,T=p,S=m,D=y,k=b,O=w,L=E,U=C;for(let G=0;G<i;G+=2)I=I+R|0,k=qe(k^I,16),_=_+k|0,R=qe(R^_,12),I=I+R|0,k=qe(k^I,8),_=_+k|0,R=qe(R^_,7),A=A+N|0,O=qe(O^A,16),T=T+O|0,N=qe(N^T,12),A=A+N|0,O=qe(O^A,8),T=T+O|0,N=qe(N^T,7),x=x+B|0,L=qe(L^x,16),S=S+L|0,B=qe(B^S,12),x=x+B|0,L=qe(L^x,8),S=S+L|0,B=qe(B^S,7),v=v+F|0,U=qe(U^v,16),D=D+U|0,F=qe(F^D,12),v=v+F|0,U=qe(U^v,8),D=D+U|0,F=qe(F^D,7),I=I+N|0,U=qe(U^I,16),S=S+U|0,N=qe(N^S,12),I=I+N|0,U=qe(U^I,8),S=S+U|0,N=qe(N^S,7),A=A+B|0,k=qe(k^A,16),D=D+k|0,B=qe(B^D,12),A=A+B|0,k=qe(k^A,8),D=D+k|0,B=qe(B^D,7),x=x+F|0,O=qe(O^x,16),_=_+O|0,F=qe(F^_,12),x=x+F|0,O=qe(O^x,8),_=_+O|0,F=qe(F^_,7),v=v+R|0,L=qe(L^v,16),T=T+L|0,R=qe(R^T,12),v=v+R|0,L=qe(L^v,8),T=T+L|0,R=qe(R^T,7);let V=0;r[V++]=o+I|0,r[V++]=a+A|0,r[V++]=c+x|0,r[V++]=l+v|0,r[V++]=u+R|0,r[V++]=d+N|0,r[V++]=h+B|0,r[V++]=f+F|0,r[V++]=g+_|0,r[V++]=p+T|0,r[V++]=m+S|0,r[V++]=y+D|0,r[V++]=b+k|0,r[V++]=w+O|0,r[V++]=E+L|0,r[V++]=C+U|0}const Eee=mee(vee,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Cee=new Uint8Array(16),II=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Cee.subarray(n))},Aee=new Uint8Array(32);function xI(t,e,n,r,s){const i=t(e,n,Aee),o=wee.create(i);s&&II(o,s),II(o,r);const a=new Uint8Array(16),c=ree(a);CI(c,0,BigInt(s?s.length:0),!0),CI(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return fl(i,a),l}const Iee=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=EI(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=xI(t,e,n,a,r);return i.set(c,o),fl(c),i},decrypt(s,i){i=EI(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=xI(t,e,n,o,r);if(!aee(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),fl(c),i}});cee({blockSize:64,nonceLength:12,tagLength:16},Iee(Eee));class ZN extends Fv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,dX(e);const r=Vg(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return hl(this),this.iHash.update(e),this}digestInto(e){hl(this),kh(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const JN=(t,e,n)=>new ZN(t,e).update(n).digest();JN.create=(t,e)=>new ZN(t,e);function xee(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function See(t,e,n){return t&e^~t&n}function _ee(t,e,n){return t&e^t&n^e&n}let Pee=class extends Fv{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=by(this.buffer)}update(e){hl(this);const{view:n,buffer:r,blockLen:s}=this;e=Vg(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=by(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hl(this),UN(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;xee(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=by(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const Tee=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$i=new Uint32Array(64);class Oee extends Pee{constructor(){super(64,32,8,!1),this.A=Bi[0]|0,this.B=Bi[1]|0,this.C=Bi[2]|0,this.D=Bi[3]|0,this.E=Bi[4]|0,this.F=Bi[5]|0,this.G=Bi[6]|0,this.H=Bi[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)$i[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=$i[d-15],f=$i[d-2],g=Es(h,7)^Es(h,18)^h>>>3,p=Es(f,17)^Es(f,19)^f>>>10;$i[d]=p+$i[d-7]+g+$i[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Es(a,6)^Es(a,11)^Es(a,25),f=u+h+See(a,c,l)+Tee[d]+$i[d]|0,g=(Es(r,2)^Es(r,13)^Es(r,22))+_ee(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){$i.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const zv=MN(()=>new Oee);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jg=BigInt(0),Hg=BigInt(1),Ree=BigInt(2);function wa(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Dh(t){if(!wa(t))throw new Error("Uint8Array expected")}function pl(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Nee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function gl(t){Dh(t);let e="";for(let n=0;n<t.length;n++)e+=Nee[t[n]];return e}function Tc(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Vv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?jg:BigInt("0x"+t)}const Zs={_0:48,_9:57,A:65,F:70,a:97,f:102};function SI(t){if(t>=Zs._0&&t<=Zs._9)return t-Zs._0;if(t>=Zs.A&&t<=Zs.F)return t-(Zs.A-10);if(t>=Zs.a&&t<=Zs.f)return t-(Zs.a-10)}function ml(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=SI(t.charCodeAt(i)),a=SI(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function na(t){return Vv(gl(t))}function Ld(t){return Dh(t),Vv(gl(Uint8Array.from(t).reverse()))}function yl(t,e){return ml(t.toString(16).padStart(e*2,"0"))}function qg(t,e){return yl(t,e).reverse()}function kee(t){return ml(Tc(t))}function dr(t,e,n){let r;if(typeof e=="string")try{r=ml(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(wa(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function Fd(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Dh(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}function Dee(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Bee(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const vy=t=>typeof t=="bigint"&&jg<=t;function Wg(t,e,n){return vy(t)&&vy(e)&&vy(n)&&e<=t&&t<n}function hi(t,e,n,r){if(!Wg(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function XN(t){let e;for(e=0;t>jg;t>>=Hg,e+=1);return e}function $ee(t,e){return t>>BigInt(e)&Hg}function Lee(t,e,n){return t|(n?Hg:jg)<<BigInt(e)}const jv=t=>(Ree<<BigInt(t-1))-Hg,Ey=t=>new Uint8Array(t),_I=t=>Uint8Array.from(t);function ek(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ey(t),s=Ey(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...u)=>n(s,r,...u),c=(u=Ey())=>{s=a(_I([0]),u),r=a(),u.length!==0&&(s=a(_I([1]),u),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){r=a();const h=r.slice();d.push(h),u+=r.length}return Fd(...d)};return(u,d)=>{o(),c(u);let h;for(;!(h=d(l()));)c();return o(),h}}const Fee={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||wa(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function zl(t,e,n={}){const r=(s,i,o)=>{const a=Fee[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const Uee=()=>{throw new Error("not implemented")};function F0(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}var Mee=Object.freeze({__proto__:null,isBytes:wa,abytes:Dh,abool:pl,bytesToHex:gl,numberToHexUnpadded:Tc,hexToNumber:Vv,hexToBytes:ml,bytesToNumberBE:na,bytesToNumberLE:Ld,numberToBytesBE:yl,numberToBytesLE:qg,numberToVarBytesBE:kee,ensureBytes:dr,concatBytes:Fd,equalBytes:Dee,utf8ToBytes:Bee,inRange:Wg,aInRange:hi,bitLen:XN,bitGet:$ee,bitSet:Lee,bitMask:jv,createHmacDrbg:ek,validateObject:zl,notImplemented:Uee,memoized:F0});const un=BigInt(0),Dt=BigInt(1),Do=BigInt(2),zee=BigInt(3),U0=BigInt(4),PI=BigInt(5),TI=BigInt(8);function Zn(t,e){const n=t%e;return n>=un?n:e+n}function tk(t,e,n){if(e<un)throw new Error("invalid exponent, negatives unsupported");if(n<=un)throw new Error("invalid modulus");if(n===Dt)return un;let r=Dt;for(;e>un;)e&Dt&&(r=r*t%n),t=t*t%n,e>>=Dt;return r}function Gr(t,e,n){let r=t;for(;e-- >un;)r*=r,r%=n;return r}function M0(t,e){if(t===un)throw new Error("invert: expected non-zero number");if(e<=un)throw new Error("invert: expected positive modulus, got "+e);let n=Zn(t,e),r=e,s=un,i=Dt;for(;n!==un;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Dt)throw new Error("invert: does not exist");return Zn(s,e)}function Vee(t){const e=(t-Dt)/Do;let n,r,s;for(n=t-Dt,r=0;n%Do===un;n/=Do,r++);for(s=Do;s<t&&tk(s,e,t)!==t-Dt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Dt)/U0;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+Dt)/Do;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let g=o.sqr(d);h<c&&!o.eql(g,o.ONE);h++)g=o.sqr(g);const f=o.pow(l,Dt<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function jee(t){if(t%U0===zee){const e=(t+Dt)/U0;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%TI===PI){const e=(t-PI)/TI;return function(n,r){const s=n.mul(r,Do),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,Do),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return Vee(t)}const Hee=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qee(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Hee.reduce((r,s)=>(r[s]="function",r),e);return zl(t,n)}function Wee(t,e,n){if(n<un)throw new Error("invalid exponent, negatives unsupported");if(n===un)return t.ONE;if(n===Dt)return e;let r=t.ONE,s=e;for(;n>un;)n&Dt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Dt;return r}function Gee(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function nk(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function rk(t,e,n=!1,r={}){if(t<=un)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=nk(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:jv(s),ZERO:un,ONE:Dt,create:c=>Zn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return un<=c&&c<t},is0:c=>c===un,isOdd:c=>(c&Dt)===Dt,neg:c=>Zn(-c,t),eql:(c,l)=>c===l,sqr:c=>Zn(c*c,t),add:(c,l)=>Zn(c+l,t),sub:(c,l)=>Zn(c-l,t),mul:(c,l)=>Zn(c*l,t),pow:(c,l)=>Wee(a,c,l),div:(c,l)=>Zn(c*M0(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>M0(c,t),sqrt:r.sqrt||(c=>(o||(o=jee(t)),o(a,c))),invertBatch:c=>Gee(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?qg(c,i):yl(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?Ld(c):na(c)}});return Object.freeze(a)}function sk(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ik(t){const e=sk(t);return e+Math.ceil(e/2)}function Kee(t,e,n=!1){const r=t.length,s=sk(e),i=ik(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Ld(t):na(t),a=Zn(o,e-Dt)+Dt;return n?qg(a,s):yl(a,s)}const OI=BigInt(0),ff=BigInt(1);function Cy(t,e){const n=e.negate();return t?n:e}function ok(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Ay(t,e){ok(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Yee(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Qee(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Iy=new WeakMap,ak=new WeakMap;function xy(t){return ak.get(t)||1}function Zee(t,e){return{constTimeNegate:Cy,hasPrecomputes(n){return xy(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>OI;)r&ff&&(s=s.add(i)),i=i.double(),r>>=ff;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Ay(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=Ay(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let g=Number(s&l);s>>=d,g>o&&(g-=u,s+=ff);const p=f,m=f+Math.abs(g)-1,y=h%2!==0,b=g<0;g===0?c=c.add(Cy(y,r[p])):a=a.add(Cy(b,r[m]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=Ay(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===OI)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=ff),f===0)continue;let g=r[h+Math.abs(f)-1];f<0&&(g=g.negate()),i=i.add(g)}return i},getPrecomputes(n,r,s){let i=Iy.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Iy.set(r,s(i))),i},wNAFCached(n,r,s){const i=xy(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=xy(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){ok(r,e),ak.set(n,r),Iy.delete(n)}}}function Jee(t,e,n,r){if(Yee(n,t),Qee(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=XN(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const g=r[f],p=Number(g>>BigInt(d)&BigInt(a));c[p]=c[p].add(n[f])}let h=s;for(let f=c.length-1,g=s;f>0;f--)g=g.add(c[f]),h=h.add(g);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function ck(t){return qee(t.Fp),zl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nk(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const ec=BigInt(0),Sy=BigInt(1);function Xee(t){return zl(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function ete(t){const e=Xee(t),{P:n}=e,r=b=>Zn(b,n),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(b=>b),c=e.powPminus2||(b=>tk(b,n-BigInt(2),n));function l(b,w,E){const C=r(b*(w-E));return w=r(w-C),E=r(E+C),[w,E]}const u=(e.a-BigInt(2))/BigInt(4);function d(b,w){hi("u",b,ec,n),hi("scalar",w,ec,n);const E=w,C=b;let I=Sy,A=ec,x=b,v=Sy,R=ec,N;for(let F=BigInt(s-1);F>=ec;F--){const _=E>>F&Sy;R^=_,N=l(R,I,x),I=N[0],x=N[1],N=l(R,A,v),A=N[0],v=N[1],R=_;const T=I+A,S=r(T*T),D=I-A,k=r(D*D),O=S-k,L=x+v,U=x-v,V=r(U*T),G=r(L*D),q=V+G,ee=V-G;x=r(q*q),v=r(C*r(ee*ee)),I=r(S*k),A=r(O*(S+r(u*O)))}N=l(R,I,x),I=N[0],x=N[1],N=l(R,A,v),A=N[0],v=N[1];const B=c(A);return r(I*B)}function h(b){return qg(r(b),i)}function f(b){const w=dr("u coordinate",b,i);return o===32&&(w[31]&=127),Ld(w)}function g(b){const w=dr("scalar",b),E=w.length;if(E!==i&&E!==o){let C=""+i+" or "+o;throw new Error("invalid scalar, expected "+C+" bytes, got "+E)}return Ld(a(w))}function p(b,w){const E=f(w),C=g(b),I=d(E,C);if(I===ec)throw new Error("invalid private or public key received");return h(I)}const m=h(e.Gu);function y(b){return p(b,m)}return{scalarMult:p,scalarMultBase:y,getSharedSecret:(b,w)=>p(b,w),getPublicKey:b=>y(b),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:m}}const z0=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const tte=BigInt(1),RI=BigInt(2),nte=BigInt(3),rte=BigInt(5);BigInt(8);function ste(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=z0,o=t*t%i*t%i,a=Gr(o,RI,i)*o%i,c=Gr(a,tte,i)*t%i,l=Gr(c,rte,i)*c%i,u=Gr(l,e,i)*l%i,d=Gr(u,n,i)*u%i,h=Gr(d,r,i)*d%i,f=Gr(h,s,i)*h%i,g=Gr(f,s,i)*h%i,p=Gr(g,e,i)*l%i;return{pow_p_5_8:Gr(p,RI,i)*t%i,b2:o}}function ite(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}ete({P:z0,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=z0,{pow_p_5_8:n,b2:r}=ste(t);return Zn(Gr(n,nte,e)*r,e)},adjustScalarBytes:ite,randomBytes:zN});function NI(t){t.lowS!==void 0&&pl("lowS",t.lowS),t.prehash!==void 0&&pl("prehash",t.prehash)}function ote(t){const e=ck(t);zl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:ate,hexToBytes:cte}=Mee;class lte extends Error{constructor(e=""){super(e)}}const si={Err:lte,_tlv:{encode:(t,e)=>{const{Err:n}=si;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Tc(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Tc(s.length/2|128):"";return Tc(t)+i+s+e},decode(t,e){const{Err:n}=si;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=si;if(t<ci)throw new e("integer: negative integers are not allowed");let n=Tc(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=si;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return ate(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=si,s=typeof t=="string"?cte(t):t;Dh(s);const{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=si,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},ci=BigInt(0),nn=BigInt(1);BigInt(2);const kI=BigInt(3);BigInt(4);function ute(t){const e=ote(t),{Fp:n}=e,r=rk(e.n,e.nBitLength),s=e.toBytes||((p,m,y)=>{const b=m.toAffine();return Fd(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),i=e.fromBytes||(p=>{const m=p.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),b=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:b}});function o(p){const{a:m,b:y}=e,b=n.sqr(p),w=n.mul(b,p);return n.add(n.add(w,n.mul(p,m)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return Wg(p,nn,e.n)}function c(p){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:b,n:w}=e;if(m&&typeof p!="bigint"){if(wa(p)&&(p=gl(p)),typeof p!="string"||!m.includes(p.length))throw new Error("invalid private key");p=p.padStart(y*2,"0")}let E;try{E=typeof p=="bigint"?p:na(dr("private key",p,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof p)}return b&&(E=Zn(E,w)),hi("private key",E,nn,w),E}function l(p){if(!(p instanceof h))throw new Error("ProjectivePoint expected")}const u=F0((p,m)=>{const{px:y,py:b,pz:w}=p;if(n.eql(w,n.ONE))return{x:y,y:b};const E=p.is0();m==null&&(m=E?n.ONE:n.inv(w));const C=n.mul(y,m),I=n.mul(b,m),A=n.mul(w,m);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:C,y:I}}),d=F0(p=>{if(p.is0()){if(e.allowInfinityPoint&&!n.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=p.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");const b=n.sqr(y),w=o(m);if(!n.eql(b,w))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(m,y,b){if(this.px=m,this.py=y,this.pz=b,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(m){const{x:y,y:b}=m||{};if(!m||!n.isValid(y)||!n.isValid(b))throw new Error("invalid affine point");if(m instanceof h)throw new Error("projective point not allowed");const w=E=>n.eql(E,n.ZERO);return w(y)&&w(b)?h.ZERO:new h(y,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=n.invertBatch(m.map(b=>b.pz));return m.map((b,w)=>b.toAffine(y[w])).map(h.fromAffine)}static fromHex(m){const y=h.fromAffine(i(dr("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return h.BASE.multiply(c(m))}static msm(m,y){return Jee(h,r,m,y)}_setWindowSize(m){g.setWindowSize(this,m)}assertValidity(){d(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:y,py:b,pz:w}=this,{px:E,py:C,pz:I}=m,A=n.eql(n.mul(y,I),n.mul(E,w)),x=n.eql(n.mul(b,I),n.mul(C,w));return A&&x}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,b=n.mul(y,kI),{px:w,py:E,pz:C}=this;let I=n.ZERO,A=n.ZERO,x=n.ZERO,v=n.mul(w,w),R=n.mul(E,E),N=n.mul(C,C),B=n.mul(w,E);return B=n.add(B,B),x=n.mul(w,C),x=n.add(x,x),I=n.mul(m,x),A=n.mul(b,N),A=n.add(I,A),I=n.sub(R,A),A=n.add(R,A),A=n.mul(I,A),I=n.mul(B,I),x=n.mul(b,x),N=n.mul(m,N),B=n.sub(v,N),B=n.mul(m,B),B=n.add(B,x),x=n.add(v,v),v=n.add(x,v),v=n.add(v,N),v=n.mul(v,B),A=n.add(A,v),N=n.mul(E,C),N=n.add(N,N),v=n.mul(N,B),I=n.sub(I,v),x=n.mul(N,R),x=n.add(x,x),x=n.add(x,x),new h(I,A,x)}add(m){l(m);const{px:y,py:b,pz:w}=this,{px:E,py:C,pz:I}=m;let A=n.ZERO,x=n.ZERO,v=n.ZERO;const R=e.a,N=n.mul(e.b,kI);let B=n.mul(y,E),F=n.mul(b,C),_=n.mul(w,I),T=n.add(y,b),S=n.add(E,C);T=n.mul(T,S),S=n.add(B,F),T=n.sub(T,S),S=n.add(y,w);let D=n.add(E,I);return S=n.mul(S,D),D=n.add(B,_),S=n.sub(S,D),D=n.add(b,w),A=n.add(C,I),D=n.mul(D,A),A=n.add(F,_),D=n.sub(D,A),v=n.mul(R,S),A=n.mul(N,_),v=n.add(A,v),A=n.sub(F,v),v=n.add(F,v),x=n.mul(A,v),F=n.add(B,B),F=n.add(F,B),_=n.mul(R,_),S=n.mul(N,S),F=n.add(F,_),_=n.sub(B,_),_=n.mul(R,_),S=n.add(S,_),B=n.mul(F,S),x=n.add(x,B),B=n.mul(D,S),A=n.mul(T,A),A=n.sub(A,B),B=n.mul(T,F),v=n.mul(D,v),v=n.add(v,B),new h(A,x,v)}subtract(m){return this.add(m.negate())}is0(){return this.equals(h.ZERO)}wNAF(m){return g.wNAFCached(this,m,h.normalizeZ)}multiplyUnsafe(m){const{endo:y,n:b}=e;hi("scalar",m,ci,b);const w=h.ZERO;if(m===ci)return w;if(this.is0()||m===nn)return this;if(!y||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,m,h.normalizeZ);let{k1neg:E,k1:C,k2neg:I,k2:A}=y.splitScalar(m),x=w,v=w,R=this;for(;C>ci||A>ci;)C&nn&&(x=x.add(R)),A&nn&&(v=v.add(R)),R=R.double(),C>>=nn,A>>=nn;return E&&(x=x.negate()),I&&(v=v.negate()),v=new h(n.mul(v.px,y.beta),v.py,v.pz),x.add(v)}multiply(m){const{endo:y,n:b}=e;hi("scalar",m,nn,b);let w,E;if(y){const{k1neg:C,k1:I,k2neg:A,k2:x}=y.splitScalar(m);let{p:v,f:R}=this.wNAF(I),{p:N,f:B}=this.wNAF(x);v=g.constTimeNegate(C,v),N=g.constTimeNegate(A,N),N=new h(n.mul(N.px,y.beta),N.py,N.pz),w=v.add(N),E=R.add(B)}else{const{p:C,f:I}=this.wNAF(m);w=C,E=I}return h.normalizeZ([w,E])[0]}multiplyAndAddUnsafe(m,y,b){const w=h.BASE,E=(I,A)=>A===ci||A===nn||!I.equals(w)?I.multiplyUnsafe(A):I.multiply(A),C=E(this,y).add(E(m,b));return C.is0()?void 0:C}toAffine(m){return u(this,m)}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===nn)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===nn?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return pl("isCompressed",m),this.assertValidity(),s(h,this,m)}toHex(m=!0){return pl("isCompressed",m),gl(this.toRawBytes(m))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,g=Zee(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function dte(t){const e=ck(t);return zl(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function hte(t){const e=dte(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function o(_){return Zn(_,r)}function a(_){return M0(_,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=ute({...e,toBytes(_,T,S){const D=T.toAffine(),k=n.toBytes(D.x),O=Fd;return pl("isCompressed",S),S?O(Uint8Array.from([T.hasEvenY()?2:3]),k):O(Uint8Array.from([4]),k,n.toBytes(D.y))},fromBytes(_){const T=_.length,S=_[0],D=_.subarray(1);if(T===s&&(S===2||S===3)){const k=na(D);if(!Wg(k,nn,n.ORDER))throw new Error("Point is not on curve");const O=u(k);let L;try{L=n.sqrt(O)}catch(V){const G=V instanceof Error?": "+V.message:"";throw new Error("Point is not on curve"+G)}const U=(L&nn)===nn;return(S&1)===1!==U&&(L=n.neg(L)),{x:k,y:L}}else if(T===i&&S===4){const k=n.fromBytes(D.subarray(0,n.BYTES)),O=n.fromBytes(D.subarray(n.BYTES,2*n.BYTES));return{x:k,y:O}}else{const k=s,O=i;throw new Error("invalid Point, expected length of "+k+", or uncompressed "+O+", got "+T)}}}),h=_=>gl(yl(_,e.nByteLength));function f(_){const T=r>>nn;return _>T}function g(_){return f(_)?o(-_):_}const p=(_,T,S)=>na(_.slice(T,S));class m{constructor(T,S,D){this.r=T,this.s=S,this.recovery=D,this.assertValidity()}static fromCompact(T){const S=e.nByteLength;return T=dr("compactSignature",T,S*2),new m(p(T,0,S),p(T,S,2*S))}static fromDER(T){const{r:S,s:D}=si.toSig(dr("DER",T));return new m(S,D)}assertValidity(){hi("r",this.r,nn,r),hi("s",this.s,nn,r)}addRecoveryBit(T){return new m(this.r,this.s,T)}recoverPublicKey(T){const{r:S,s:D,recovery:k}=this,O=I(dr("msgHash",T));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");const L=k===2||k===3?S+e.n:S;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const U=(k&1)===0?"02":"03",V=c.fromHex(U+h(L)),G=a(L),q=o(-O*G),ee=o(D*G),ce=c.BASE.multiplyAndAddUnsafe(V,q,ee);if(!ce)throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ml(this.toDERHex())}toDERHex(){return si.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ml(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(_){try{return l(_),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const _=ik(e.n);return Kee(e.randomBytes(_),e.n)},precompute(_=8,T=c.BASE){return T._setWindowSize(_),T.multiply(BigInt(3)),T}};function b(_,T=!0){return c.fromPrivateKey(_).toRawBytes(T)}function w(_){const T=wa(_),S=typeof _=="string",D=(T||S)&&_.length;return T?D===s||D===i:S?D===2*s||D===2*i:_ instanceof c}function E(_,T,S=!0){if(w(_))throw new Error("first arg must be private key");if(!w(T))throw new Error("second arg must be public key");return c.fromHex(T).multiply(l(_)).toRawBytes(S)}const C=e.bits2int||function(_){if(_.length>8192)throw new Error("input is too large");const T=na(_),S=_.length*8-e.nBitLength;return S>0?T>>BigInt(S):T},I=e.bits2int_modN||function(_){return o(C(_))},A=jv(e.nBitLength);function x(_){return hi("num < 2^"+e.nBitLength,_,ci,A),yl(_,e.nByteLength)}function v(_,T,S=R){if(["recovered","canonical"].some(j=>j in S))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:k}=e;let{lowS:O,prehash:L,extraEntropy:U}=S;O==null&&(O=!0),_=dr("msgHash",_),NI(S),L&&(_=dr("prehashed msgHash",D(_)));const V=I(_),G=l(T),q=[x(G),x(V)];if(U!=null&&U!==!1){const j=U===!0?k(n.BYTES):U;q.push(dr("extraEntropy",j))}const ee=Fd(...q),ce=V;function _e(j){const M=C(j);if(!d(M))return;const de=a(M),pe=c.BASE.multiply(M).toAffine(),ye=o(pe.x);if(ye===ci)return;const xe=o(de*o(ce+ye*G));if(xe===ci)return;let Me=(pe.x===ye?0:2)|Number(pe.y&nn),_t=xe;return O&&f(xe)&&(_t=g(xe),Me^=1),new m(ye,_t,Me)}return{seed:ee,k2sig:_e}}const R={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function B(_,T,S=R){const{seed:D,k2sig:k}=v(_,T,S),O=e;return ek(O.hash.outputLen,O.nByteLength,O.hmac)(D,k)}c.BASE._setWindowSize(8);function F(_,T,S,D=N){var xe;const k=_;T=dr("msgHash",T),S=dr("publicKey",S);const{lowS:O,prehash:L,format:U}=D;if(NI(D),"strict"in D)throw new Error("options.strict was renamed to lowS");if(U!==void 0&&U!=="compact"&&U!=="der")throw new Error("format must be compact or der");const V=typeof k=="string"||wa(k),G=!V&&!U&&typeof k=="object"&&k!==null&&typeof k.r=="bigint"&&typeof k.s=="bigint";if(!V&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,ee;try{if(G&&(q=new m(k.r,k.s)),V){try{U!=="compact"&&(q=m.fromDER(k))}catch(Me){if(!(Me instanceof si.Err))throw Me}!q&&U!=="der"&&(q=m.fromCompact(k))}ee=c.fromHex(S)}catch{return!1}if(!q||O&&q.hasHighS())return!1;L&&(T=e.hash(T));const{r:ce,s:_e}=q,j=I(T),M=a(_e),de=o(j*M),pe=o(ce*M),ye=(xe=c.BASE.multiplyAndAddUnsafe(ee,de,pe))==null?void 0:xe.toAffine();return ye?o(ye.x)===ce:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:B,verify:F,ProjectivePoint:c,Signature:m,utils:y}}function fte(t){return{hash:t,hmac:(e,...n)=>JN(t,e,EX(...n)),randomBytes:zN}}function pte(t,e){const n=r=>hte({...t,...fte(r)});return{...n(e),create:n}}const lk=rk(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),gte=lk.create(BigInt("-3")),mte=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");pte({a:gte,b:mte,Fp:lk,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},zv);const V0="base16",pf="base64pad",yu="base64url",yte="utf8",_y=1,bte=2;function Py(t){const e=zv(Xn(t,V0));return Tn(e,V0)}function tc(t){const e=zv(Xn(t,yte));return Tn(e,V0)}function gf(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function Vl(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function wte(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Vl(n.accounts))}),e}function vte(t,e){const n=[];return Object.values(t).forEach(r=>{Vl(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Ete(t,e){const n=[];return Object.values(t).forEach(r=>{Vl(r.accounts).includes(e)&&n.push(...r.events)}),n}function Hv(t){return t.includes(":")}function Du(t){return Hv(t)?t.split(":")[0]:t}function Cte(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function DI(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=Cte(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=zf(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}const Ate={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Ite={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function me(t,e){const{message:n,code:r}=Ite[t];return{message:e?`${n} ${e}`:n,code:r}}function wt(t,e){const{message:n,code:r}=Ate[t];return{message:e?`${n} ${e}`:n,code:r}}function no(t,e){return!!Array.isArray(t)}function Ud(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Jn(t){return typeof t>"u"}function rn(t,e){return e&&Jn(t)?!0:typeof t=="string"&&!!t.trim().length}function qv(t,e){return e&&Jn(t)?!0:typeof t=="number"&&!isNaN(t)}function xte(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return jo(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Vl(a),d=n[o];(!jo(BN(o,d),u)||!jo(d.methods,c)||!jo(d.events,l))&&(i=!1)}),i):!1}function Sp(t){return rn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Ste(t){if(rn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Sp(n)}}return!1}function _te(t,e){let n=null;return rn(t==null?void 0:t.publicKey,!1)||(n=me("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function BI(t){let e=!0;return no(t)?t.length&&(e=t.every(n=>rn(n,!1))):e=!1,e}function Pte(t,e,n){let r=null;return no(e)&&e.length?e.forEach(s=>{r||Sp(s)||(r=wt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):Sp(t)||(r=wt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Tte(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=Pte(s,BN(s,i),`${e} ${n}`);o&&(r=o)}),r}function Ote(t,e){let n=null;return no(t)?t.forEach(r=>{n||Ste(r)||(n=wt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=wt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Rte(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Ote(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function Nte(t,e){let n=null;return BI(t==null?void 0:t.methods)?BI(t==null?void 0:t.events)||(n=wt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=wt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function uk(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Nte(r,`${e}, namespace`);s&&(n=s)}),n}function kte(t,e,n){let r=null;if(t&&Ud(t)){const s=uk(t,e);s&&(r=s);const i=Tte(t,e,n);i&&(r=i)}else r=me("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function Ty(t,e){let n=null;if(t&&Ud(t)){const r=uk(t,e);r&&(n=r);const s=Rte(t,e);s&&(n=s)}else n=me("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function dk(t){return rn(t.protocol,!0)}function Dte(t,e){let n=!1;return t?t&&no(t)&&t.length&&t.forEach(r=>{n=dk(r)}):n=!0,n}function Bte(t){return typeof t=="number"}function Hr(t){return typeof t<"u"&&typeof t!==null}function $te(t){return!(!t||typeof t!="object"||!t.code||!qv(t.code,!1)||!t.message||!rn(t.message,!1))}function Lte(t){return!(Jn(t)||!rn(t.method,!1))}function Fte(t){return!(Jn(t)||Jn(t.result)&&Jn(t.error)||!qv(t.id,!1)||!rn(t.jsonrpc,!1))}function Ute(t){return!(Jn(t)||!rn(t.name,!1))}function $I(t,e){return!(!Sp(e)||!wte(t).includes(e))}function Mte(t,e,n){return rn(n,!1)?vte(t,e).includes(n):!1}function zte(t,e,n){return rn(n,!1)?Ete(t,e).includes(n):!1}function LI(t,e,n){let r=null;const s=Vte(t),i=jte(e),o=Object.keys(s),a=Object.keys(i),c=FI(Object.keys(t)),l=FI(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),jo(o,a)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=Vl(e[d].accounts);h.includes(d)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(jo(s[d].methods,i[d].methods)?jo(s[d].events,i[d].events)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Vte(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function FI(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function jte(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Vl(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Hte(t,e){return qv(t,!1)&&t<=e.max&&t>=e.min}const Oy={};class bu{static get(e){return Oy[e]}static set(e,n){Oy[e]=n}static delete(e){delete Oy[e]}}const hk="wc",fk=2,pk="client",Wv=`${hk}@${fk}:${pk}:`,Ry={name:pk,logger:"error"},UI="WALLETCONNECT_DEEPLINK_CHOICE",qte="proposal",MI="Proposal expired",Wte="session",nc=Q.SEVEN_DAYS,Gte="engine",Qt={wc_sessionPropose:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Q.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Q.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1119}}},Ny={min:Q.FIVE_MINUTES,max:Q.SEVEN_DAYS},Cs={idle:"IDLE",active:"ACTIVE"},zI={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},Kte="request",Yte=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Qte="wc",Zte="auth",Jte="authKeys",Xte="pairingTopics",ene="requests",Gg=`${Qte}@${1.5}:${Zte}:`,jf=`${Gg}:PUB_KEY`;var tne=Object.defineProperty,nne=Object.defineProperties,rne=Object.getOwnPropertyDescriptors,VI=Object.getOwnPropertySymbols,sne=Object.prototype.hasOwnProperty,ine=Object.prototype.propertyIsEnumerable,j0=(t,e,n)=>e in t?tne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,it=(t,e)=>{for(var n in e||(e={}))sne.call(e,n)&&j0(t,n,e[n]);if(VI)for(var n of VI(e))ine.call(e,n)&&j0(t,n,e[n]);return t},Nn=(t,e)=>nne(t,rne(e)),W=(t,e,n)=>j0(t,typeof e!="symbol"?e+"":e,n);class one extends I9{constructor(e){super(e),W(this,"name",Gte),W(this,"events",new gw),W(this,"initialized",!1),W(this,"requestQueue",{state:Cs.idle,queue:[]}),W(this,"sessionRequestQueue",{state:Cs.idle,queue:[]}),W(this,"requestQueueDelay",Q.ONE_SECOND),W(this,"expectedPairingMethodMap",new Map),W(this,"recentlyDeletedMap",new Map),W(this,"recentlyDeletedLimit",200),W(this,"relayMessageCache",[]),W(this,"pendingSessions",new Map),W(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Qt)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Q.toMiliseconds(this.requestQueueDelay)))}),W(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Nn(it({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,h=!1;try{if(u){const I=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),I}if(!u||!h){const{topic:I,uri:A}=await this.client.core.pairing.create();u=I,d=A}if(!u){const{message:I}=me("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(I)}const f=await this.client.core.crypto.generateKeyPair(),g=Qt.wc_sessionPropose.req.ttl||Q.FIVE_MINUTES,p=jn(g),m=Nn(it(it({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:lN}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:p,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Is()}),y=st("session_connect",m.id),{reject:b,resolve:w,done:E}=Za(g,MI),C=({id:I})=>{I===m.id&&(this.client.events.off("proposal_expire",C),this.pendingSessions.delete(m.id),this.events.emit(y,{error:{message:MI,code:0}}))};return this.client.events.on("proposal_expire",C),this.events.once(y,({error:I,session:A})=>{this.client.events.off("proposal_expire",C),I?b(I):A&&w(A)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:m,throwOnFailedPublish:!0,clientRpcId:m.id}),await this.setProposal(m.id,m),{uri:d,approval:E}}),W(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),W(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Vr.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(v){throw o.setError(bo.no_internet_connection),v}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(v){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(bo.proposal_not_found),v}try{await this.isValidApprove(n)}catch(v){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(bo.session_approve_namespace_validation_failure),v}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:p,requiredNamespaces:m,optionalNamespaces:y}=f;let b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:g});b||(b=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Vr.session_approve_started,properties:{topic:g,trace:[Vr.session_approve_started,Vr.session_namespaces_validation_success]}}));const w=await this.client.core.crypto.generateKeyPair(),E=p.publicKey,C=await this.client.core.crypto.generateSharedKey(w,E),I=it(it(it({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:w,metadata:this.client.metadata},expiry:jn(nc)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),A=gt.relay;b.addTrace(Vr.subscribing_session_topic);try{await this.client.core.relayer.subscribe(C,{transportType:A})}catch(v){throw b.setError(bo.subscribe_session_topic_failure),v}b.addTrace(Vr.subscribe_session_topic_success);const x=Nn(it({},I),{topic:C,requiredNamespaces:m,optionalNamespaces:y,pairingTopic:g,acknowledged:!1,self:I.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:w,transportType:gt.relay});await this.client.session.set(C,x),b.addTrace(Vr.store_session);try{b.addTrace(Vr.publishing_session_settle),await this.sendRequest({topic:C,method:"wc_sessionSettle",params:I,throwOnFailedPublish:!0}).catch(v=>{throw b==null||b.setError(bo.session_settle_publish_failure),v}),b.addTrace(Vr.session_settle_publish_success),b.addTrace(Vr.publishing_session_approve),await this.sendResult({id:a,topic:g,result:{relay:{protocol:c??"irn"},responderPublicKey:w},throwOnFailedPublish:!0}).catch(v=>{throw b==null||b.setError(bo.session_approve_publish_failure),v}),b.addTrace(Vr.session_approve_publish_success)}catch(v){throw this.client.logger.error(v),this.client.session.delete(C,wt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(C),v}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:p.metadata}),await this.client.proposal.delete(a,wt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(C,jn(nc)),{topic:C,acknowledged:()=>Promise.resolve(this.client.session.get(C))}}),W(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&(await this.sendError({id:r,topic:i,error:s,rpcOpts:Qt.wc_sessionPropose.reject}),await this.client.proposal.delete(r,wt("USER_DISCONNECTED")))}),W(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=Za(),c=Is(),l=Vo().toString(),u=this.client.session.get(r).namespaces;return this.events.once(st("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),W(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=Is(),{done:i,resolve:o,reject:a}=Za();return this.events.once(st("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,jn(nc)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),W(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:s,topic:i,expiry:o=Qt.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===gt.relay&&await this.confirmOnlineStateOrThrow();const c=Is(),l=Vo().toString(),{done:u,resolve:d,reject:h}=Za(o,"Request expired. Please try again.");this.events.once(st("session_request",c),({error:y,result:b})=>{y?h(y):d(b)});const f="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:{request:Nn(it({},s),{expiryTimestamp:jn(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const p={request:Nn(it({},s),{expiryTimestamp:jn(o)}),chainId:r},m=this.shouldSetTVF(f,p);return await Promise.all([new Promise(async y=>{await this.sendRequest(it({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:p,expiry:o,throwOnFailedPublish:!0},m&&{tvf:this.getTVFParams(c,p)})).catch(b=>h(b)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),y()}),new Promise(async y=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){const w=await iX(this.client.core.storage,UI);await nX({id:c,topic:i,wcDeepLink:w})}y()}),u()]).then(y=>y[2])}),W(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===gt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);xs(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):Dr(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),W(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=Is(),i=Vo().toString(),{done:o,resolve:a,reject:c}=Za();this.events.once(st("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),W(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=Vo().toString(),a=Is();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),W(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:wt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=me("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),W(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>xte(r,n)))),W(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),W(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?gt.link_mode:gt.relay;o===gt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:g,methods:p=[],expiry:m}=n,y=[...n.resources||[]],{topic:b,uri:w}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:w}});const E=await this.client.core.crypto.generateKeyPair(),C=Py(E);if(await Promise.all([this.client.auth.authKeys.set(jf,{responseTopic:C,publicKey:E}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:b})]),await this.client.core.relayer.subscribe(C,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),p.length>0){const{namespace:O}=$c(a[0]);let L=ZX(O,"request",p);Vf(y)&&(L=XX(L,y.pop())),y.push(L)}const I=m&&m>Qt.wc_sessionAuthenticate.req.ttl?m:Qt.wc_sessionAuthenticate.req.ttl,A={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:g,resources:y},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:jn(I)},x={eip155:{chains:a,methods:[...new Set(["personal_sign",...p])],events:["chainChanged","accountsChanged"]}},v={requiredNamespaces:{},optionalNamespaces:x,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:jn(Qt.wc_sessionPropose.req.ttl),id:Is()},{done:R,resolve:N,reject:B}=Za(I,"Request expired"),F=Is(),_=st("session_connect",v.id),T=st("session_request",F),S=async({error:O,session:L})=>{this.events.off(T,D),O?B(O):L&&N({session:L})},D=async O=>{var L,U,V;if(await this.deletePendingAuthRequest(F,{message:"fulfilled",code:0}),O.error){const M=wt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return O.error.code===M.code?void 0:(this.events.off(_,S),B(O.error.message))}await this.deleteProposal(v.id),this.events.off(_,S);const{cacaos:G,responder:q}=O.result,ee=[],ce=[];for(const M of G){await mI({cacao:M,projectId:this.client.core.projectId})||(this.client.logger.error(M,"Signature verification failed"),B(wt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:de}=M,pe=Vf(de.resources),ye=[D0(de.iss)],xe=xp(de.iss);if(pe){const Me=yI(pe),_t=bI(pe);ee.push(...Me),ye.push(..._t)}for(const Me of ye)ce.push(`${Me}:${xe}`)}const _e=await this.client.core.crypto.generateSharedKey(E,q.publicKey);let j;ee.length>0&&(j={topic:_e,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:q,controller:q.publicKey,expiry:jn(nc),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:DI([...new Set(ee)],[...new Set(ce)]),transportType:o},await this.client.core.relayer.subscribe(_e,{transportType:o}),await this.client.session.set(_e,j),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:q.metadata}),j=this.client.session.get(_e)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(U=q.metadata.redirect)!=null&&U.linkMode&&(V=q.metadata.redirect)!=null&&V.universal&&r&&(this.client.core.addLinkModeSupportedApp(q.metadata.redirect.universal),this.client.session.update(_e,{transportType:gt.link_mode})),N({auths:G,session:j})};this.events.once(_,S),this.events.once(T,D);let k;try{if(i){const O=Yi("wc_sessionAuthenticate",A,F);this.client.core.history.set(b,O);const L=await this.client.core.crypto.encode("",O,{type:bte,encoding:yu});k=gf(r,b,L)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:A,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:F}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:v,expiry:Qt.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:v.id})])}catch(O){throw this.events.off(_,S),this.events.off(T,D),O}return await this.setProposal(v.id,v),await this.setAuthRequest(F,{request:Nn(it({},A),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:k??w,response:R}}),W(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[wo.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw i.setError(du.no_internet_connection),m}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(du.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||gt.relay;a===gt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Py(c),d={type:_y,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const m of s){if(!await mI({cacao:m,projectId:this.client.core.projectId})){i.setError(du.invalid_cacao);const C=wt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:C,encodeOpts:d}),new Error(C.message)}i.addTrace(wo.cacaos_verified);const{p:y}=m,b=Vf(y.resources),w=[D0(y.iss)],E=xp(y.iss);if(b){const C=yI(b),I=bI(b);h.push(...C),w.push(...I)}for(const C of w)f.push(`${C}:${E}`)}const g=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(wo.create_authenticated_session_topic);let p;if((h==null?void 0:h.length)>0){p={topic:g,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:jn(nc),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:DI([...new Set(h)],[...new Set(f)]),transportType:a},i.addTrace(wo.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(m){throw i.setError(du.subscribe_authenticated_session_topic_failure),m}i.addTrace(wo.subscribe_authenticated_session_topic_success),await this.client.session.set(g,p),i.addTrace(wo.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(wo.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(m){throw i.setError(du.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:p}}),W(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===gt.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Py(o),l={type:_y,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:Qt.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,wt("USER_DISCONNECTED"))}),W(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return WN(r,s)}),W(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),W(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),W(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,wt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(UI).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,wt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Cs.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),W(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(bo.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,wt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),W(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=Cs.idle,this.client.events.emit("session_request_expire",{id:n}))}),W(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),W(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),W(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,jn(Qt.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),W(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=gt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),W(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||jn(Qt.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),W(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=Yi(s,i,c);let f;const g=!!u;try{const y=g?yu:pf;f=await this.client.core.crypto.encode(r,h,{encoding:y})}catch(y){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),y}let p;if(Yte.includes(s)){const y=tc(JSON.stringify(h)),b=tc(f);p=await this.client.core.verify.register({id:b,decryptedId:y})}const m=Qt[s].req;if(m.attestation=p,o&&(m.ttl=o),a&&(m.id=a),this.client.core.history.set(r,h),g){const y=gf(u,r,f);await global.Linking.openURL(y,this.client.name)}else{const y=Qt[s].req;o&&(y.ttl=o),a&&(y.id=a),y.tvf=Nn(it({},d),{correlationId:h.id}),l?(y.internal=Nn(it({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,y)):this.client.core.relayer.publish(r,f,y).catch(b=>this.client.logger.error(b))}return h.id}),W(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=Lg(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const g=d?yu:pf;u=await this.client.core.crypto.encode(s,l,Nn(it({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),g}let h,f;try{h=await this.client.core.history.get(s,r);const g=h.request;try{this.shouldSetTVF(g.method,g.params)&&(f=this.getTVFParams(r,g.params,i))}catch(p){this.client.logger.warn("sendResult() -> getTVFParams() failed",p)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),g}if(d){const g=gf(c,s,u);await global.Linking.openURL(g,this.client.name)}else{const g=h.request.method,p=Qt[g].res;p.tvf=Nn(it({},f),{correlationId:r}),o?(p.internal=Nn(it({},p.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,p)):this.client.core.relayer.publish(s,u,p).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(l)}),W(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Fg(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?yu:pf;u=await this.client.core.crypto.encode(s,l,Nn(it({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let h;try{h=await this.client.core.history.get(s,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),f}if(d){const f=gf(c,s,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,g=a||Qt[f].res;this.client.core.relayer.publish(s,u,g)}await this.client.core.history.resolve(l)}),W(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;Ja(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Ja(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),W(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),W(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),W(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Cs.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Cs.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Cs.idle}),W(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),W(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),W(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=me("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),W(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),W(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(ti.proposal_listener_not_found)),this.isValidConnect(it({},s.params));const u=a.expiryTimestamp||jn(Qt.wc_sessionPropose.req.ttl),d=it({id:c,pairingTopic:r,expiryTimestamp:u},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:i,hash:tc(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(As.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Qt.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),W(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(xs(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Dr(r)){await this.client.proposal.delete(i,wt("USER_DISCONNECTED"));const o=st("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),W(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(m=>m.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const g=this.client.proposal.get(f.proposalId),p=Nn(it(it(it({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:gt.relay});await this.client.session.set(p.topic,p),await this.setExpiry(p.topic,p.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:p.peer.metadata}),this.client.events.emit("session_connect",{session:p}),this.events.emit(st("session_connect",f.proposalId),{session:p}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(p),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),W(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;xs(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(st("session_approve",s),{})):Dr(r)&&(await this.client.session.delete(n,wt("USER_DISCONNECTED")),this.events.emit(st("session_approve",s),{error:r.error}))}),W(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=bu.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:wt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(it({topic:n},s));try{bu.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw bu.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),W(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),W(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=st("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);xs(r)?this.events.emit(st("session_update",s),{}):Dr(r)&&this.events.emit(st("session_update",s),{error:r.error})}),W(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,jn(nc)),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),W(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=st("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);xs(r)?this.events.emit(st("session_extend",s),{}):Dr(r)&&this.events.emit(st("session_extend",s),{error:r.error})}),W(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),W(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=st("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);xs(r)?this.events.emit(st("session_ping",s),{}):Dr(r)&&this.events.emit(st("session_ping",s),{error:r.error})},500)}),W(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(sn.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:wt("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),W(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(it({topic:o},h));const f=this.client.session.get(o),g=await this.getVerifyContext({attestationId:c,hash:tc(JSON.stringify(Yi("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),p={id:d,topic:o,params:h,verifyContext:g};await this.setPendingSessionRequest(p),u===gt.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(p):(this.addSessionRequestToSessionRequestQueue(p),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),W(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=st("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);xs(r)?this.events.emit(st("session_request",s),{result:r.result}):Dr(r)&&this.events.emit(st("session_request",s),{error:r.error})}),W(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=bu.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(it({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),bu.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),W(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),xs(r)?this.events.emit(st("session_request",s),{result:r.result}):Dr(r)&&this.events.emit(st("session_request",s),{error:r.error})}),W(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,h=await this.getVerifyContext({attestationId:o,hash:tc(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:f,pairingTopic:s,transportType:c}),c===gt.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),f={type:_y,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:f,rpcOpts:Qt.wc_sessionAuthenticate.autoReject,appLink:h})}}),W(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),W(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Cs.idle,this.processSessionRequestQueue()},Q.toMiliseconds(this.requestQueueDelay))}),W(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=st("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(st("session_request",i.request.id),{error:r})})}),W(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Cs.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Cs.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),W(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),W(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Yi("wc_sessionPropose",Nn(it({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),W(this,"isValidConnect",async n=>{if(!Hr(n)){const{message:l}=me("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Jn(r)||await this.isValidPairingTopic(r),!Dte(c)){const{message:l}=me("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Jn(s)&&Ud(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!Jn(i)&&Ud(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Jn(o)||this.validateSessionProps(o,"sessionProperties"),!Jn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),W(this,"validateNamespaces",(n,r)=>{const s=kte(n,"connect()",r);if(s)throw new Error(s.message)}),W(this,"isValidApprove",async n=>{if(!Hr(n))throw new Error(me("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=Ty(s,"approve()");if(l)throw new Error(l.message);const u=LI(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!rn(i,!0)){const{message:d}=me("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(Jn(o)||this.validateSessionProps(o,"sessionProperties"),!Jn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),W(this,"isValidReject",async n=>{if(!Hr(n)){const{message:i}=me("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!$te(s)){const{message:i}=me("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),W(this,"isValidSessionSettleRequest",n=>{if(!Hr(n)){const{message:l}=me("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!dk(r)){const{message:l}=me("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=_te(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Ty(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Ja(o)){const{message:l}=me("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),W(this,"isValidUpdate",async n=>{if(!Hr(n)){const{message:c}=me("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=Ty(s,"update()");if(o)throw new Error(o.message);const a=LI(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),W(this,"isValidExtend",async n=>{if(!Hr(n)){const{message:s}=me("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),W(this,"isValidRequest",async n=>{if(!Hr(n)){const{message:c}=me("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!$I(a,i)){const{message:c}=me("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!Lte(s)){const{message:c}=me("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!Mte(a,i,s.method)){const{message:c}=me("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!Hte(o,Ny)){const{message:c}=me("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Ny.min} and ${Ny.max}`);throw new Error(c)}}),W(this,"isValidRespond",async n=>{var r;if(!Hr(n)){const{message:o}=me("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Fte(i)){const{message:o}=me("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),W(this,"isValidPing",async n=>{if(!Hr(n)){const{message:s}=me("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),W(this,"isValidEmit",async n=>{if(!Hr(n)){const{message:a}=me("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!$I(o,i)){const{message:a}=me("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Ute(s)){const{message:a}=me("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!zte(o,i,s.name)){const{message:a}=me("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),W(this,"isValidDisconnect",async n=>{if(!Hr(n)){const{message:s}=me("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),W(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!rn(s,!1))throw new Error("uri is required parameter");if(!rn(i,!1))throw new Error("domain is required parameter");if(!rn(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>$c(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=$c(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),W(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Hu,validation:"UNKNOWN",origin:o.url||""}};try{if(a===gt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),W(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=me("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),W(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),W(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),W(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=me("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),W(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,h;return!n||r!==gt.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),W(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),W(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=cI(n,"topic")||"",s=decodeURIComponent(cI(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:gt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),W(this,"registerLinkModeListeners",async()=>{var n;if(oX()||LN()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),W(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:s}=r;return Object.keys(zI).includes(s.method)}),W(this,"getTVFParams",(n,r,s)=>{var i,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,s);return Nn(it({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(i=r.request.params)==null?void 0:i[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),W(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),W(this,"extractTxHashesFromResult",(n,r)=>{try{const s=zI[n];if(typeof r=="string")return[r];const i=r[s.key];if(no(i))return n==="solana_signAllTransactions"?i.map(o=>LX(o)):i;if(typeof i=="string")return[i]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(sn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(jf)?this.client.auth.authKeys.get(jf):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===gt.link_mode?yu:pf});$v(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:tc(r)})):Ug(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Rr.expired,async e=>{const{topic:n,id:r}=tX(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,me("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,me("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(ko.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(ko.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!rn(e,!1)){const{message:n}=me("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Ja(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=me("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!rn(e,!1)){const{message:n}=me("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Ja(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=me("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=me("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(rn(e,!1)){const{message:n}=me("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=me("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Bte(e)){const{message:n}=me("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Ja(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=me("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class ane extends La{constructor(e,n){super(e,n,qte,Wv),this.core=e,this.logger=n}}let cne=class extends La{constructor(e,n){super(e,n,Wte,Wv),this.core=e,this.logger=n}};class lne extends La{constructor(e,n){super(e,n,Kte,Wv,r=>r.id),this.core=e,this.logger=n}}class une extends La{constructor(e,n){super(e,n,Jte,Gg,()=>jf),this.core=e,this.logger=n}}class dne extends La{constructor(e,n){super(e,n,Xte,Gg),this.core=e,this.logger=n}}class hne extends La{constructor(e,n){super(e,n,ene,Gg,r=>r.id),this.core=e,this.logger=n}}var fne=Object.defineProperty,pne=(t,e,n)=>e in t?fne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ky=(t,e,n)=>pne(t,typeof e!="symbol"?e+"":e,n);class gne{constructor(e,n){this.core=e,this.logger=n,ky(this,"authKeys"),ky(this,"pairingTopics"),ky(this,"requests"),this.authKeys=new une(this.core,this.logger),this.pairingTopics=new dne(this.core,this.logger),this.requests=new hne(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var mne=Object.defineProperty,yne=(t,e,n)=>e in t?mne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ue=(t,e,n)=>yne(t,typeof e!="symbol"?e+"":e,n);let bne=class gk extends A9{constructor(e){super(e),Ue(this,"protocol",hk),Ue(this,"version",fk),Ue(this,"name",Ry.name),Ue(this,"metadata"),Ue(this,"core"),Ue(this,"logger"),Ue(this,"events",new ps.EventEmitter),Ue(this,"engine"),Ue(this,"session"),Ue(this,"proposal"),Ue(this,"pendingRequest"),Ue(this,"auth"),Ue(this,"signConfig"),Ue(this,"on",(r,s)=>this.events.on(r,s)),Ue(this,"once",(r,s)=>this.events.once(r,s)),Ue(this,"off",(r,s)=>this.events.off(r,s)),Ue(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),Ue(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Ue(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Ue(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),Ue(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),Ue(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||Ry.name,this.metadata=XJ(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:sh(Dl({level:(e==null?void 0:e.logger)||Ry.logger}));this.core=(e==null?void 0:e.core)||new tJ(e),this.logger=Rn(n,this.name),this.session=new cne(this.core,this.logger),this.proposal=new ane(this.core,this.logger),this.pendingRequest=new lne(this.core,this.logger),this.engine=new one(this),this.auth=new gne(this.core,this.logger)}static async init(e){const n=new gk(e);return await n.initialize(),n}get context(){return rr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},Q.toMiliseconds(Q.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var wne=Object.defineProperty,vne=Object.defineProperties,Ene=Object.getOwnPropertyDescriptors,jI=Object.getOwnPropertySymbols,Cne=Object.prototype.hasOwnProperty,Ane=Object.prototype.propertyIsEnumerable,HI=(t,e,n)=>e in t?wne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qI=(t,e)=>{for(var n in e||(e={}))Cne.call(e,n)&&HI(t,n,e[n]);if(jI)for(var n of jI(e))Ane.call(e,n)&&HI(t,n,e[n]);return t},WI=(t,e)=>vne(t,Ene(e));const Ine={Accept:"application/json","Content-Type":"application/json"},xne="POST",GI={headers:Ine,method:xne},KI=10;class gs{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new ps.EventEmitter,this.isAvailable=!1,this.registering=!1,!CA(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=vi(e),r=await(await EE(this.url,WI(qI({},GI),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!CA(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=vi({id:1,jsonrpc:"2.0",method:"test",params:[]});await EE(e,WI(qI({},GI),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?pa(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Fg(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return sN(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>KI&&this.events.setMaxListeners(KI)}}const YI="error",Sne="wss://relay.walletconnect.org",_ne="wc",Pne="universal_provider",mf=`${_ne}@2:${Pne}:`,mk="https://rpc.walletconnect.org/v1/",Cc="generic",Tne=`${mk}bundler`,Ur={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function One(){}function Gv(t){return t==null||typeof t!="object"&&typeof t!="function"}function Kv(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Rne(t){if(Gv(t))return t;if(Array.isArray(t)||Kv(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function QI(t){return typeof t=="object"&&t!==null}function yk(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function bk(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Nne="[object RegExp]",wk="[object String]",vk="[object Number]",Ek="[object Boolean]",Ck="[object Arguments]",kne="[object Symbol]",Dne="[object Date]",Bne="[object Map]",$ne="[object Set]",Lne="[object Array]",Fne="[object ArrayBuffer]",Une="[object Object]",Mne="[object DataView]",zne="[object Uint8Array]",Vne="[object Uint8ClampedArray]",jne="[object Uint16Array]",Hne="[object Uint32Array]",qne="[object Int8Array]",Wne="[object Int16Array]",Gne="[object Int32Array]",Kne="[object Float32Array]",Yne="[object Float64Array]";function Qne(t,e){return Oc(t,void 0,t,new Map,e)}function Oc(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(Gv(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Oc(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Oc(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Oc(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(Kv(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Oc(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Bo(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Bo(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Bo(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Bo(o,t,n,r,s),o}if(typeof t=="object"&&Zne(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Bo(o,t,n,r,s),o}return t}function Bo(t,e,n=t,r,s){const i=[...Object.keys(e),...yk(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Oc(e[a],a,n,r,s))}}function Zne(t){switch(bk(t)){case Ck:case Lne:case Fne:case Mne:case Ek:case Dne:case Kne:case Yne:case qne:case Wne:case Gne:case Bne:case vk:case Une:case Nne:case $ne:case wk:case kne:case zne:case Vne:case jne:case Hne:return!0;default:return!1}}function Jne(t,e){return Qne(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case vk:case wk:case Ek:{const o=new t.constructor(t==null?void 0:t.valueOf());return Bo(o,t),o}case Ck:{const o={};return Bo(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function ZI(t){return Jne(t)}function JI(t){return t!==null&&typeof t=="object"&&bk(t)==="[object Arguments]"}function Xne(t){return Kv(t)}function ere(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function tre(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=H0(s,o,r,new Map)}return s}function H0(t,e,n,r){if(Gv(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return Rne(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...yk(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(JI(a)&&(a={...a}),JI(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=ZI(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||QI(c)&&QI(a)?t[o]=H0(c,a,n,r):c==null&&ere(a)?t[o]=H0({},a,n,r):c==null&&Xne(a)?t[o]=ZI(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function nre(t,...e){return tre(t,...e,One)}var rre=Object.defineProperty,sre=Object.defineProperties,ire=Object.getOwnPropertyDescriptors,XI=Object.getOwnPropertySymbols,ore=Object.prototype.hasOwnProperty,are=Object.prototype.propertyIsEnumerable,ex=(t,e,n)=>e in t?rre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yf=(t,e)=>{for(var n in e||(e={}))ore.call(e,n)&&ex(t,n,e[n]);if(XI)for(var n of XI(e))are.call(e,n)&&ex(t,n,e[n]);return t},cre=(t,e)=>sre(t,ire(e));function vr(t,e,n){var r;const s=$c(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${mk}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function Fa(t){return t.includes(":")?t.split(":")[1]:t}function Ak(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function lre(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function Dy(t={},e={}){const n=tx(t),r=tx(e);return nre(n,r)}function tx(t){var e,n,r,s;const i={};if(!Ud(t))return i;for(const[o,a]of Object.entries(t)){const c=Hv(o)?[o]:a.chains,l=a.methods||[],u=a.events||[],d=a.rpcMap||{},h=Du(o);i[h]=cre(yf(yf({},i[h]),a),{chains:zf(c,(e=i[h])==null?void 0:e.chains),methods:zf(l,(n=i[h])==null?void 0:n.methods),events:zf(u,(r=i[h])==null?void 0:r.events),rpcMap:yf(yf({},d),(s=i[h])==null?void 0:s.rpcMap)})}return i}function nx(t){return t.includes(":")?t.split(":")[2]:t}function rx(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=Hv(n)?[n]:r.chains?r.chains:Ak(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function By(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Ik={},Ke=t=>Ik[t],$y=(t,e)=>{Ik[t]=e};var ure=Object.defineProperty,dre=(t,e,n)=>e in t?ure(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rc=(t,e,n)=>dre(t,typeof e!="symbol"?e+"":e,n);class hre{constructor(e){rc(this,"name","polkadot"),rc(this,"client"),rc(this,"httpProviders"),rc(this,"events"),rc(this,"namespace"),rc(this,"chainId"),this.namespace=e.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ur.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Fa(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||vr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Fr(new gs(r,Ke("disableProviderPing")))}}var fre=Object.defineProperty,pre=Object.defineProperties,gre=Object.getOwnPropertyDescriptors,sx=Object.getOwnPropertySymbols,mre=Object.prototype.hasOwnProperty,yre=Object.prototype.propertyIsEnumerable,q0=(t,e,n)=>e in t?fre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ix=(t,e)=>{for(var n in e||(e={}))mre.call(e,n)&&q0(t,n,e[n]);if(sx)for(var n of sx(e))yre.call(e,n)&&q0(t,n,e[n]);return t},ox=(t,e)=>pre(t,gre(e)),sc=(t,e,n)=>q0(t,typeof e!="symbol"?e+"":e,n);class bre{constructor(e){sc(this,"name","eip155"),sc(this,"client"),sc(this,"chainId"),sc(this,"namespace"),sc(this,"httpProviders"),sc(this,"events"),this.namespace=e.namespace,this.events=Ke("events"),this.client=Ke("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Ur.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||vr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Fr(new gs(r,Ke("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(Fa(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s;const i=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0];if(!i)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((s=o==null?void 0:o.sessionProperties)==null?void 0:s.capabilities)||{};if(a!=null&&a[i])return a==null?void 0:a[i];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:ox(ix({},o.sessionProperties||{}),{capabilities:ox(ix({},a||{}),{[i]:c})})})}catch(l){console.warn("Failed to update session with capabilities",l)}return c}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Yi("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${Tne}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var wre=Object.defineProperty,vre=(t,e,n)=>e in t?wre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ic=(t,e,n)=>vre(t,typeof e!="symbol"?e+"":e,n);class Ere{constructor(e){ic(this,"name","solana"),ic(this,"client"),ic(this,"httpProviders"),ic(this,"events"),ic(this,"namespace"),ic(this,"chainId"),this.namespace=e.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ur.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Fa(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||vr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Fr(new gs(r,Ke("disableProviderPing")))}}var Cre=Object.defineProperty,Are=(t,e,n)=>e in t?Cre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oc=(t,e,n)=>Are(t,typeof e!="symbol"?e+"":e,n);class Ire{constructor(e){oc(this,"name","cosmos"),oc(this,"client"),oc(this,"httpProviders"),oc(this,"events"),oc(this,"namespace"),oc(this,"chainId"),this.namespace=e.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ur.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Fa(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||vr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Fr(new gs(r,Ke("disableProviderPing")))}}var xre=Object.defineProperty,Sre=(t,e,n)=>e in t?xre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ac=(t,e,n)=>Sre(t,typeof e!="symbol"?e+"":e,n);class _re{constructor(e){ac(this,"name","algorand"),ac(this,"client"),ac(this,"httpProviders"),ac(this,"events"),ac(this,"namespace"),ac(this,"chainId"),this.namespace=e.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||vr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Ur.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||vr(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Fr(new gs(r,Ke("disableProviderPing")))}}var Pre=Object.defineProperty,Tre=(t,e,n)=>e in t?Pre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cc=(t,e,n)=>Tre(t,typeof e!="symbol"?e+"":e,n);class Ore{constructor(e){cc(this,"name","cip34"),cc(this,"client"),cc(this,"httpProviders"),cc(this,"events"),cc(this,"namespace"),cc(this,"chainId"),this.namespace=e.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ur.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=Fa(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Fr(new gs(r,Ke("disableProviderPing")))}}var Rre=Object.defineProperty,Nre=(t,e,n)=>e in t?Rre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lc=(t,e,n)=>Nre(t,typeof e!="symbol"?e+"":e,n);class kre{constructor(e){lc(this,"name","elrond"),lc(this,"client"),lc(this,"httpProviders"),lc(this,"events"),lc(this,"namespace"),lc(this,"chainId"),this.namespace=e.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ur.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Fa(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||vr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Fr(new gs(r,Ke("disableProviderPing")))}}var Dre=Object.defineProperty,Bre=(t,e,n)=>e in t?Dre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uc=(t,e,n)=>Bre(t,typeof e!="symbol"?e+"":e,n);class $re{constructor(e){uc(this,"name","multiversx"),uc(this,"client"),uc(this,"httpProviders"),uc(this,"events"),uc(this,"namespace"),uc(this,"chainId"),this.namespace=e.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ur.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Fa(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||vr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Fr(new gs(r,Ke("disableProviderPing")))}}var Lre=Object.defineProperty,Fre=(t,e,n)=>e in t?Lre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dc=(t,e,n)=>Fre(t,typeof e!="symbol"?e+"":e,n);class Ure{constructor(e){dc(this,"name","near"),dc(this,"client"),dc(this,"httpProviders"),dc(this,"events"),dc(this,"namespace"),dc(this,"chainId"),this.namespace=e.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||vr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ur.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||vr(e,this.namespace);return typeof r>"u"?void 0:new Fr(new gs(r,Ke("disableProviderPing")))}}var Mre=Object.defineProperty,zre=(t,e,n)=>e in t?Mre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hc=(t,e,n)=>zre(t,typeof e!="symbol"?e+"":e,n);class Vre{constructor(e){hc(this,"name","tezos"),hc(this,"client"),hc(this,"httpProviders"),hc(this,"events"),hc(this,"namespace"),hc(this,"chainId"),this.namespace=e.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||vr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ur.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||vr(e,this.namespace);return typeof r>"u"?void 0:new Fr(new gs(r))}}var jre=Object.defineProperty,Hre=(t,e,n)=>e in t?jre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fc=(t,e,n)=>Hre(t,typeof e!="symbol"?e+"":e,n);class qre{constructor(e){fc(this,"name",Cc),fc(this,"client"),fc(this,"httpProviders"),fc(this,"events"),fc(this,"namespace"),fc(this,"chainId"),this.namespace=e.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ur.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=$c(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||vr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Fr(new gs(r,Ke("disableProviderPing")))}}var Wre=Object.defineProperty,Gre=Object.defineProperties,Kre=Object.getOwnPropertyDescriptors,ax=Object.getOwnPropertySymbols,Yre=Object.prototype.hasOwnProperty,Qre=Object.prototype.propertyIsEnumerable,W0=(t,e,n)=>e in t?Wre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bf=(t,e)=>{for(var n in e||(e={}))Yre.call(e,n)&&W0(t,n,e[n]);if(ax)for(var n of ax(e))Qre.call(e,n)&&W0(t,n,e[n]);return t},Ly=(t,e)=>Gre(t,Kre(e)),Sr=(t,e,n)=>W0(t,typeof e!="symbol"?e+"":e,n);class Yv{constructor(e){Sr(this,"client"),Sr(this,"namespaces"),Sr(this,"optionalNamespaces"),Sr(this,"sessionProperties"),Sr(this,"scopedProperties"),Sr(this,"events",new gw),Sr(this,"rpcProviders",{}),Sr(this,"session"),Sr(this,"providerOpts"),Sr(this,"logger"),Sr(this,"uri"),Sr(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:sh(Dl({level:(e==null?void 0:e.logger)||YI})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new Yv(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:bf({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,Lg(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:wt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=rx(this.session.namespaces);this.namespaces=Dy(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=rx(s.namespaces);return this.namespaces=Dy(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===Cc?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(no(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await bne.init({core:this.providerOpts.core,logger:this.providerOpts.logger||YI,relayUrl:this.providerOpts.relayUrl||Sne,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Du(n)))];$y("client",this.client),$y("events",this.events),$y("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=lre(n,this.session),s=Ak(r),i=Dy(this.namespaces,this.optionalNamespaces),o=Ly(bf({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new bre({namespace:o});break;case"algorand":this.rpcProviders[n]=new _re({namespace:o});break;case"solana":this.rpcProviders[n]=new Ere({namespace:o});break;case"cosmos":this.rpcProviders[n]=new Ire({namespace:o});break;case"polkadot":this.rpcProviders[n]=new hre({namespace:o});break;case"cip34":this.rpcProviders[n]=new Ore({namespace:o});break;case"elrond":this.rpcProviders[n]=new kre({namespace:o});break;case"multiversx":this.rpcProviders[n]=new $re({namespace:o});break;case"near":this.rpcProviders[n]=new Ure({namespace:o});break;case"tezos":this.rpcProviders[n]=new Vre({namespace:o});break;default:this.rpcProviders[Cc]?this.rpcProviders[Cc].updateNamespace(o):this.rpcProviders[Cc]=new qre({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&no(o)&&this.events.emit("accountsChanged",o.map(nx))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=Du(o),l=By(o)!==By(a)?`${c}:${By(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=Ly(bf({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Ly(bf({},wt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ur.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Cc]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:r,sessionProperties:s,scopedProperties:i}=e;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>Du(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=Du(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(nx);if(!no(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${mf}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${mf}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${mf}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(mf)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}}var bl={};const Zre="https://secure.walletconnect.org/sdk",Jre=(typeof process<"u"&&typeof bl<"u"?bl.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Zre,Xre=(typeof process<"u"&&typeof bl<"u"?bl.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",ese=(typeof process<"u"&&typeof bl<"u"?bl.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",le={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Vt={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},To=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Ht=bt({...To}),vn={state:Ht,subscribeKey(t,e){return Mn(Ht,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Ce.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Ht.message=To.message,Ht.variant=To.variant,Ht.svg=To.svg,Ht.open=To.open,Ht.autoClose=To.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=To.autoClose}){Ht.open?(Ht.open=!1,setTimeout(()=>{Ht.message=t,Ht.variant=n,Ht.svg=e,Ht.open=!0,Ht.autoClose=r},150)):(Ht.message=t,Ht.variant=n,Ht.svg=e,Ht.open=!0,Ht.autoClose=r)}},Wu={getSIWX(){return Z.state.siwx},async initializeIfEnabled(){var i;const t=Z.state.siwx,e=$.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if($.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await Bt.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),ct.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=pt._getClient())==null?void 0:i.disconnect().catch(console.error)),Xe.reset("Connect"),vn.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=Z.state.siwx,e=Ce.getPlainAddress($.getActiveCaipAddress()),n=$.getActiveCaipNetwork(),r=pt._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();Ne.getConnectorId(n.chainNamespace)===Y.CONNECTOR_ID.AUTH&&Xe.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),Bt.close(),ct.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!Bt.state.open||Xe.state.view==="ApproveTransaction")&&await Bt.open({view:"SIWXSignMessage"}),i.isSmartAccount?vn.showError("This application might not support Smart Accounts"):vn.showError("Signature declined"),ct.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await pt.disconnect():Bt.close(),Xe.reset("Connect"),ct.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=Z.state.siwx,e=Ce.getPlainAddress($.getActiveCaipAddress()),n=$.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=Xe.state.view==="ApproveTransaction",r=Xe.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=Wu.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=$.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(vn.showLoading("Authenticating...",{autoClose:!1}),ae.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),ct.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Wu.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),ct.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Wu.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{vn.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=$.state.activeChain;return{network:((e=$.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=ae.state.preferredAccountTypes)==null?void 0:n[t])===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},ut=bt({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),tse={state:ut,subscribe(t){return Fn(ut,()=>t(ut))},setLastNetworkInView(t){ut.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");ut.loading=!0;try{const s=await ve.fetchTransactions({account:t,cursor:ut.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=this.filterSpamTransactions(s.data),o=this.filterByConnectedChain(i),a=[...ut.transactions,...o];ut.loading=!1,e==="coinbase"?ut.coinbaseTransactions=this.groupTransactionsByYearAndMonth(ut.coinbaseTransactions,s.data):(ut.transactions=a,ut.transactionsByYear=this.groupTransactionsByYearAndMonth(ut.transactionsByYear,o)),ut.empty=a.length===0,ut.next=s.next?s.next:void 0}catch{const i=$.state.activeChain;ct.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Z.state.projectId,cursor:ut.next,isSmartAccount:((r=ae.state.preferredAccountTypes)==null?void 0:r[i])===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}}),vn.showError("Failed to fetch transactions"),ut.loading=!1,ut.empty=!0,ut.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){ut.next=void 0},resetTransactions(){ut.transactions=[],ut.transactionsByYear={},ut.lastNetworkInView=void 0,ut.loading=!1,ut.empty=!1,ut.next=void 0}},dt=bt({wcError:!1,buffering:!1,status:"disconnected"});let pc;const pt={state:dt,subscribeKey(t,e){return Mn(dt,t,e)},_getClient(){return dt._client},setClient(t){dt._client=fa(t)},async connectWalletConnect(){var t,e,n,r;if(Ce.isTelegram()||Ce.isSafari()&&Ce.isIos()){if(pc){await pc,pc=void 0;return}if(!Ce.isPairingExpired(dt==null?void 0:dt.wcPairingExpiry)){const s=dt.wcUri;dt.wcUri=s;return}pc=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await pc,pc=void 0,dt.wcPairingExpiry=void 0,this.state.status="connected"}else await((r=(n=this._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var r,s;await((s=(r=this._getClient())==null?void 0:r.connectExternal)==null?void 0:s.call(r,t)),n&&$.setActiveNamespace(e)},async reconnectExternal(t){var n,r;await((r=(n=this._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||$.state.activeChain;e&&Ne.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;Bt.setLoading(!0,$.state.activeChain);const n=Ne.getAuthConnector();n&&(ae.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),re.setPreferredAccountTypes(ae.state.preferredAccountTypes??{[e]:t}),await this.reconnectExternal(n),Bt.setLoading(!1,$.state.activeChain),ct.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){dt.wcUri=void 0,dt.wcPairingExpiry=void 0,dt.wcLinking=void 0,dt.recentWallet=void 0,dt.status="disconnected",tse.resetTransactions(),re.deleteWalletConnectDeepLink()},resetUri(){dt.wcUri=void 0,dt.wcPairingExpiry=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=pt.state;t&&re.setWalletConnectDeepLink(t),e&&re.setAppKitRecent(e),ct.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=Xe.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){dt.wcBasic=t},setUri(t){dt.wcUri=t,dt.wcPairingExpiry=Ce.getPairingExpiry()},setWcLinking(t){dt.wcLinking=t},setWcError(t){dt.wcError=t,dt.buffering=!1},setRecentWallet(t){dt.recentWallet=t},setBuffering(t){dt.buffering=t},setStatus(t){dt.status=t},async disconnect(t){try{Bt.setLoading(!0,t),await Wu.clearSessions(),await $.disconnect(t),Bt.setLoading(!1,t),Ne.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},gc=bt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ds={state:gc,subscribe(t){return Fn(gc,()=>t(gc))},subscribeOpen(t){return Mn(gc,"open",t)},set(t){Object.assign(gc,{...gc,...t})}},Fy={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Sl(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},cx={async getMyTokensWithBalance(t){const e=ae.state.address,n=$.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const s=await this.getEIP155Balances(e,n);if(s)return this.filterLowQualityTokens(s)}const r=await ve.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){var n,r;try{const s=Fy.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await pt.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await pt.walletGetAssets({account:t,chainFilter:[s]});return Fy.isWalletGetAssetsResponse(o)?(o[s]||[]).map(c=>Fy.createBalance(c,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:$.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},ze=bt({tokenBalances:[],loading:!1}),lx={state:ze,subscribe(t){return Fn(ze,()=>t(ze))},subscribeKey(t,e){return Mn(ze,t,e)},setToken(t){t&&(ze.token=fa(t))},setTokenAmount(t){ze.sendTokenAmount=t},setReceiverAddress(t){ze.receiverAddress=t},setReceiverProfileImageUrl(t){ze.receiverProfileImageUrl=t},setReceiverProfileName(t){ze.receiverProfileName=t},setGasPrice(t){ze.gasPrice=t},setGasPriceInUsd(t){ze.gasPriceInUSD=t},setNetworkBalanceInUsd(t){ze.networkBalanceInUSD=t},setLoading(t){ze.loading=t},sendToken(){var t;switch((t=$.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var n,r,s,i,o,a;const t=$.state.activeChain,e=(n=ae.state.preferredAccountTypes)==null?void 0:n[t];(r=this.state.token)!=null&&r.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(ct.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((i=this.state.token)!=null&&i.quantity.decimals)&&(ct.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,token:(o=this.state.token)==null?void 0:o.symbol,amount:this.state.sendTokenAmount,network:((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;ze.loading=!0;const e=(i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=$.state.activeCaipAddress,s=r?Ce.getPlainAddress(r):void 0;if(ze.lastRetry&&!Ce.isAllowedRetry(ze.lastRetry,30*an.ONE_SEC_MS))return ze.loading=!1,[];try{if(s&&e&&n){const a=await cx.getMyTokensWithBalance();return ze.tokenBalances=a,ze.lastRetry=void 0,a}}catch(a){ze.lastRetry=Date.now(),t==null||t(a),vn.showError("Token Balance Unavailable")}finally{ze.loading=!1}return[]},fetchNetworkBalance(){if(ze.tokenBalances.length===0)return;const t=cx.mapBalancesToSwapTokens(ze.tokenBalances);if(!t)return;const e=t.find(n=>n.address===$.getActiveNetworkTokenAddress());e&&(ze.networkBalanceInUSD=e?Jh.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const n=e||"0";return Jh.bigNumber(t).eq(0)?!0:Jh.bigNumber(Jh.bigNumber(n)).gt(t)},hasInsufficientGasFunds(){var n;const t=$.state.activeChain;let e=!0;return((n=ae.state.preferredAccountTypes)==null?void 0:n[t])===Vt.ACCOUNT_TYPES.SMART_ACCOUNT?e=!1:ze.networkBalanceInUSD&&(e=this.isInsufficientNetworkTokenForGas(ze.networkBalanceInUSD,ze.gasPriceInUSD)),e},async sendNativeToken(t){var o,a,c,l,u,d;const e=$.state.activeChain;Xe.pushTransactionStack({view:"Account",goBack:!1});const n=t.receiverAddress,r=ae.state.address,s=pt.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),i="0x";try{await pt.sendTransaction({chainNamespace:"eip155",to:n,address:r,data:i,value:s??BigInt(0),gasPrice:t.gasPrice}),vn.showSuccess("Transaction started"),ct.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((o=ae.state.preferredAccountTypes)==null?void 0:o[e])===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=this.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=$.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||""}}),this.resetSend()}catch(h){console.error("SendController:sendERC20Token - failed to send native token",h);const f=h instanceof Error?h.message:"Unknown error";ct.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:f,isSmartAccount:((l=ae.state.preferredAccountTypes)==null?void 0:l[e])===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,token:((u=this.state.token)==null?void 0:u.symbol)||"",amount:t.sendTokenAmount,network:((d=$.state.activeCaipNetwork)==null?void 0:d.caipNetworkId)||""}}),vn.showError("Something went wrong")}},async sendERC20Token(t){var n,r,s;Xe.pushTransactionStack({view:"Account",goBack:!1});const e=pt.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(ae.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const i=Ce.getPlainAddress(t.tokenAddress);await pt.writeContract({fromAddress:ae.state.address,tokenAddress:i,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:wz.getERC20Abi(i),chainNamespace:"eip155"}),vn.showSuccess("Transaction started"),this.resetSend()}}catch(i){console.error("SendController:sendERC20Token - failed to send erc20 token",i);const o=i instanceof Error?i.message:"Unknown error";ct.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:o,isSmartAccount:((n=ae.state.preferredAccountTypes)==null?void 0:n.eip155)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,token:((r=this.state.token)==null?void 0:r.symbol)||"",amount:t.sendTokenAmount,network:((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),vn.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){vn.showError("Please enter a valid amount and receiver address");return}Xe.pushTransactionStack({view:"Account",goBack:!1}),pt.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),ae.fetchTokenBalance()}).catch(t=>{vn.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){ze.token=void 0,ze.sendTokenAmount=void 0,ze.receiverAddress=void 0,ze.receiverProfileImageUrl=void 0,ze.receiverProfileName=void 0,ze.loading=!1,ze.tokenBalances=[]}},Uy={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},wf={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},X=bt({chains:oz(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),$={state:X,subscribe(t){return Fn(X,()=>{t(X)})},subscribeKey(t,e){return Mn(X,t,e)},subscribeChainProp(t,e,n){let r;return Fn(X.chains,()=>{var i;const s=n||X.activeChain;if(s){const o=(i=X.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=re.getActiveNetworkProps(),i=e==null?void 0:e.find(l=>l.id.toString()===(r==null?void 0:r.toString())),a=t.find(l=>(l==null?void 0:l.namespace)===s)||(t==null?void 0:t[0]),c=new Set([...(e==null?void 0:e.map(l=>l.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(X.noAdapters=!0),X.noAdapters||(X.activeChain=a==null?void 0:a.namespace,X.activeCaipNetwork=i,this.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),X.activeChain&&Ds.set({activeChain:a==null?void 0:a.namespace})),c.forEach(l=>{const u=e==null?void 0:e.filter(d=>d.chainNamespace===l);$.state.chains.set(l,{namespace:l,networkState:bt({...wf,caipNetwork:u==null?void 0:u[0]}),accountState:bt(Uy),caipNetworks:u??[],...n}),this.setRequestedCaipNetworks(u??[],l)})},removeAdapter(t){var e,n;if(X.activeChain===t){const r=Array.from(X.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&this.setActiveCaipNetwork(s)}}X.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){X.chains.set(t.namespace,{namespace:t.namespace,networkState:{...wf,caipNetwork:r[0]},accountState:Uy,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),this.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=X.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),X.chains.set(t.chainNamespace,{...e,caipNetworks:r}),this.setRequestedCaipNetworks(r,t.chainNamespace)}},removeNetwork(t,e){var r,s,i;const n=X.chains.get(t);if(n){const o=((r=X.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&this.setActiveCaipNetwork(n.caipNetworks[0]),X.chains.set(t,{...n,caipNetworks:a}),this.setRequestedCaipNetworks(a||[],t)}},setAdapterNetworkState(t,e){const n=X.chains.get(t);n&&(n.networkState={...n.networkState||wf,...e},X.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=X.chains.get(t);if(r){const s={...r.accountState||Uy,...e};X.chains.set(t,{...r,accountState:s}),(X.chains.size===1||X.activeChain===t)&&(e.caipAddress&&(X.activeCaipAddress=e.caipAddress),ae.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=X.chains.get(t);if(n){const r={...n.networkState||wf,...e};X.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){this.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Ne.removeConnectorId(n)},setActiveNamespace(t){var r,s;X.activeChain=t;const e=t?X.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(X.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,X.activeCaipNetwork=n,this.setChainNetworkData(t,{caipNetwork:n}),re.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Ds.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;X.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=X.chains.get(t.chainNamespace);X.activeChain=t.chainNamespace,X.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?X.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:X.activeCaipAddress=void 0,this.setAccountProp("caipAddress",X.activeCaipAddress,t.chainNamespace),e&&ae.replaceState(e.accountState),lx.resetSend(),Ds.set({activeChain:X.activeChain,selectedNetworkId:(i=X.activeCaipNetwork)==null?void 0:i.caipNetworkId}),re.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&Z.state.enableNetworkSwitch&&!Z.state.allowUnsupportedChain&&!pt.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=X.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==$.state.activeChain,n=(s=$.getNetworkData(t))==null?void 0:s.caipNetwork,r=$.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await $.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=$.state.chains.get($.state.activeChain);!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=X.activeCaipNetwork)==null?void 0:o.id)}))&&Xe.goBack();const r=this.getNetworkControllerClient(t.chainNamespace);r&&(await r.switchCaipNetwork(t),ct.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||X.activeChain,n=X.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||X.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=X.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=X.activeChain;if(e&&(n=e),!n)return;const r=(s=X.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=X.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=X.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return Ce.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return X.chains.forEach(e=>{const n=this.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return X.chains.forEach(e=>{const n=this.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return X.activeCaipNetwork},getActiveCaipAddress(){return X.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=X.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||X.activeCaipNetwork,r=this.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!X.activeChain)return!0;const e=this.getRequestedCaipNetworks(X.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=Td.caipNetworkIdToNumber((r=X.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=X.activeChain;if(!e||!t)return!1;const n=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var r,s;const t=((r=X.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=X.activeCaipNetwork)==null?void 0:s.id)||1,n=an.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){Bt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=X.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&an.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");X.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Ne.removeConnectorId(e)},async disconnect(t){const e=Rz(t);try{lx.resetSend();const n=await Promise.allSettled(e.map(async([s,i])=>{var o;try{const{caipAddress:a}=this.getAccountData(s)||{};a&&((o=i.connectionControllerClient)!=null&&o.disconnect)&&await i.connectionControllerClient.disconnect(s),this.resetAccount(s),this.resetNetwork(s)}catch(a){throw new Error(`Failed to disconnect chain ${s}: ${a.message}`)}}));pt.resetWcConnection();const r=n.filter(s=>s.status==="rejected");if(r.length>0)throw new Error(r.map(s=>s.reason.message).join(", "));re.deleteConnectedSocialProvider(),t?Ne.removeConnectorId(t):Ne.resetConnectorIds(),ct.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),ct.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){X.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(X.chains.forEach(s=>{Y.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=X.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=$.state.chains.get(t))==null?void 0:e.accountState:ae.state},getNetworkData(t){var n;const e=t||X.activeChain;if(e)return(n=$.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=$.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=Ne.state.filterByNamespace;return(t?[X.chains.get(t)]:Array.from(X.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?$.getRequestedCaipNetworks(t):$.getAllRequestedCaipNetworks()}},nse={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},xk=Ce.getBlockchainApiUrl(),or=bt({clientId:null,api:new Ag({baseUrl:xk,clientId:null}),supportedChains:{http:[],ws:[]}}),ve={state:or,async get(t){const{st:e,sv:n}=ve.getSdkProperties(),r=Z.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return or.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Z.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{or.supportedChains.http.length||await ve.getSupportedNetworks()}catch{return!1}return or.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await ve.get({path:"v1/supported-chains"});return or.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await ve.isNetworkSupported(e))return{avatar:"",name:""};const r=re.getIdentityFromCacheForAddress(t);if(r)return r;const s=await ve.get({path:`/v1/identity/${t}`,params:{sender:$.state.activeCaipAddress?Ce.getPlainAddress($.state.activeCaipAddress):void 0}});return re.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:i}){var a;return await ve.isNetworkSupported((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?ve.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:i},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await ve.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?ve.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await ve.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ve.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await ve.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?or.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Z.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await ve.isNetworkSupported((r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ve.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=ve.getSdkProperties();if(!await ve.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return ve.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await ve.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return or.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:an.CONVERT_SLIPPAGE_TOLERANCE},projectId:Z.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=ve.getSdkProperties();if(!await ve.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return ve.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=ve.getSdkProperties();if(!await ve.isNetworkSupported((l=$.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return vn.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=re.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await ve.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return re.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await ve.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ve.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await ve.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ve.get({path:`/v1/profile/reverse/${t}`,params:{sender:ae.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await ve.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ve.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await ve.isNetworkSupported((i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?or.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await ve.isNetworkSupported((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await or.api.post({path:"/v1/generators/onrampurl",params:{projectId:Z.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await ve.isNetworkSupported((e=$.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await ve.get({path:"/v1/onramp/options"})}catch{return nse}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await ve.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await or.api.post({path:"/v1/onramp/quote",params:{projectId:Z.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await ve.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ve.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await ve.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?or.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Z.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){or.clientId=t,or.api=new Ag({baseUrl:xk,clientId:t})}},_r=bt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),ae={state:_r,replaceState(t){t&&Object.assign(_r,fa(t))},subscribe(t){return $.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return $.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){$.setAccountProp("status",t,e)},getCaipAddress(t){return $.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?Ce.getPlainAddress(t):void 0;e===$.state.activeChain&&($.state.activeCaipAddress=t),$.setAccountProp("caipAddress",t,e),$.setAccountProp("address",n,e)},setBalance(t,e,n){$.setAccountProp("balance",t,n),$.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){$.setAccountProp("profileName",t,e)},setProfileImage(t,e){$.setAccountProp("profileImage",t,e)},setUser(t,e){$.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){$.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){$.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){$.setAccountProp("currentTab",t,$.state.activeChain)},setTokenBalance(t,e){t&&$.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){$.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){$.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=$.getAccountProp("addressLabels",n)||new Map;r.set(t,e),$.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=$.getAccountProp("addressLabels",e)||new Map;n.delete(t),$.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){$.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){$.setAccountProp("preferredAccountTypes",{..._r.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){_r.preferredAccountTypes=t},setSocialProvider(t,e){t&&$.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){$.setAccountProp("socialWindow",t?fa(t):void 0,e)},setFarcasterUrl(t,e){$.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;_r.balanceLoading=!0;const e=(i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=$.state.activeCaipAddress,s=r?Ce.getPlainAddress(r):void 0;if(_r.lastRetry&&!Ce.isAllowedRetry(_r.lastRetry,30*an.ONE_SEC_MS))return _r.balanceLoading=!1,[];try{if(s&&e&&n){const c=(await ve.getBalance(s,e)).balances.filter(l=>l.quantity.decimals!=="0");return this.setTokenBalance(c,n),_r.lastRetry=void 0,_r.balanceLoading=!1,c}}catch(a){_r.lastRetry=Date.now(),t==null||t(a),vn.showError("Token Balance Unavailable")}finally{_r.balanceLoading=!1}return[]},resetAccount(t){$.resetAccount(t)}},Hn=bt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Bt={state:Hn,subscribe(t){return Fn(Hn,()=>t(Hn))},subscribeKey(t,e){return Mn(Hn,t,e)},async open(t){var s;const e=ae.state.status==="connected";pt.state.wcBasic?Ie.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Ie.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await $.switchActiveNamespace(t.namespace),Bt.setLoading(!0,t.namespace)):Bt.setLoading(!0),Ne.setFilterByNamespace(t==null?void 0:t.namespace);const n=(s=$.getAccountData(t==null?void 0:t.namespace))==null?void 0:s.caipAddress;$.state.noAdapters&&!n?Ce.isMobile()?Xe.reset("AllWallets"):Xe.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?Xe.reset(t.view,t.data):n?Xe.reset("Account"):Xe.reset("Connect"),Hn.open=!0,Ds.set({open:!0}),ct.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!n}})},close(){const t=Z.state.enableEmbedded,e=!!$.state.activeCaipAddress;Hn.open&&ct.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Hn.open=!1,Bt.clearLoading(),t?e?Xe.replace("Account"):Xe.push("Connect"):Ds.set({open:!1}),pt.resetUri()},setLoading(t,e){e&&Hn.loadingNamespaceMap.set(e,t),Hn.loading=t,Ds.set({loading:t})},clearLoading(){Hn.loadingNamespaceMap.clear(),Hn.loading=!1},shake(){Hn.shake||(Hn.shake=!0,setTimeout(()=>{Hn.shake=!1},500))}},ux=2147483648,rse={convertEVMChainIdToCoinType(t){if(t>=ux)throw new Error("Invalid chainId");return(ux|t)>>>0}},Pr=bt({suggestions:[],loading:!1}),Sk={state:Pr,subscribe(t){return Fn(Pr,()=>t(Pr))},subscribeKey(t,e){return Mn(Pr,t,e)},async resolveName(t){var e,n;try{return await ve.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await ve.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Pr.loading=!0,Pr.suggestions=[];const e=await ve.getEnsNameSuggestions(t);return Pr.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Pr.suggestions}catch(e){const n=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Pr.loading=!1}},async getNamesForAddress(t){try{if(!$.state.activeCaipNetwork)return[];const n=re.getEnsFromCacheForAddress(t);if(n)return n;const r=await ve.reverseLookupEnsName({address:t});return re.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=$.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=ae.state.address,r=Ne.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Pr.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Xe.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){Pr.loading=!1}});const i=await pt.signMessage(s),o=e.id;if(!o)throw new Error("Network not found");const a=rse.convertEVMChainIdToCoinType(Number(o));await ve.registerEnsName({coinType:a,address:n,signature:i,message:s}),ae.setProfileName(t,e.chainNamespace),Xe.replace("RegisterAccountNameSuccess")}catch(s){const i=this.parseEnsApiError(s,`Error registering name ${t}`);throw Xe.replace("RegisterAccountName"),new Error(i)}finally{Pr.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},yt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Qi={ConnectorExplorerIds:{[Y.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Y.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Y.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Y.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Y.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[yt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[yt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[yt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[yt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[yt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[yt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[yt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[yt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[yt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[yt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[yt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Y.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Y.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Y.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Y.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Y.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Y.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Y.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Y.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Y.CONNECTOR_ID.COINBASE]:"Coinbase",[Y.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Y.CONNECTOR_ID.LEDGER]:"Ledger",[Y.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Y.CONNECTOR_ID.INJECTED]:"INJECTED",[Y.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Y.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Y.CONNECTOR_ID.AUTH]:"AUTH"}},Kg={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${yt.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},Ho={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${sse()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function sse(){return typeof window<"u"}const ise={createLogger(t,e="error"){const n=Dl({level:e}),{logger:r}=Ev({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},ose="rpc.walletconnect.org";function dx(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const My=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Ts={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===ose}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Y.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Y.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return My.includes(e)?dx(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,g,p,m;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,i,n),c=((p=(g=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:g.http)==null?void 0:p[0])||o,l=((m=r==null?void 0:r[i])==null?void 0:m.map(y=>y.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:Qi.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>Ts.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(Mo(a.url,a.config))}),My.includes(t.caipNetworkId)&&r.push(Mo(dx(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(Mo(a))}),O1(r)},extendWagmiTransports(t,e,n){if(My.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return O1([n,Mo(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Y.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=re.getActiveCaipNetworkId(),n=$.getAllRequestedCaipNetworks(),r=Array.from(((c=$.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},_p={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},qn=bt({providers:{..._p},providerIds:{..._p}}),tt={state:qn,subscribeKey(t,e){return Mn(qn,t,e)},subscribe(t){return Fn(qn,()=>{t(qn)})},subscribeProviders(t){return Fn(qn.providers,()=>t(qn.providers))},setProvider(t,e){e&&(qn.providers[t]=fa(e))},getProvider(t){return qn.providers[t]},setProviderId(t,e){e&&(qn.providerIds[t]=e)},getProviderId(t){if(t)return qn.providerIds[t]},reset(){qn.providers={..._p},qn.providerIds={..._p}},resetChain(t){qn.providers[t]=void 0,qn.providerIds[t]=void 0}},hx={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},yn={set(t,e){pr.isClient&&localStorage.setItem(`${le.STORAGE_KEY}${t}`,e)},get(t){return pr.isClient?localStorage.getItem(`${le.STORAGE_KEY}${t}`):null},delete(t,e){pr.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${le.STORAGE_KEY}${t}`))}},vf=30*1e3,pr={checkIfAllowedToTriggerEmail(){const t=yn.get(le.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<vf){const n=Math.ceil((vf-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=yn.get(le.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<vf)return Math.ceil((vf-e)/1e3)}return 0},checkIfRequestExists(t){return Vt.NOT_SAFE_RPC_METHODS.includes(t.method)||Vt.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(hx.transactionHash))||(t==null?void 0:t.match(hx.signedMessage)))?le.RPC_RESPONSE_TYPE_TX:le.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Vt.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Ge;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ge||(Ge={}));var G0;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(G0||(G0={}));const te=Ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vi=t=>{switch(typeof t){case"undefined":return te.undefined;case"string":return te.string;case"number":return isNaN(t)?te.nan:te.number;case"boolean":return te.boolean;case"function":return te.function;case"bigint":return te.bigint;case"symbol":return te.symbol;case"object":return Array.isArray(t)?te.array:t===null?te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?te.promise:typeof Map<"u"&&t instanceof Map?te.map:typeof Set<"u"&&t instanceof Set?te.set:typeof Date<"u"&&t instanceof Date?te.date:te.object;default:return te.unknown}},J=Ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ase=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class rs extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}rs.create=t=>new rs(t);const Md=(t,e)=>{let n;switch(t.code){case J.invalid_type:t.received===te.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ge.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ge.joinValues(t.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ge.joinValues(t.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${Ge.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ge.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case J.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case J.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ge.assertNever(t)}return{message:n}};let _k=Md;function cse(t){_k=t}function Pp(){return _k}const Tp=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},lse=[];function oe(t,e){const n=Tp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pp(),Md].filter(r=>!!r)});t.common.issues.push(n)}class On{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Se;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return On.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Se;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Se=Object.freeze({status:"aborted"}),Pk=t=>({status:"dirty",value:t}),Un=t=>({status:"valid",value:t}),K0=t=>t.status==="aborted",Y0=t=>t.status==="dirty",zd=t=>t.status==="valid",Op=t=>typeof Promise<"u"&&t instanceof Promise;var ge;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ge||(ge={}));class Us{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fx=(t,e)=>{if(zd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new rs(t.common.issues);return this._error=n,this._error}}};function Te(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class $e{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Vi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new On,ctx:{common:e.parent.common,data:e.data,parsedType:Vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Op(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vi(e)},i=this._parseSync({data:e,path:s.path,parent:s});return fx(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vi(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Op(s)?s:Promise.resolve(s));return fx(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:J.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new us({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return fi.create(this,this._def)}nullable(){return Ca.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ss.create(this,this._def)}promise(){return vl.create(this,this._def)}or(e){return qd.create([this,e],this._def)}and(e){return Wd.create(this,e,this._def)}transform(e){return new us({...Te(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Zd({...Te(this._def),innerType:this,defaultValue:n,typeName:we.ZodDefault})}brand(){return new Ok({typeName:we.ZodBranded,type:this,...Te(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Dp({...Te(this._def),innerType:this,catchValue:n,typeName:we.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Bh.create(this,e)}readonly(){return $p.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const use=/^c[^\s-]{8,}$/i,dse=/^[a-z][a-z0-9]*$/,hse=/^[0-9A-HJKMNP-TV-Z]{26}$/,fse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pse=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,gse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zy;const mse=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,yse=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,bse=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function wse(t,e){return!!((e==="v4"||!e)&&mse.test(t)||(e==="v6"||!e)&&yse.test(t))}class ts extends $e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==te.string){const i=this._getOrReturnCtx(e);return oe(i,{code:J.invalid_type,expected:te.string,received:i.parsedType}),Se}const r=new On;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?oe(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&oe(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")pse.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"email",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")zy||(zy=new RegExp(gse,"u")),zy.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"emoji",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")fse.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"uuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")use.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")dse.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid2",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")hse.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ulid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),oe(s,{validation:"url",code:J.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"regex",code:J.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),oe(s,{code:J.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:J.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:J.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?bse(i).test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:J.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?wse(e.data,i.version)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ip",code:J.invalid_string,message:i.message}),r.dirty()):Ge.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:J.invalid_string,...ge.errToObj(r)})}_addCheck(e){return new ts({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ge.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...ge.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ge.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ge.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ge.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ge.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ge.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ge.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ge.errToObj(n)})}nonempty(e){return this.min(1,ge.errToObj(e))}trim(){return new ts({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ts({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ts({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ts.create=t=>{var e;return new ts({checks:[],typeName:we.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};function vse(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class ao extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==te.number){const i=this._getOrReturnCtx(e);return oe(i,{code:J.invalid_type,expected:te.number,received:i.parsedType}),Se}let r;const s=new On;for(const i of this._def.checks)i.kind==="int"?Ge.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),oe(r,{code:J.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),oe(r,{code:J.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),oe(r,{code:J.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?vse(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),oe(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),oe(r,{code:J.not_finite,message:i.message}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,r,s){return new ao({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ge.toString(s)}]})}_addCheck(e){return new ao({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ge.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ao.create=t=>new ao({checks:[],typeName:we.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class co extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==te.bigint){const i=this._getOrReturnCtx(e);return oe(i,{code:J.invalid_type,expected:te.bigint,received:i.parsedType}),Se}let r;const s=new On;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),oe(r,{code:J.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),oe(r,{code:J.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),oe(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,r,s){return new co({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ge.toString(s)}]})}_addCheck(e){return new co({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}co.create=t=>{var e;return new co({checks:[],typeName:we.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};class Vd extends $e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==te.boolean){const r=this._getOrReturnCtx(e);return oe(r,{code:J.invalid_type,expected:te.boolean,received:r.parsedType}),Se}return Un(e.data)}}Vd.create=t=>new Vd({typeName:we.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class va extends $e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==te.date){const i=this._getOrReturnCtx(e);return oe(i,{code:J.invalid_type,expected:te.date,received:i.parsedType}),Se}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return oe(i,{code:J.invalid_date}),Se}const r=new On;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:J.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:J.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ge.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new va({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ge.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ge.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}va.create=t=>new va({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:we.ZodDate,...Te(t)});class Rp extends $e{_parse(e){if(this._getType(e)!==te.symbol){const r=this._getOrReturnCtx(e);return oe(r,{code:J.invalid_type,expected:te.symbol,received:r.parsedType}),Se}return Un(e.data)}}Rp.create=t=>new Rp({typeName:we.ZodSymbol,...Te(t)});class jd extends $e{_parse(e){if(this._getType(e)!==te.undefined){const r=this._getOrReturnCtx(e);return oe(r,{code:J.invalid_type,expected:te.undefined,received:r.parsedType}),Se}return Un(e.data)}}jd.create=t=>new jd({typeName:we.ZodUndefined,...Te(t)});class Hd extends $e{_parse(e){if(this._getType(e)!==te.null){const r=this._getOrReturnCtx(e);return oe(r,{code:J.invalid_type,expected:te.null,received:r.parsedType}),Se}return Un(e.data)}}Hd.create=t=>new Hd({typeName:we.ZodNull,...Te(t)});class wl extends $e{constructor(){super(...arguments),this._any=!0}_parse(e){return Un(e.data)}}wl.create=t=>new wl({typeName:we.ZodAny,...Te(t)});class ra extends $e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Un(e.data)}}ra.create=t=>new ra({typeName:we.ZodUnknown,...Te(t)});class Ei extends $e{_parse(e){const n=this._getOrReturnCtx(e);return oe(n,{code:J.invalid_type,expected:te.never,received:n.parsedType}),Se}}Ei.create=t=>new Ei({typeName:we.ZodNever,...Te(t)});class Np extends $e{_parse(e){if(this._getType(e)!==te.undefined){const r=this._getOrReturnCtx(e);return oe(r,{code:J.invalid_type,expected:te.void,received:r.parsedType}),Se}return Un(e.data)}}Np.create=t=>new Np({typeName:we.ZodVoid,...Te(t)});class ss extends $e{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==te.array)return oe(n,{code:J.invalid_type,expected:te.array,received:n.parsedType}),Se;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(oe(n,{code:o?J.too_big:J.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(oe(n,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(oe(n,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Us(n,o,n.path,a)))).then(o=>On.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Us(n,o,n.path,a)));return On.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ss({...this._def,minLength:{value:e,message:ge.toString(n)}})}max(e,n){return new ss({...this._def,maxLength:{value:e,message:ge.toString(n)}})}length(e,n){return new ss({...this._def,exactLength:{value:e,message:ge.toString(n)}})}nonempty(e){return this.min(1,e)}}ss.create=(t,e)=>new ss({type:t,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...Te(e)});function Ac(t){if(t instanceof Et){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=fi.create(Ac(r))}return new Et({...t._def,shape:()=>e})}else return t instanceof ss?new ss({...t._def,type:Ac(t.element)}):t instanceof fi?fi.create(Ac(t.unwrap())):t instanceof Ca?Ca.create(Ac(t.unwrap())):t instanceof Ms?Ms.create(t.items.map(e=>Ac(e))):t}class Et extends $e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ge.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==te.object){const l=this._getOrReturnCtx(e);return oe(l,{code:J.invalid_type,expected:te.object,received:l.parsedType}),Se}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ei&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Us(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Ei){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(oe(s,{code:J.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Us(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>On.mergeObjectSync(r,l)):On.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return ge.errToObj,new Et({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ge.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Et({...this._def,unknownKeys:"strip"})}passthrough(){return new Et({...this._def,unknownKeys:"passthrough"})}extend(e){return new Et({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Et({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Et({...this._def,catchall:e})}pick(e){const n={};return Ge.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Et({...this._def,shape:()=>n})}omit(e){const n={};return Ge.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Et({...this._def,shape:()=>n})}deepPartial(){return Ac(this)}partial(e){const n={};return Ge.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Et({...this._def,shape:()=>n})}required(e){const n={};return Ge.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof fi;)i=i._def.innerType;n[r]=i}}),new Et({...this._def,shape:()=>n})}keyof(){return Tk(Ge.objectKeys(this.shape))}}Et.create=(t,e)=>new Et({shape:()=>t,unknownKeys:"strip",catchall:Ei.create(),typeName:we.ZodObject,...Te(e)});Et.strictCreate=(t,e)=>new Et({shape:()=>t,unknownKeys:"strict",catchall:Ei.create(),typeName:we.ZodObject,...Te(e)});Et.lazycreate=(t,e)=>new Et({shape:t,unknownKeys:"strip",catchall:Ei.create(),typeName:we.ZodObject,...Te(e)});class qd extends $e{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new rs(a.ctx.common.issues));return oe(n,{code:J.invalid_union,unionErrors:o}),Se}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new rs(c));return oe(n,{code:J.invalid_union,unionErrors:a}),Se}}get options(){return this._def.options}}qd.create=(t,e)=>new qd({options:t,typeName:we.ZodUnion,...Te(e)});const Hf=t=>t instanceof Kd?Hf(t.schema):t instanceof us?Hf(t.innerType()):t instanceof Yd?[t.value]:t instanceof lo?t.options:t instanceof Qd?Object.keys(t.enum):t instanceof Zd?Hf(t._def.innerType):t instanceof jd?[void 0]:t instanceof Hd?[null]:null;class Yg extends $e{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.object)return oe(n,{code:J.invalid_type,expected:te.object,received:n.parsedType}),Se;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(oe(n,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Se)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Hf(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Yg({typeName:we.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Te(r)})}}function Q0(t,e){const n=Vi(t),r=Vi(e);if(t===e)return{valid:!0,data:t};if(n===te.object&&r===te.object){const s=Ge.objectKeys(e),i=Ge.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=Q0(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===te.array&&r===te.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=Q0(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===te.date&&r===te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Wd extends $e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(K0(i)||K0(o))return Se;const a=Q0(i.value,o.value);return a.valid?((Y0(i)||Y0(o))&&n.dirty(),{status:n.value,value:a.data}):(oe(r,{code:J.invalid_intersection_types}),Se)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Wd.create=(t,e,n)=>new Wd({left:t,right:e,typeName:we.ZodIntersection,...Te(n)});class Ms extends $e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.array)return oe(r,{code:J.invalid_type,expected:te.array,received:r.parsedType}),Se;if(r.data.length<this._def.items.length)return oe(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Se;!this._def.rest&&r.data.length>this._def.items.length&&(oe(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Us(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>On.mergeArray(n,o)):On.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Ms({...this._def,rest:e})}}Ms.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ms({items:t,typeName:we.ZodTuple,rest:null,...Te(e)})};class Gd extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.object)return oe(r,{code:J.invalid_type,expected:te.object,received:r.parsedType}),Se;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Us(r,a,r.path,a)),value:o._parse(new Us(r,r.data[a],r.path,a))});return r.common.async?On.mergeObjectAsync(n,s):On.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof $e?new Gd({keyType:e,valueType:n,typeName:we.ZodRecord,...Te(r)}):new Gd({keyType:ts.create(),valueType:e,typeName:we.ZodRecord,...Te(n)})}}class kp extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.map)return oe(r,{code:J.invalid_type,expected:te.map,received:r.parsedType}),Se;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new Us(r,a,r.path,[l,"key"])),value:i._parse(new Us(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Se;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Se;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}kp.create=(t,e,n)=>new kp({valueType:e,keyType:t,typeName:we.ZodMap,...Te(n)});class Ea extends $e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.set)return oe(r,{code:J.invalid_type,expected:te.set,received:r.parsedType}),Se;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(oe(r,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(oe(r,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Se;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new Us(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new Ea({...this._def,minSize:{value:e,message:ge.toString(n)}})}max(e,n){return new Ea({...this._def,maxSize:{value:e,message:ge.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ea.create=(t,e)=>new Ea({valueType:t,minSize:null,maxSize:null,typeName:we.ZodSet,...Te(e)});class Lc extends $e{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.function)return oe(n,{code:J.invalid_type,expected:te.function,received:n.parsedType}),Se;function r(a,c){return Tp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Pp(),Md].filter(l=>!!l),issueData:{code:J.invalid_arguments,argumentsError:c}})}function s(a,c){return Tp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Pp(),Md].filter(l=>!!l),issueData:{code:J.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof vl){const a=this;return Un(async function(...c){const l=new rs([]),u=await a._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})}else{const a=this;return Un(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new rs([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new rs([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Lc({...this._def,args:Ms.create(e).rest(ra.create())})}returns(e){return new Lc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Lc({args:e||Ms.create([]).rest(ra.create()),returns:n||ra.create(),typeName:we.ZodFunction,...Te(r)})}}class Kd extends $e{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Kd.create=(t,e)=>new Kd({getter:t,typeName:we.ZodLazy,...Te(e)});class Yd extends $e{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return oe(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),Se}return{status:"valid",value:e.data}}get value(){return this._def.value}}Yd.create=(t,e)=>new Yd({value:t,typeName:we.ZodLiteral,...Te(e)});function Tk(t,e){return new lo({values:t,typeName:we.ZodEnum,...Te(e)})}class lo extends $e{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return oe(n,{expected:Ge.joinValues(r),received:n.parsedType,code:J.invalid_type}),Se}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return oe(n,{received:n.data,code:J.invalid_enum_value,options:r}),Se}return Un(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return lo.create(e)}exclude(e){return lo.create(this.options.filter(n=>!e.includes(n)))}}lo.create=Tk;class Qd extends $e{_parse(e){const n=Ge.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==te.string&&r.parsedType!==te.number){const s=Ge.objectValues(n);return oe(r,{expected:Ge.joinValues(s),received:r.parsedType,code:J.invalid_type}),Se}if(n.indexOf(e.data)===-1){const s=Ge.objectValues(n);return oe(r,{received:r.data,code:J.invalid_enum_value,options:s}),Se}return Un(e.data)}get enum(){return this._def.values}}Qd.create=(t,e)=>new Qd({values:t,typeName:we.ZodNativeEnum,...Te(e)});class vl extends $e{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.promise&&n.common.async===!1)return oe(n,{code:J.invalid_type,expected:te.promise,received:n.parsedType}),Se;const r=n.parsedType===te.promise?n.data:Promise.resolve(n.data);return Un(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}vl.create=(t,e)=>new vl({type:t,typeName:we.ZodPromise,...Te(e)});class us extends $e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{oe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Se:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Se:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!zd(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>zd(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ge.assertNever(s)}}us.create=(t,e,n)=>new us({schema:t,typeName:we.ZodEffects,effect:e,...Te(n)});us.createWithPreprocess=(t,e,n)=>new us({schema:e,effect:{type:"preprocess",transform:t},typeName:we.ZodEffects,...Te(n)});class fi extends $e{_parse(e){return this._getType(e)===te.undefined?Un(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fi.create=(t,e)=>new fi({innerType:t,typeName:we.ZodOptional,...Te(e)});class Ca extends $e{_parse(e){return this._getType(e)===te.null?Un(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ca.create=(t,e)=>new Ca({innerType:t,typeName:we.ZodNullable,...Te(e)});class Zd extends $e{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Zd.create=(t,e)=>new Zd({innerType:t,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Te(e)});class Dp extends $e{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Op(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new rs(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new rs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Dp.create=(t,e)=>new Dp({innerType:t,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Te(e)});class Bp extends $e{_parse(e){if(this._getType(e)!==te.nan){const r=this._getOrReturnCtx(e);return oe(r,{code:J.invalid_type,expected:te.nan,received:r.parsedType}),Se}return{status:"valid",value:e.data}}}Bp.create=t=>new Bp({typeName:we.ZodNaN,...Te(t)});const Ese=Symbol("zod_brand");class Ok extends $e{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bh extends $e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Se:i.status==="dirty"?(n.dirty(),Pk(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Se:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Bh({in:e,out:n,typeName:we.ZodPipeline})}}class $p extends $e{_parse(e){const n=this._def.innerType._parse(e);return zd(n)&&(n.value=Object.freeze(n.value)),n}}$p.create=(t,e)=>new $p({innerType:t,typeName:we.ZodReadonly,...Te(e)});const Rk=(t,e={},n)=>t?wl.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):wl.create(),Cse={object:Et.lazycreate};var we;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(we||(we={}));const Ase=(t,e={message:`Input not instance of ${t.name}`})=>Rk(n=>n instanceof t,e),Nk=ts.create,kk=ao.create,Ise=Bp.create,xse=co.create,Dk=Vd.create,Sse=va.create,_se=Rp.create,Pse=jd.create,Tse=Hd.create,Ose=wl.create,Rse=ra.create,Nse=Ei.create,kse=Np.create,Dse=ss.create,Bse=Et.create,$se=Et.strictCreate,Lse=qd.create,Fse=Yg.create,Use=Wd.create,Mse=Ms.create,zse=Gd.create,Vse=kp.create,jse=Ea.create,Hse=Lc.create,qse=Kd.create,Wse=Yd.create,Gse=lo.create,Kse=Qd.create,Yse=vl.create,px=us.create,Qse=fi.create,Zse=Ca.create,Jse=us.createWithPreprocess,Xse=Bh.create,eie=()=>Nk().optional(),tie=()=>kk().optional(),nie=()=>Dk().optional(),rie={string:t=>ts.create({...t,coerce:!0}),number:t=>ao.create({...t,coerce:!0}),boolean:t=>Vd.create({...t,coerce:!0}),bigint:t=>co.create({...t,coerce:!0}),date:t=>va.create({...t,coerce:!0})},sie=Se;var P=Object.freeze({__proto__:null,defaultErrorMap:Md,setErrorMap:cse,getErrorMap:Pp,makeIssue:Tp,EMPTY_PATH:lse,addIssueToContext:oe,ParseStatus:On,INVALID:Se,DIRTY:Pk,OK:Un,isAborted:K0,isDirty:Y0,isValid:zd,isAsync:Op,get util(){return Ge},get objectUtil(){return G0},ZodParsedType:te,getParsedType:Vi,ZodType:$e,ZodString:ts,ZodNumber:ao,ZodBigInt:co,ZodBoolean:Vd,ZodDate:va,ZodSymbol:Rp,ZodUndefined:jd,ZodNull:Hd,ZodAny:wl,ZodUnknown:ra,ZodNever:Ei,ZodVoid:Np,ZodArray:ss,ZodObject:Et,ZodUnion:qd,ZodDiscriminatedUnion:Yg,ZodIntersection:Wd,ZodTuple:Ms,ZodRecord:Gd,ZodMap:kp,ZodSet:Ea,ZodFunction:Lc,ZodLazy:Kd,ZodLiteral:Yd,ZodEnum:lo,ZodNativeEnum:Qd,ZodPromise:vl,ZodEffects:us,ZodTransformer:us,ZodOptional:fi,ZodNullable:Ca,ZodDefault:Zd,ZodCatch:Dp,ZodNaN:Bp,BRAND:Ese,ZodBranded:Ok,ZodPipeline:Bh,ZodReadonly:$p,custom:Rk,Schema:$e,ZodSchema:$e,late:Cse,get ZodFirstPartyTypeKind(){return we},coerce:rie,any:Ose,array:Dse,bigint:xse,boolean:Dk,date:Sse,discriminatedUnion:Fse,effect:px,enum:Gse,function:Hse,instanceof:Ase,intersection:Use,lazy:qse,literal:Wse,map:Vse,nan:Ise,nativeEnum:Kse,never:Nse,null:Tse,nullable:Zse,number:kk,object:Bse,oboolean:nie,onumber:tie,optional:Qse,ostring:eie,pipeline:Xse,preprocess:Jse,promise:Yse,record:zse,set:jse,strictObject:$se,string:Nk,symbol:_se,transformer:px,tuple:Mse,undefined:Pse,union:Lse,unknown:Rse,void:kse,NEVER:sie,ZodIssueCode:J,quotelessJson:ase,ZodError:rs});const At=P.object({message:P.string()});function se(t){return P.literal(le[t])}P.object({accessList:P.array(P.string()),blockHash:P.string().nullable(),blockNumber:P.string().nullable(),chainId:P.string().or(P.number()),from:P.string(),gas:P.string(),hash:P.string(),input:P.string().nullable(),maxFeePerGas:P.string(),maxPriorityFeePerGas:P.string(),nonce:P.string(),r:P.string(),s:P.string(),to:P.string(),transactionIndex:P.string().nullable(),type:P.string(),v:P.string(),value:P.string()});const iie=P.object({chainId:P.string().or(P.number())}),oie=P.object({email:P.string().email()}),aie=P.object({otp:P.string()}),cie=P.object({uri:P.string()}),lie=P.object({chainId:P.optional(P.string().or(P.number())),preferredAccountType:P.optional(P.string())}),uie=P.object({provider:P.enum(["google","github","apple","facebook","x","discord"])}),die=P.object({email:P.string().email()}),hie=P.object({otp:P.string()}),fie=P.object({otp:P.string()}),pie=P.object({themeMode:P.optional(P.enum(["light","dark"])),themeVariables:P.optional(P.record(P.string(),P.string().or(P.number()))),w3mThemeVariables:P.optional(P.record(P.string(),P.string()))}),gie=P.object({metadata:P.object({name:P.string(),description:P.string(),url:P.string(),icons:P.array(P.string())}).optional(),sdkVersion:P.string().optional(),sdkType:P.string().optional(),projectId:P.string()}),mie=P.object({type:P.string()}),yie=P.object({action:P.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),bie=P.object({url:P.string()}),wie=P.object({userName:P.string()}),vie=P.object({email:P.string().optional().nullable(),address:P.string(),chainId:P.string().or(P.number()),accounts:P.array(P.object({address:P.string(),type:P.enum([Vt.ACCOUNT_TYPES.EOA,Vt.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:P.string().optional().nullable()}),Eie=P.object({action:P.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Cie=P.object({email:P.string().email().optional().nullable(),address:P.string(),chainId:P.string().or(P.number()),smartAccountDeployed:P.optional(P.boolean()),accounts:P.array(P.object({address:P.string(),type:P.enum([Vt.ACCOUNT_TYPES.EOA,Vt.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:P.optional(P.string())}),Aie=P.object({uri:P.string()}),Iie=P.object({isConnected:P.boolean()}),xie=P.object({chainId:P.string().or(P.number())}),Sie=P.object({chainId:P.string().or(P.number())}),_ie=P.object({newEmail:P.string().email()}),Pie=P.object({smartAccountEnabledNetworks:P.array(P.number())});P.object({address:P.string(),isDeployed:P.boolean()});const Tie=P.object({version:P.string().optional()}),Oie=P.object({type:P.string(),address:P.string()}),Rie=P.any(),Nie=P.object({method:P.literal("eth_accounts")}),kie=P.object({method:P.literal("eth_blockNumber")}),Die=P.object({method:P.literal("eth_call"),params:P.array(P.any())}),Bie=P.object({method:P.literal("eth_chainId")}),$ie=P.object({method:P.literal("eth_estimateGas"),params:P.array(P.any())}),Lie=P.object({method:P.literal("eth_feeHistory"),params:P.array(P.any())}),Fie=P.object({method:P.literal("eth_gasPrice")}),Uie=P.object({method:P.literal("eth_getAccount"),params:P.array(P.any())}),Mie=P.object({method:P.literal("eth_getBalance"),params:P.array(P.any())}),zie=P.object({method:P.literal("eth_getBlockByHash"),params:P.array(P.any())}),Vie=P.object({method:P.literal("eth_getBlockByNumber"),params:P.array(P.any())}),jie=P.object({method:P.literal("eth_getBlockReceipts"),params:P.array(P.any())}),Hie=P.object({method:P.literal("eth_getBlockTransactionCountByHash"),params:P.array(P.any())}),qie=P.object({method:P.literal("eth_getBlockTransactionCountByNumber"),params:P.array(P.any())}),Wie=P.object({method:P.literal("eth_getCode"),params:P.array(P.any())}),Gie=P.object({method:P.literal("eth_getFilterChanges"),params:P.array(P.any())}),Kie=P.object({method:P.literal("eth_getFilterLogs"),params:P.array(P.any())}),Yie=P.object({method:P.literal("eth_getLogs"),params:P.array(P.any())}),Qie=P.object({method:P.literal("eth_getProof"),params:P.array(P.any())}),Zie=P.object({method:P.literal("eth_getStorageAt"),params:P.array(P.any())}),Jie=P.object({method:P.literal("eth_getTransactionByBlockHashAndIndex"),params:P.array(P.any())}),Xie=P.object({method:P.literal("eth_getTransactionByBlockNumberAndIndex"),params:P.array(P.any())}),eoe=P.object({method:P.literal("eth_getTransactionByHash"),params:P.array(P.any())}),toe=P.object({method:P.literal("eth_getTransactionCount"),params:P.array(P.any())}),noe=P.object({method:P.literal("eth_getTransactionReceipt"),params:P.array(P.any())}),roe=P.object({method:P.literal("eth_getUncleCountByBlockHash"),params:P.array(P.any())}),soe=P.object({method:P.literal("eth_getUncleCountByBlockNumber"),params:P.array(P.any())}),ioe=P.object({method:P.literal("eth_maxPriorityFeePerGas")}),ooe=P.object({method:P.literal("eth_newBlockFilter")}),aoe=P.object({method:P.literal("eth_newFilter"),params:P.array(P.any())}),coe=P.object({method:P.literal("eth_newPendingTransactionFilter")}),loe=P.object({method:P.literal("eth_sendRawTransaction"),params:P.array(P.any())}),uoe=P.object({method:P.literal("eth_syncing"),params:P.array(P.any())}),doe=P.object({method:P.literal("eth_uninstallFilter"),params:P.array(P.any())}),gx=P.object({method:P.literal("personal_sign"),params:P.array(P.any())}),hoe=P.object({method:P.literal("eth_signTypedData_v4"),params:P.array(P.any())}),foe=P.object({method:P.literal("eth_sendTransaction"),params:P.array(P.any())}),poe=P.object({method:P.literal("solana_signMessage"),params:P.object({message:P.string(),pubkey:P.string()})}),goe=P.object({method:P.literal("solana_signTransaction"),params:P.object({transaction:P.string()})}),moe=P.object({method:P.literal("solana_signAllTransactions"),params:P.object({transactions:P.array(P.string())})}),yoe=P.object({method:P.literal("solana_signAndSendTransaction"),params:P.object({transaction:P.string(),options:P.object({skipPreflight:P.boolean().optional(),preflightCommitment:P.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:P.number().optional(),minContextSlot:P.number().optional()}).optional()})}),boe=P.object({method:P.literal("wallet_sendCalls"),params:P.array(P.object({chainId:P.string().or(P.number()).optional(),from:P.string().optional(),version:P.string().optional(),capabilities:P.any().optional(),calls:P.array(P.object({to:P.string().startsWith("0x"),data:P.string().startsWith("0x").optional(),value:P.string().optional()}))}))}),woe=P.object({method:P.literal("wallet_getCallsStatus"),params:P.array(P.string())}),voe=P.object({method:P.literal("wallet_getCapabilities")}),Eoe=P.object({method:P.literal("wallet_grantPermissions"),params:P.array(P.any())}),Coe=P.object({method:P.literal("wallet_revokePermissions"),params:P.any()}),Aoe=P.object({method:P.literal("wallet_getAssets"),params:P.any()}),mx=P.object({token:P.string()}),ie=P.object({id:P.string().optional()}),wu={appEvent:ie.extend({type:se("APP_SWITCH_NETWORK"),payload:iie}).or(ie.extend({type:se("APP_CONNECT_EMAIL"),payload:oie})).or(ie.extend({type:se("APP_CONNECT_DEVICE")})).or(ie.extend({type:se("APP_CONNECT_OTP"),payload:aie})).or(ie.extend({type:se("APP_CONNECT_SOCIAL"),payload:cie})).or(ie.extend({type:se("APP_GET_FARCASTER_URI")})).or(ie.extend({type:se("APP_CONNECT_FARCASTER")})).or(ie.extend({type:se("APP_GET_USER"),payload:P.optional(lie)})).or(ie.extend({type:se("APP_GET_SOCIAL_REDIRECT_URI"),payload:uie})).or(ie.extend({type:se("APP_SIGN_OUT")})).or(ie.extend({type:se("APP_IS_CONNECTED"),payload:P.optional(mx)})).or(ie.extend({type:se("APP_GET_CHAIN_ID")})).or(ie.extend({type:se("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(ie.extend({type:se("APP_INIT_SMART_ACCOUNT")})).or(ie.extend({type:se("APP_SET_PREFERRED_ACCOUNT"),payload:mie})).or(ie.extend({type:se("APP_RPC_REQUEST"),payload:gx.or(Aoe).or(Nie).or(kie).or(Die).or(Bie).or($ie).or(Lie).or(Fie).or(Uie).or(Mie).or(zie).or(Vie).or(jie).or(Hie).or(qie).or(Wie).or(Gie).or(Kie).or(Yie).or(Qie).or(Zie).or(Jie).or(Xie).or(eoe).or(toe).or(noe).or(roe).or(soe).or(ioe).or(ooe).or(aoe).or(coe).or(loe).or(uoe).or(doe).or(gx).or(hoe).or(foe).or(poe).or(goe).or(moe).or(yoe).or(woe).or(boe).or(voe).or(Eoe).or(Coe)})).or(ie.extend({type:se("APP_UPDATE_EMAIL"),payload:die})).or(ie.extend({type:se("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:hie})).or(ie.extend({type:se("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:fie})).or(ie.extend({type:se("APP_SYNC_THEME"),payload:pie})).or(ie.extend({type:se("APP_SYNC_DAPP_DATA"),payload:gie})).or(ie.extend({type:se("APP_RELOAD")})),frameEvent:ie.extend({type:se("FRAME_SWITCH_NETWORK_ERROR"),payload:At}).or(ie.extend({type:se("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Sie})).or(ie.extend({type:se("FRAME_CONNECT_EMAIL_SUCCESS"),payload:yie})).or(ie.extend({type:se("FRAME_CONNECT_EMAIL_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:bie})).or(ie.extend({type:se("FRAME_GET_FARCASTER_URI_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:wie})).or(ie.extend({type:se("FRAME_CONNECT_FARCASTER_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_CONNECT_OTP_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_CONNECT_OTP_SUCCESS")})).or(ie.extend({type:se("FRAME_CONNECT_DEVICE_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_CONNECT_DEVICE_SUCCESS")})).or(ie.extend({type:se("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:vie})).or(ie.extend({type:se("FRAME_CONNECT_SOCIAL_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_GET_USER_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_GET_USER_SUCCESS"),payload:Cie})).or(ie.extend({type:se("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Aie})).or(ie.extend({type:se("FRAME_SIGN_OUT_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_SIGN_OUT_SUCCESS")})).or(ie.extend({type:se("FRAME_IS_CONNECTED_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_IS_CONNECTED_SUCCESS"),payload:Iie})).or(ie.extend({type:se("FRAME_GET_CHAIN_ID_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_GET_CHAIN_ID_SUCCESS"),payload:xie})).or(ie.extend({type:se("FRAME_RPC_REQUEST_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_RPC_REQUEST_SUCCESS"),payload:Rie})).or(ie.extend({type:se("FRAME_SESSION_UPDATE"),payload:mx})).or(ie.extend({type:se("FRAME_UPDATE_EMAIL_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Eie})).or(ie.extend({type:se("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(ie.extend({type:se("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:_ie})).or(ie.extend({type:se("FRAME_SYNC_THEME_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_SYNC_THEME_SUCCESS")})).or(ie.extend({type:se("FRAME_SYNC_DAPP_DATA_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(ie.extend({type:se("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Pie})).or(ie.extend({type:se("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Oie})).or(ie.extend({type:se("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_READY"),payload:Tie})).or(ie.extend({type:se("FRAME_RELOAD_ERROR"),payload:At})).or(ie.extend({type:se("FRAME_RELOAD_SUCCESS")}))};function Vy(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class Ioe{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.rpcUrl=Y.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,a)=>{function c({data:l}){if(!Vy(le.FRAME_EVENT_KEY,l))return;const u=wu.frameEvent.parse(l);u.id===i&&(o(u),window.removeEventListener("message",c))}pr.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:i=>{pr.isClient&&window.addEventListener("message",({data:o})=>{if(!Vy(le.FRAME_EVENT_KEY,o))return;const a=wu.frameEvent.parse(o);i(a)})},onAppEvent:i=>{pr.isClient&&window.addEventListener("message",({data:o})=>{if(!Vy(le.APP_EVENT_KEY,o))return;const a=wu.appEvent.parse(o);i(a)})},postAppEvent:i=>{var o;if(pr.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");wu.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if(pr.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");wu.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),n&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),pr.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${Jre}?projectId=${e}&chainId=${r}&version=${ese}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&((a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class xoe{constructor(e){var i;const n=Dl({level:Xre}),{logger:r,chunkLoggerController:s}=Ev({opts:n});this.logger=Rn(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Soe{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s}){this.openRpcRequests=[],r&&(this.w3mLogger=new xoe(e)),this.w3mFrame=new Ioe({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(i=>{this.w3mFrame.events.onFrameEvent(async o=>{o.type===le.FRAME_READY&&(this.initPromise=void 0,await new Promise(a=>{setTimeout(a,500)}),i())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!yn.get(le.EMAIL_LOGIN_USED_KEY)}getEmail(){return yn.get(le.EMAIL)}getUsername(){return yn.get(le.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:le.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{pr.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const r=await this.appEvent({type:le.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:le.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:le.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:le.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:le.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return this.w3mFrame.initFrame(),this.appEvent({type:le.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:le.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:le.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:le.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:le.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:le.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:le.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:le.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.getUser({chainId:r,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async getUser(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:le.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{this.w3mFrame.initFrame();const r=await this.appEvent({type:le.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:le.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:le.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:le.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{const n=await this.appEvent({type:le.APP_SIGN_OUT});return this.deleteAuthLoginCache(),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,i;try{if(Vt.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:le.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===le.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===le.FRAME_IS_CONNECTED_ERROR&&e(),n.type===le.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===le.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===le.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===le.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===le.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Vt.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===le.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===le.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{Vt.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let n;function r(a){return a.replace("@w3m-app/","")}const s=new AbortController,i=r(e.type);return[le.APP_CONNECT_EMAIL,le.APP_CONNECT_DEVICE,le.APP_CONNECT_OTP,le.APP_CONNECT_SOCIAL,le.APP_GET_SOCIAL_REDIRECT_URI].map(r).includes(i)&&(n=setTimeout(()=>{var a;(a=this.onTimeout)==null||a.call(this),s.abort()},3e4)),new Promise((a,c)=>{var d,h,f;const l=Math.random().toString(36).substring(7);if((f=(d=this.w3mLogger)==null?void 0:(h=d.logger).info)==null||f.call(h,{event:e,id:l},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:l}),i==="RPC_REQUEST"){const g=e;this.openRpcRequests=[...this.openRpcRequests,{...g.payload,abortController:s}]}s.signal.addEventListener("abort",()=>{i==="RPC_REQUEST"?c(new Error("Request was aborted")):i!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function u(g,p){var m,y,b;g.id===l&&((y=p==null?void 0:(m=p.logger).info)==null||y.call(m,{framEvent:g,id:l},"Received frame response"),g.type===`@w3m-frame/${i}_SUCCESS`?(n&&clearTimeout(n),"payload"in g&&a(g.payload),a(void 0)):g.type===`@w3m-frame/${i}_ERROR`&&(n&&clearTimeout(n),"payload"in g&&c(new Error(((b=g.payload)==null?void 0:b.message)||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(l,g=>u(g,this.w3mLogger),s.signal)})}setNewLastEmailLoginTime(){yn.set(le.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){yn.set(le.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&yn.set(le.EMAIL,e),yn.set(le.EMAIL_LOGIN_USED_KEY,"true"),yn.delete(le.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){yn.delete(le.EMAIL_LOGIN_USED_KEY),yn.delete(le.EMAIL),yn.delete(le.LAST_USED_CHAIN_KEY),yn.delete(le.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&yn.set(le.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=yn.get(le.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){yn.set(le.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class sa{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s}){return sa.instance||(sa.instance=new Soe({projectId:e,chainId:n,enableLogger:r,onTimeout:s})),sa.instance}}var yx={};const _oe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof yx<"u"?yx.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},Z0={filterOutDuplicatesByRDNS(t){const e=Z.state.enableEIP6963?Ne.state.connectors:[],n=re.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&Ce.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!i.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=Ne.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=re.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Ne.state,n=e.filter(i=>i.type==="ANNOUNCED").reduce((i,o)=>{var a;return(a=o.info)!=null&&a.rdns&&(i[o.info.rdns]=!0),i},{});return t.map(i=>({...i,installed:!!i.rdns&&!!n[i.rdns??""]})).sort((i,o)=>Number(o.installed)-Number(i.installed))},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=Z.state.features)==null?void 0:c.connectMethodsOrder),r=e||Ne.state.connectors;if(n)return n;const{injected:s,announced:i}=qf.getConnectorsByType(r,Ie.state.recommended,Ie.state.featured),o=s.filter(qf.showConnector),a=i.filter(qf.showConnector);return o.length||a.length?["wallet","email","social"]:_oe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Ie.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Ie.state.excludedWallets.some(r=>Kg.isLowerCaseMatch(r.name,t.name));return e||n}},qf={getConnectorsByType(t,e,n){const{customWallets:r}=Z.state,s=re.getRecentWallets(),i=Z0.filterOutDuplicateWallets(e),o=Z0.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&Ie.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&Ie.state.excludedWallets.some(i=>Kg.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(!Ce.isMobile()&&t.name==="Browser Wallet"||!e&&!pt.checkInstalled()||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from($.state.chains.values()).some(n=>Ne.getConnectorId(n.namespace)===Y.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=Z.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=qf.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:Z.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(y=>y.isEnabled),g=new Set(f.map(y=>y.type)),p=c.filter(y=>g.has(y)).map(y=>({type:y,isEnabled:!0})),m=f.filter(({type:y})=>!p.some(({type:w})=>w===y));return Array.from(new Set([...p,...m].map(({type:y})=>y)))}},Ef={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},Poe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Qg={getMethodsByChainNamespace(t){return Poe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case AE.caipNetworkId:u.chains.push(AE.deprecatedCaipNetworkId);break;case CE.caipNetworkId:u.chains.push(CE.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await Sk.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class Qv{constructor({provider:e,namespace:n}){this.id=Y.CONNECTOR_ID.WALLET_CONNECT,this.name=Qi.ConnectorNamesMap[Y.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Qi.ConnectorImageIds[Y.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=$.getCaipNetworks.bind($),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=Z.state.universalProviderConfigOverride,s=Qg.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Wu.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Toe})}}const Toe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class Bk{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>$.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:Y.CONNECTOR_ID.AUTH,type:"AUTH",name:Y.CONNECTOR_NAMES.AUTH,provider:e,imageId:Qi.ConnectorImageIds[Y.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){ae.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var i;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,a=(i=ae.state.preferredAccountTypes)==null?void 0:i[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof Qv);if(!e)throw new Error("WalletConnectConnector not found");return e}}class Ooe extends Bk{setUniversalProvider(e){this.addConnector(new Qv({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>Ce.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&an.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(ae.state.balanceLoading&&e.chainId===((c=$.state.activeCaipNetwork)==null?void 0:c.id))return{balance:ae.state.balance||"0.00",symbol:ae.state.balanceSymbol||""};const s=(await ae.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Y.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:t2.encode(new TextEncoder().encode(r)),pubkey:s}},(a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=$.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===Y.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:he(n.id)}]}))}catch(u){if(u.code===Ef.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===Ef.ERROR_INVALID_CHAIN_ID||u.code===Ef.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===Ef.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:he(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class Roe{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o,a;if(n){const c=(i=(s=$.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:i.find(u=>u.id===r);if(c)return c;const l=(o=$.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=$.getRequestedCaipNetworks(n).filter(u=>u.chainNamespace===n))==null?void 0:a[0])}return $.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>$.getCaipNetworks(n),this.getActiveChainNamespace=()=>$.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{$.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>$.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>$.state.activeChain===n||!n?$.state.activeCaipAddress:$.getAccountProp("caipAddress",n),this.setClientId=n=>{ve.setClientId(n)},this.getProvider=n=>tt.getProvider(n),this.getProviderType=n=>tt.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=ae.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{ae.setCaipAddress(n,r)},this.setBalance=(n,r,s)=>{ae.setBalance(n,r,s)},this.setProfileName=(n,r)=>{ae.setProfileName(n,r)},this.setProfileImage=(n,r)=>{ae.setProfileImage(n,r)},this.setUser=(n,r)=>{ae.setUser(n,r),Z.state.enableEmbedded&&Bt.close()},this.resetAccount=n=>{ae.resetAccount(n)},this.setCaipNetwork=n=>{$.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{$.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{ae.setAllAccounts(n,r),Z.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{ae.setStatus(n,r),Ne.isConnected()?re.setConnectionStatus("connected"):re.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>$.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Ne.state.allConnectors,...n];Ne.setConnectors(r)},this.fetchIdentity=n=>ve.fetchIdentity(n),this.getReownName=n=>Sk.getNamesForAddress(n),this.getConnectors=()=>Ne.getConnectors(),this.getConnectorImage=n=>kO.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const s=tt.getProviderId(r),i=n?{...n,type:s}:void 0;ae.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!$.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{ae.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{ae.removeAddressLabel(n,r)},this.getAddress=n=>$.state.activeChain===n||!n?ae.state.address:$.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>$.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{$.resetNetwork(n)},this.addConnector=n=>{Ne.addConnector(n)},this.resetWcConnection=()=>{pt.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{ae.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{ae.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{$.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{ae.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{Z.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),Ds.set({initialized:!0}),await this.syncExistingConnection()}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,ct.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Pn.setThemeMode(e.themeMode),e.themeVariables&&Pn.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");$.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&$.setActiveCaipNetwork(n)}initializeConnectionController(e){pt.setWcBasic(e.basic??!1)}initializeConnectorController(){Ne.initialize(this.chainNamespaces)}initializeOptionsController(e){var o;Z.setDebug(e.debug!==!1),Z.setEnableWalletConnect(e.enableWalletConnect!==!1),Z.setEnableWalletGuide(e.enableWalletGuide!==!1),Z.setEnableWallets(e.enableWallets!==!1),Z.setEIP6963Enabled(e.enableEIP6963!==!1),Z.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Z.setEnableAuthLogger(e.enableAuthLogger!==!1),Z.setCustomRpcUrls(e.customRpcUrls),Z.setSdkVersion(e.sdkVersion),Z.setProjectId(e.projectId),Z.setEnableEmbedded(e.enableEmbedded),Z.setAllWallets(e.allWallets),Z.setIncludeWalletIds(e.includeWalletIds),Z.setExcludeWalletIds(e.excludeWalletIds),Z.setFeaturedWalletIds(e.featuredWalletIds),Z.setTokens(e.tokens),Z.setTermsConditionsUrl(e.termsConditionsUrl),Z.setPrivacyPolicyUrl(e.privacyPolicyUrl),Z.setCustomWallets(e.customWallets),Z.setFeatures(e.features),Z.setAllowUnsupportedChain(e.allowUnsupportedChain),Z.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Z.setDefaultAccountTypes(e.defaultAccountTypes);const n=re.getPreferredAccountTypes(),r={...Z.state.defaultAccountTypes,...n};ae.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),Z.setMetadata(e.metadata),Z.setDisableAppend(e.disableAppend),Z.setEnableEmbedded(e.enableEmbedded),Z.setSIWX(e.siwx),!e.projectId){Xo.open(Ho.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===Y.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Z.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return typeof window<"u"&&typeof document<"u"?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Ts.getUnsupportedNetwork(`${n}:${e}`);$.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Ts.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Ts.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Ts.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?Ts.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=$.state.activeChain,n=this.getAdapter(e),r=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),re.setConnectedNamespaces([...$.state.chains.keys()]),this.chainNamespaces.forEach(o=>{Ne.setConnectorId(yt.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:i,caipNetwork:o})=>{var f,g,p,m,y,b;const a=$.state.activeChain,c=i||a,l=this.getAdapter(c);if(i&&i!==a&&!o){const w=this.getCaipNetworks().find(E=>E.chainNamespace===i);w&&this.setCaipNetwork(w)}if(!l)throw new Error("Adapter not found");const u=this.getCaipNetwork(c),d=await l.connect({id:e,info:n,type:r,provider:s,chainId:(o==null?void 0:o.id)||(u==null?void 0:u.id),rpcUrl:((p=(g=(f=o==null?void 0:o.rpcUrls)==null?void 0:f.default)==null?void 0:g.http)==null?void 0:p[0])||((b=(y=(m=u==null?void 0:u.rpcUrls)==null?void 0:m.default)==null?void 0:y.http)==null?void 0:b[0])});if(!d)return;re.addConnectedNamespace(c),this.syncProvider({...d,chainNamespace:c});const{accounts:h}=await l.getAccounts({namespace:c,id:e});this.setAllAccounts(h,c),this.setStatus("connected",c)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=$.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),re.addConnectedNamespace(i))},disconnect:async e=>{const n=e||$.state.activeChain,r=this.getAdapter(n),s=tt.getProvider(n),i=tt.getProviderId(n);await(r==null?void 0:r.disconnect({provider:s,providerType:i})),re.removeConnectedNamespace(n),tt.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n)},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter($.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:ae.state.address,provider:tt.getProvider($.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===Y.CHAIN.EVM){const n=this.getAdapter($.state.activeChain),r=tt.getProvider($.state.activeChain),s=await(n==null?void 0:n.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:r}));return(s==null?void 0:s.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Y.CHAIN.EVM){const n=this.getAdapter($.state.activeChain),r=tt.getProvider($.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var r;const e=this.getAdapter($.state.activeChain),n=await(e==null?void 0:e.getProfile({address:ae.state.address,chainId:Number((r=this.getCaipNetwork())==null?void 0:r.id)}));return(n==null?void 0:n.profileImage)||!1},getEnsAddress:async e=>{const n=this.getAdapter($.state.activeChain),r=this.getCaipNetwork();if(!r)return!1;const s=await(n==null?void 0:n.getEnsAddress({name:e,caipNetwork:r}));return(s==null?void 0:s.address)||!1},writeContract:async e=>{const n=this.getAdapter($.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),i=tt.getProvider($.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter($.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter($.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter($.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},pt.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(tt.getProviderId($.state.activeChain)===yt.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=tt.getProvider(n),i=tt.getProviderId(n);if(e.chainNamespace===$.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===yt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=Ti.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new Ooe({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),(n=this.chainAdapters)==null||n[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=re.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(re.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id===i||l.caipNetworkId===i),a=$.state.activeChain===e,c=$.getAccountProp("address",e);if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("pendingTransactions",()=>{const s=ae.state.address,i=$.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i})=>{var a,c;const o=$.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((a=$.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:s,chainId:(c=$.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(s,i,e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const n=Ne.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Y.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Y.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,a,c;const n=this.getAdapter(e),r=Ne.getConnectorId(e),s=this.getCaipNetwork(e),i=Ne.getConnectors(e).find(l=>l.id===r);try{if(!n||!i)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const l=await(n==null?void 0:n.syncConnection({namespace:e,id:i.id,chainId:s.id,rpcUrl:(c=(a=(o=s==null?void 0:s.rpcUrls)==null?void 0:o.default)==null?void 0:a.http)==null?void 0:c[0]}));if(l){const u=await(n==null?void 0:n.getAccounts({namespace:e,id:i.id}));u&&u.accounts.length>0?this.setAllAccounts(u.accounts,e):this.setAllAccounts([Ce.createAccount(e,l.address,"eoa")],e),this.syncProvider({...l,chainNamespace:e}),await this.syncAccount({...l,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var a,c,l,u,d;const r=this.getAdapter(n),s=((u=(l=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:l[n])==null?void 0:u.accounts)||[],i=(d=$.state.activeCaipNetwork)==null?void 0:d.id,o=s.find(h=>{const{chainId:f}=Ti.parseCaipAddress(h);return f===(i==null?void 0:i.toString())})||s[0];if(o){const h=Ti.validateCaipAddress(o),{chainId:f,address:g}=Ti.parseCaipAddress(h);if(tt.setProviderId(n,yt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&$.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==Y.CHAIN.EVM){const p=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:$.state.activeCaipNetwork});tt.setProvider(n,p)}else tt.setProvider(n,this.universalProvider);Ne.setConnectorId(Y.CONNECTOR_ID.WALLET_CONNECT,n),re.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:g,chainId:f,chainNamespace:n})}else this.setStatus("disconnected",n);await $.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,s,i,o,a;const n=(a=(o=(i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=Ti.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>Ce.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){tt.setProviderId(s,e),tt.setProvider(s,n),Ne.setConnectorId(r,s)}async syncAccount(e){var d,h;const n=e.chainNamespace===$.state.activeChain,r=$.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=re.getActiveNetworkProps(),c=i||a,l=((d=$.state.activeCaipNetwork)==null?void 0:d.name)===Y.UNSUPPORTED_NETWORK_NAME,u=$.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(m=>m.id.toString()===c.toString()),g=this.getCaipNetworks().find(m=>m.chainNamespace===o);if(!u&&!f&&!g){const m=this.getApprovedCaipNetworkIds()||[],y=m.find(w=>{var E;return((E=Ti.parseCaipNetworkId(w))==null?void 0:E.chainId)===c.toString()}),b=m.find(w=>{var E;return((E=Ti.parseCaipNetworkId(w))==null?void 0:E.chainNamespace)===o});f=this.getCaipNetworks().find(w=>w.caipNetworkId===y),g=this.getCaipNetworks().find(w=>w.caipNetworkId===b||"deprecatedCaipNetworkId"in w&&w.deprecatedCaipNetworkId===b)}const p=f||g;(p==null?void 0:p.chainNamespace)===$.state.activeChain?Z.state.enableNetworkSwitch&&!Z.state.allowUnsupportedChain&&((h=$.state.activeCaipNetwork)==null?void 0:h.name)===Y.UNSUPPORTED_NETWORK_NAME?$.showUnsupportedChainUI():this.setCaipNetwork(p):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),Kg.isLowerCaseMatch(s,ae.state.address)||this.syncAccountInfo(s,p==null?void 0:p.id,o),n?await this.syncBalance({address:s,chainId:p==null?void 0:p.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=Ne.getConnectorId(e),r=tt.getProviderId(e);if(r===yt.CONNECTOR_TYPE_ANNOUNCED||r===yt.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>o.id===n);if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===yt.CONNECTOR_TYPE_WALLET_CONNECT){const i=tt.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n)if(n===Y.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===Y.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}else this.setConnectedWalletInfo({name:n},e)}async syncBalance(e){!Td.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=$.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});this.setBalance(o.balance,o.symbol,r)}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,h;const e=ise.createLogger((f,...g)=>{f&&this.handleAlertError(f),console.error(...g)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};Z.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await Yv.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{pt.setUri(e)}),this.universalProvider.on("connect",pt.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),pt.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(Qg.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&Ce.isCaipAddress(r[0])&&this.syncAccount(Ti.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Ce.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){ct.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Ho.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=Ho.ALERT_ERRORS[o];a&&(Xo.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&pt.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return Bt.open({...e,data:{swap:e.arguments}})}return Bt.open(e)}async close(){await this.injectModalUi(),Bt.close()}setLoading(e,n){Bt.setLoading(e,n)}async disconnect(e){await pt.disconnect(e)}getError(){return""}getChainId(){var e;return(e=$.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){Xo.open(Ho.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await $.switchActiveNetwork(n)}getWalletProvider(){return $.state.activeChain?tt.state.providers[$.state.activeChain]:null}getWalletProviderType(){return tt.getProviderId($.state.activeChain)}subscribeProviders(e){return tt.subscribeProviders(e)}getThemeMode(){return Pn.state.themeMode}getThemeVariables(){return Pn.state.themeVariables}setThemeMode(e){Pn.setThemeMode(e),_D(Pn.state.themeMode)}setTermsConditionsUrl(e){Z.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Z.setPrivacyPolicyUrl(e)}setThemeVariables(e){Pn.setThemeVariables(e),PD(Pn.state.themeVariables)}subscribeTheme(e){return Pn.subscribe(e)}getWalletInfo(){return ae.state.connectedWalletInfo}getAccount(e){var i;const n=Ne.getAuthConnector(e),r=$.getAccountData(e),s=$.state.activeChain;if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:Ce.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n?{user:r.user?{...r.user,username:re.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(i=r.preferredAccountTypes)==null?void 0:i[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?$.subscribeChainProp("accountState",r,n):$.subscribe(r),Ne.subscribe(r)}subscribeNetwork(e){return $.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return ae.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){ae.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){$.subscribeKey("activeCaipNetwork",e)}getState(){return Ds.state}subscribeState(e){return Ds.subscribe(e)}showErrorMessage(e){vn.showError(e)}showSuccessMessage(e){vn.showSuccess(e)}getEvent(){return{...ct.state}}subscribeEvents(e){return ct.subscribe(e)}replace(e){Xe.replace(e)}redirect(e){Xe.push(e)}popTransactionStack(e){Xe.popTransactionStack(e)}isOpen(){return Bt.state.open}isTransactionStackEmpty(){return Xe.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=Xe.state.transactionStack[Xe.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){Z.setFeatures(e)}updateOptions(e){const r={...Z.state||{},...e};Z.setOptions(r)}setConnectMethodsOrder(e){Z.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Z.setWalletFeaturesOrder(e)}setCollapseWallets(e){Z.setCollapseWallets(e)}setSocialsOrder(e){Z.setSocialsOrder(e)}getConnectMethodsOrder(){return Z0.getConnectOrderMethod(Z.state.features,Ne.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||$.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&$.removeNetwork(e,n)}}let bx=!1;class Noe extends Roe{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{pr.checkIfRequestExists(n)?pr.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Vt.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Vt.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((n,r)=>{const s=pr.checkIfRequestIsSafe(r),i=ae.state.address,o=$.state.activeCaipNetwork;s||(this.isTransactionStackEmpty()?(this.close(),i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace)):(this.popTransactionStack(),i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const n=$.state.activeChain;Ne.getConnectorId(n)===Y.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(async n=>{var a,c;const r=$.state.activeChain,s=r===Y.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,i=n.preferredAccountType||((a=ae.state.preferredAccountTypes)==null?void 0:a[r])||Z.state.defaultAccountTypes[r];Kg.isLowerCaseMatch(n.address,ae.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...ae.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(i,r);const o=(c=n.accounts)==null?void 0:c.map(l=>{var u;return Ce.createAccount(r,l.address,l.type||((u=ae.state.preferredAccountTypes)==null?void 0:u[r])||Z.state.defaultAccountTypes[r])});this.setAllAccounts(o||[Ce.createAccount(r,n.address,n.preferredAccountType||i)],r),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...ae.state.user||{},username:n},$.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,$.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,$.state.activeChain)})}async syncAuthConnector(e,n){var u,d,h,f;const r=Y.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!r)return;this.setLoading(!0,n);const s=e.getLoginEmailUsed();this.setLoading(s,n),s&&this.setStatus("connecting",n);const i=e.getEmail(),o=e.getUsername();this.setUser({...((u=ae.state)==null?void 0:u.user)||{},username:o,email:i},$.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),c=Pn.getSnapshot(),l=Z.getSnapshot();e.syncDappData({metadata:l.metadata,sdkVersion:l.sdkVersion,projectId:l.projectId,sdkType:l.sdkType}),e.syncTheme({themeMode:c.themeMode,themeVariables:c.themeVariables,w3mThemeVariables:Qu(c.themeVariables,c.themeMode)}),n&&r&&(a&&((d=this.connectionControllerClient)!=null&&d.connectExternal)?(await((f=this.connectionControllerClient)==null?void 0:f.connectExternal({id:Y.CONNECTOR_ID.AUTH,info:{name:Y.CONNECTOR_ID.AUTH},type:yt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(h=$.state.activeCaipNetwork)==null?void 0:h.id,chain:n})),this.setStatus("connected",n)):Ne.getConnectorId(n)===Y.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),re.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!Ce.isTelegram())return;const r=re.getTelegramSocialProvider();if(!r||typeof window>"u"||typeof document>"u")return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;ae.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=Ne.getAuthConnector();r&&o&&(this.setLoading(!0,e),await o.provider.connectSocial(i),await pt.connectExternal(o,o.chain),re.setConnectedSocialProvider(r),re.removeTelegramSocialProvider(),ct.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var o,a,c,l,u,d,h,f,g,p,m,y,b;if(!Y.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=((a=(o=this.options)==null?void 0:o.features)==null?void 0:a.email)===void 0?an.DEFAULT_FEATURES.email:(l=(c=this.options)==null?void 0:c.features)==null?void 0:l.email,s=(d=(u=this.options)==null?void 0:u.features)!=null&&d.socials?((g=(f=(h=this.options)==null?void 0:h.features)==null?void 0:f.socials)==null?void 0:g.length)>0:an.DEFAULT_FEATURES.socials,i=r||s;!this.authProvider&&((p=this.options)!=null&&p.projectId)&&i&&(this.authProvider=sa.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(m=this.getCaipNetwork(e))==null?void 0:m.caipNetworkId,onTimeout:()=>{Xo.open(Ho.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),Ds.subscribeOpen(w=>{var E;!w&&this.isTransactionStackEmpty()&&((E=this.authProvider)==null||E.rejectRpcRequests())}),e===Y.CHAIN.EVM&&((y=ae.state.preferredAccountTypes)!=null&&y.eip155)&&this.authProvider.setPreferredAccount((b=ae.state.preferredAccountTypes)==null?void 0:b.eip155),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Ie.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var i,o;if(!e)return;const n=$.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===$.state.activeChain&&s){const a=this.getAdapter(r),c=tt.getProvider(r),l=tt.getProviderId(r);await(a==null?void 0:a.switchNetwork({caipNetwork:e,provider:c,providerType:l})),this.setCaipNetwork(e)}else{const c=tt.getProviderId(n)===yt.CONNECTOR_TYPE_AUTH,l=tt.getProviderId(r),u=l===yt.CONNECTOR_TYPE_AUTH,d=Y.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((c||u)&&d)try{$.state.activeChain=e.chainNamespace,await((o=(i=this.connectionControllerClient)==null?void 0:i.connectExternal)==null?void 0:o.call(i,{id:Y.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:yt.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const f=this.getAdapter(r);await(f==null?void 0:f.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:l}))}else l===yt.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(r!==Y.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});if(this.setProfileName(a,r),this.setProfileImage(c,r),!a){const l=this.getAdapter(r),u=await(l==null?void 0:l.getProfile({address:e,chainId:Number(n)}));u!=null&&u.profileName?(this.setProfileName(u.profileName,r),u.profileImage&&this.setProfileImage(u.profileImage,r)):(await this.syncReownName(e,r),this.setProfileImage(null,r))}}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=tt.getProviderId(e);if(n===yt.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=re.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!bx&&Ce.isClient()){const e={...an.DEFAULT_FEATURES,...this.options.features},n=[];if(e&&((e.email||e.socials&&e.socials.length)&&n.push(Kn(()=>import("./embedded-wallet-BKlM4IXi.js"),__vite__mapDeps([11,4,2,12,13,14,15,16,17,18,19,20,1,3,5,6,7,8,9]))),e.email&&n.push(Kn(()=>import("./email-8KYhDF7b.js"),__vite__mapDeps([21,4,2,12,20,16,19,15,22,17,1,3,5,6,7,8,9]))),e.socials&&n.push(Kn(()=>import("./socials-iPGaxW5l.js"),__vite__mapDeps([23,4,2,12,24,15,16,25,19,20,26,14,27,1,3,5,6,7,8,9]))),e.swaps&&n.push(Kn(()=>import("./swaps-DSqmhhcQ.js"),__vite__mapDeps([28,4,2,12,15,16,29,30,31,14,19,27,17,1,3,5,6,7,8,9]))),e.send&&n.push(Kn(()=>import("./send-BIKB_awL.js"),__vite__mapDeps([32,4,2,12,15,16,19,20,31,14,17,33,1,3,5,6,7,8,9]))),e.receive&&n.push(Kn(()=>import("./receive-B2yNbxmJ.js"),__vite__mapDeps([34,4,2,12,35,14,26,1,3,5,6,7,8,9]))),e.onramp&&n.push(Kn(()=>import("./onramp-Cgvr2ZXC.js"),__vite__mapDeps([36,4,2,12,37,27,19,14,16,38,24,15,20,17,1,3,5,6,7,8,9]))),e.history&&n.push(Kn(()=>import("./transactions-wgKjUIoN.js"),__vite__mapDeps([39,4,2,12,40,37,27,19,20,14,1,3,5,6,7,8,9])))),await Promise.all([...n,Kn(()=>import("./index-B8kgsz08.js"),__vite__mapDeps([41,4,2,12,14,16,33,19,42,30,18,38,15,40,37,27,20,29,17,22,24,25,13,35,26,1,3,5,6,7,8,9])),Kn(()=>import("./w3m-modal-B2nBsfzx.js"),__vite__mapDeps([43,4,2,12,18,14,19,16,30,42,1,3,5,6,7,8,9]))]),!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!Z.state.disableAppend&&!Z.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}bx=!0}}}const koe="1.7.3";function Doe(t){let e=[],n,r;function s(a){return Td.parseEvmChainId(a)||1}function i(){return n||(n=sa.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{Xo.open(Ho.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),n}async function o(a={}){var p,m;const c=i();let l=a.chainId;if(a.isReconnecting){const y=Td.parseEvmChainId(c.getLastUsedChainId()||""),b=(p=t.chains)==null?void 0:p[0].id;if(l=y||b,!l)throw new Error("ChainId not found in provider")}const u=(m=ae.state.preferredAccountTypes)==null?void 0:m.eip155,{address:d,chainId:h,accounts:f}=await c.connect({chainId:l,preferredAccountType:u});e=(f==null?void 0:f.map(y=>y.address))||[d];const g=s(h);return{accounts:e,account:d,chainId:g,chain:{id:g,unsuported:!1}}}return a=>({id:Y.CONNECTOR_ID.AUTH,name:Y.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:Y.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=sa.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{Xo.open(Ho.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const c=await this.getProvider();return Promise.resolve(c.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const d=a.chains.find(p=>p.id===c);if(!d)throw new $s(new Error("chain not found on connector."));const h=await this.getProvider(),f=(l=ae.state.preferredAccountTypes)==null?void 0:l.eip155,g=await h.connect({chainId:c,preferredAccountType:f});return e=((u=g==null?void 0:g.accounts)==null?void 0:u.map(p=>p.address))||[g.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),d}catch(d){throw d instanceof Error?new $s(d):d}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(Os)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}Zv.type="walletConnect";function Zv(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:Zv.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var h,f,g;try{const p=$.getCaipNetworks(),m=await this.getProvider();if(!m)throw new Mi;a||(a=this.onDisplayUri,m.on("display_uri",a));const y=await this.isChainsStale();m.session&&y&&await m.disconnect();const b=Z.state.universalProviderConfigOverride;if(!m.session||y){const v=Qg.createNamespaces(p,b);await m.connect({optionalNamespaces:v,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(p.map(R=>Number(R.id)))}const w=await this.getAccounts(),E=await this.getChainId(),C=(g=(f=(h=m.session)==null?void 0:h.namespaces)==null?void 0:f.eip155)==null?void 0:g.chains,I=C==null?void 0:C.some(v=>Number(v.split(":")[1])===E);let A=1;I?A=E:C!=null&&C[0]&&(A=Number(C[0].split(":")[1])),a&&(m.removeListener("display_uri",a),a=void 0),o&&(m.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),m.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),m.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),m.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),m.on("session_delete",c));const x=b==null?void 0:b.defaultChain;return m.setDefaultChain(x??`eip155:${A}`),{accounts:w,chainId:A}}catch(p){throw/(user rejected|connection request reset)/i.test(p==null?void 0:p.message)?new qt(p):p}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var g,p,m;const d=await this.getProvider();if(!((g=d==null?void 0:d.session)!=null&&g.namespaces))return[];const h=(m=(p=d==null?void 0:d.session)==null?void 0:p.namespaces[Y.CHAIN.EVM])==null?void 0:m.accounts;return(h==null?void 0:h.map(y=>y.split(":")[2]))??[]},async getProvider({chainId:d}={}){var g,p;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const h=re.getActiveNamespace(),f=(g=e.getCaipNetwork())==null?void 0:g.id;if(d&&f!==d&&h){const m=re.getStoredActiveCaipNetworkId(),y=e.getCaipNetworks(h),b=y==null?void 0:y.find(w=>w.id===m);b&&b.chainNamespace===Y.CHAIN.EVM&&await((p=this.switchChain)==null?void 0:p.call(this,{chainId:Number(b.id)}))}return r},async getChainId(){var p,m,y,b;const d=(p=e.getCaipNetwork(Y.CHAIN.EVM))==null?void 0:p.id;if(d)return d;const f=(b=(y=(m=(await this.getProvider()).session)==null?void 0:m.namespaces[Y.CHAIN.EVM])==null?void 0:y.chains)==null?void 0:b[0],g=$.getCaipNetworks().find(w=>w.id===f);return g==null?void 0:g.id},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var p,m,y,b;const f=await this.getProvider();if(!f)throw new Mi;const g=$.getCaipNetworks().find(w=>w.id===h);if(!g)throw new $s(new Ed);try{await f.request({method:"wallet_switchEthereumChain",params:[{chainId:fe(h)}]}),g!=null&&g.caipNetworkId&&f.setDefaultChain(g==null?void 0:g.caipNetworkId),u.emitter.emit("change",{chainId:Number(h)});const w=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...w,h]),{...g,id:g.id}}catch(w){const E=w;if(/(?:user rejected)/iu.test(E.message))throw new qt(E);try{let C;d!=null&&d.blockExplorerUrls?C=d.blockExplorerUrls:C=(p=g.blockExplorers)!=null&&p.default.url?[(m=g.blockExplorers)==null?void 0:m.default.url]:[];const I=((b=(y=g.rpcUrls)==null?void 0:y.chainDefault)==null?void 0:b.http)||[],A={blockExplorerUrls:C,chainId:fe(h),chainName:g.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:g.nativeCurrency,rpcUrls:I};await f.request({method:"wallet_addEthereumChain",params:[A]});const x=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...x,h]),{...g,id:g.id}}catch(C){throw new qt(C)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(h=>Os(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},onConnect(d){this.setRequestedChainsIds($.getCaipNetworks().map(h=>Number(h.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),i&&(h.removeListener("chainChanged",i),i=void 0),l&&(h.removeListener("disconnect",l),l=void 0),c&&(h.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var f,g,p;if(!((f=r==null?void 0:r.session)!=null&&f.namespaces))return[];const d=(p=(g=r==null?void 0:r.session)==null?void 0:g.namespaces[Y.CHAIN.EVM])==null?void 0:p.accounts;return(d==null?void 0:d.map(m=>Number.parseInt(m.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var h;const d=await((h=u.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(g=>g.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(g=>d.includes(g)))return!1;const f=await this.getRequestedChainsIds();return!d.every(g=>f.includes(Number(g)))},async setRequestedChainsIds(d){var h;await((h=u.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const vu=bt({pendingTransactions:0}),wx={state:vu,subscribeKey(t,e){return Mn(vu,t,e)},increase(t){vu[t]+=1},decrease(t){vu[t]-=1},reset(t){vu[t]=0}};function Boe(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}const $oe={enable:!1,pollingInterval:3e4};class Loe extends Bk{constructor(e){const n=Ts.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super({projectId:e.projectId,adapterType:Y.ADAPTER_TYPES.WAGMI,namespace:Y.CHAIN.EVM}),this.balancePromises={},this.pendingTransactionsFilter={...$oe,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.setupWatchers()}async getAccounts(e){var i;const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===Y.CONNECTOR_ID.AUTH){const o=n.provider;if(!o.user)return{accounts:[]};const{address:a,accounts:c}=o.user;return Promise.resolve({accounts:(c||[{address:a,type:"eoa"}]).map(l=>Ce.createAccount("eip155",l.address,l.type))})}const{addresses:r,address:s}=cb(this.wagmiConfig);return Promise.resolve({accounts:(i=r||[s])==null?void 0:i.map(o=>Ce.createAccount("eip155",o||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===Y.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=Ts.getCaipNetworkId(s);i?n[s.id]=Ts.extendWagmiTransports(s,e.projectId,i):n[s.id]=Ts.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=TU({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=aU(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),wx.increase("pendingTransactions")}});const e=wx.subscribeKey("pendingTransactions",n=>{var r;n>=Y.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){B5(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId})),e.chainId!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var r,s;const n=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:i}=await Kn(async()=>{const{coinbaseWallet:o}=await import("./index-CzmRiBFb.js");return{coinbaseWallet:o}},__vite__mapDeps([44,1,2,3,4,5,6,7,8,9]));i&&n.push(i({version:"4",appName:((r=e.metadata)==null?void 0:r.name)??"Unknown",appLogoUrl:((s=e.metadata)==null?void 0:s.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(i){console.error("Failed to import Coinbase Wallet SDK:",i)}n.forEach(i=>{const o=this.wagmiConfig._internal.connectors.setup(i);this.wagmiConfig._internal.connectors.setState(a=>[...a,o])})}addWagmiConnectors(e,n){var o,a,c,l,u;const r=[];e.enableWalletConnect!==!1&&r.push(Zv(e,n)),e.enableInjected!==!1&&r.push(Ch({shimDisconnect:!0}));const s=((o=e.features)==null?void 0:o.email)===void 0?an.DEFAULT_FEATURES.email:(a=e.features)==null?void 0:a.email,i=(c=e.features)!=null&&c.socials?((u=(l=e.features)==null?void 0:l.socials)==null?void 0:u.length)>0:an.DEFAULT_FEATURES.socials;(s||i)&&r.push(Doe({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(d=>{const h=this.wagmiConfig._internal.connectors.setup(d);this.wagmiConfig._internal.connectors.setState(f=>[...f,h])})}async signMessage(e){try{return{signature:await sU(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n}=cb(this.wagmiConfig),r={account:e.address,to:e.to,value:e.value,gas:e.gas,gasPrice:e.gasPrice,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await nU(this.wagmiConfig,r);const s=await rU(this.wagmiConfig,r);return await cU(this.wagmiConfig,{hash:s,timeout:25e3}),{hash:s}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(Td.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await lU(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async getEnsAddress(e){const{name:n,caipNetwork:r}=e;try{if(!this.wagmiConfig)throw new Error("networkControllerClient:getApprovedCaipNetworksData - wagmiConfig is undefined");let s=!1,i=!1;return vz(n)&&(i=await Qg.resolveReownName(n)||!1),r.id===1&&(s=await XF(this.wagmiConfig,{name:ez(n),chainId:r.id})),{address:s||i||!1}}catch{return{address:!1}}}async estimateGas(e){try{return{gas:await KF(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return NL(e.value,e.decimals)}formatUnits(e){return Sl(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===Y.CONNECTOR_ID.AUTH||e.id===Y.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:Qi.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:Qi.ConnectorNamesMap[e.id]??e.name,imageId:Qi.ConnectorImageIds[e.id],type:Qi.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===Y.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){oU(this.wagmiConfig,{onChange:r=>r.forEach(s=>this.addWagmiConnector(s,e))}),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addWagmiConnectors(e,n),await this.addThirdPartyConnectors(e)}async syncConnection(e){const{id:n}=e,s=Ha(this.wagmiConfig).find(a=>a.connector.id===n),i=this.getWagmiConnector(n),o=await(i==null?void 0:i.getProvider());return{chainId:Number(s==null?void 0:s.chainId),address:s==null?void 0:s.accounts[0],provider:o,type:s==null?void 0:s.connector.type,id:s==null?void 0:s.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await T1(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await N1(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var l,u,d,h,f;const{id:n,provider:r,type:s,info:i,chainId:o}=e,a=this.getWagmiConnector(n);if(!a)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&i&&a.id===Y.CONNECTOR_ID.EIP6963&&((l=a.setEip6963Wallet)==null||l.call(a,{provider:r,info:i})),a.uid===((d=(u=this.wagmiConfig)==null?void 0:u.state)==null?void 0:d.current)){const g=(f=(h=this.wagmiConfig.state)==null?void 0:h.connections)==null?void 0:f.get(a.uid);if(g)return{address:g==null?void 0:g.accounts[0],chainId:g==null?void 0:g.chainId,provider:r,type:s,id:n}}const c=await T1(this.wagmiConfig,{connector:a,chainId:o?Number(o):void 0});return{address:c.accounts[0],chainId:c.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await $5(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=re.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await JF(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});re.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}async getProfile(e){const n=e.chainId,r=await tU(this.wagmiConfig,{address:e.address,chainId:n});if(r){const s=await eU(this.wagmiConfig,{name:r,chainId:n});return{profileName:r,profileImage:s??void 0}}return{profileName:void 0,profileImage:void 0}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=Ha(this.wagmiConfig);await Promise.all(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await GF(this.wagmiConfig,{connector:r})}))}async switchNetwork(e){await N1(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Ha(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=i.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=Boe(o)[e];if(u)return u}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Ha(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Ha(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Ha(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){this.addConnector(new Qv({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}let Cf;function Foe(t){return Cf||(Cf=new Noe({...t,sdkVersion:Ce.generateSdkVersion(t.adapters??[],"react",koe)}),TD(Cf)),Cf}const Uoe=({projectId:t,networks:e,children:n})=>{if(e.length===0)throw new Error("Networks array cannot be empty");const r=yr.useMemo(()=>new Loe({networks:e,projectId:t,connectors:[Ch()],transports:Object.fromEntries(e.map(s=>[s.id,Mo()]))}),[t,e]);return yr.useMemo(()=>{Foe({adapters:[r],networks:e,projectId:t,features:{email:!1,socials:!1,swaps:!1,send:!1},themeMode:"light"})},[r,t,e]),vt.jsx(L5,{config:r.wagmiConfig,children:n})};var $k=ke("collapsible").parts("root","trigger","content","indicator");$k.build();Oe()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);var Moe=Object.defineProperty,zoe=(t,e,n)=>e in t?Moe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jv=(t,e,n)=>zoe(t,e+"",n),Voe=(t,e)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(t[n]!==e[n])return!1;return!0},Xv=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(t){if(t in this)return this[t];throw new Error("Unsupported color channel: "+t)}getChannelValuePercent(t,e){const n=e??this.getChannelValue(t),{minValue:r,maxValue:s}=this.getChannelRange(t);return kD(n,r,s)}getChannelPercentValue(t,e){const{minValue:n,maxValue:r,step:s}=this.getChannelRange(t),i=DD(e,n,r,s);return xE(i,n,r,s)}withChannelValue(t,e){const{minValue:n,maxValue:r}=this.getChannelRange(t);if(t in this){let s=this.clone();return s[t]=br(e,n,r),s}throw new Error("Unsupported color channel: "+t)}getColorAxes(t){let{xChannel:e,yChannel:n}=t,r=e||this.getChannels().find(o=>o!==n),s=n||this.getChannels().find(o=>o!==r),i=this.getChannels().find(o=>o!==r&&o!==s);return{xChannel:r,yChannel:s,zChannel:i}}incrementChannel(t,e){const{minValue:n,maxValue:r,step:s}=this.getChannelRange(t),i=xE(br(this.getChannelValue(t)+e,n,r),n,r,s);return this.withChannelValue(t,i)}decrementChannel(t,e){return this.incrementChannel(t,-e)}isEqual(t){return Voe(this.toJSON(),t.toJSON())&&this.getChannelValue("alpha")===t.getChannelValue("alpha")}},Lk=class Wf extends Xv{constructor(e,n,r,s){super(),this.red=e,this.green=n,this.blue=r,this.alpha=s}static parse(e){let n=[];if(/^#[\da-f]+$/i.test(e)&&[4,5,7,9].includes(e.length)){const s=(e.length<6?e.replace(/[^#]/gi,"$&$&"):e).slice(1).split("");for(;s.length>0;)n.push(parseInt(s.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const r=e.match(/^rgba?\((.*)\)$/);return r!=null&&r[1]&&(n=r[1].split(",").map(s=>Number(s.trim())).map((s,i)=>br(s,0,i<3?255:1))),n.length<3?void 0:new Wf(n[0],n[1],n[2],n[3]??1)}toString(e){switch(e){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+e)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const e=this.red/255,n=this.green/255,r=this.blue/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=i-s,a=i===0?0:o/i;let c=0;if(o!==0){switch(i){case e:c=(n-r)/o+(n<r?6:0);break;case n:c=(r-e)/o+2;break;case r:c=(e-n)/o+4;break}c/=6}return new nE(ft(c*360,2),ft(a*100,2),ft(i*100,2),ft(this.alpha,2))}toHSL(){const e=this.red/255,n=this.green/255,r=this.blue/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=(i+s)/2,a=i-s;let c=-1,l=-1;if(a===0)c=l=0;else{switch(l=a/(o<.5?i+s:2-i-s),i){case e:c=(n-r)/a+(n<r?6:0);break;case n:c=(r-e)/a+2;break;case r:c=(e-n)/a+4;break}c/=6}return new tE(ft(c*360,2),ft(l*100,2),ft(o*100,2),ft(this.alpha,2))}clone(){return new Wf(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(e){switch(e){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),s=this.getChannelValue(e);return new Intl.NumberFormat(n,r).format(s)}getChannelRange(e){switch(e){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return Wf.colorChannels}};Jv(Lk,"colorChannels",["red","green","blue"]);var eE=Lk,joe=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,Fk=class Gf extends Xv{constructor(e,n,r,s){super(),this.hue=e,this.saturation=n,this.lightness=r,this.alpha=s}static parse(e){let n;if(n=e.match(joe)){const[r,s,i,o]=(n[1]??n[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new Gf(i2(r,360),br(s,0,100),br(i,0,100),br(o??1,0,1))}}toString(e){switch(e){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${ft(this.saturation,2)}%, ${ft(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${ft(this.saturation,2)}%, ${ft(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+e)}}toHSB(){let e=this.saturation/100,n=this.lightness/100,r=n+e*Math.min(n,1-n);return e=r===0?0:2*(1-n/r),new nE(ft(this.hue,2),ft(e*100,2),ft(r*100,2),ft(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,r=this.lightness/100,s=n*Math.min(r,1-r),i=(o,a=(o+e/30)%12)=>r-s*Math.max(Math.min(a-3,9-a,1),-1);return new eE(Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255),ft(this.alpha,2))}clone(){return new Gf(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),s=this.getChannelValue(e);return(e==="saturation"||e==="lightness")&&(s/=100),new Intl.NumberFormat(n,r).format(s)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return Gf.colorChannels}};Jv(Fk,"colorChannels",["hue","saturation","lightness"]);var tE=Fk,Hoe=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,Uk=class Kf extends Xv{constructor(e,n,r,s){super(),this.hue=e,this.saturation=n,this.brightness=r,this.alpha=s}static parse(e){let n;if(n=e.match(Hoe)){const[r,s,i,o]=(n[1]??n[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new Kf(i2(r,360),br(s,0,100),br(i,0,100),br(o??1,0,1))}}toString(e){switch(e){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${ft(this.saturation,2)}%, ${ft(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${ft(this.saturation,2)}%, ${ft(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+e)}}toHSL(){let e=this.saturation/100,n=this.brightness/100,r=n*(1-e/2);return e=r===0||r===1?0:(n-r)/Math.min(r,1-r),new tE(ft(this.hue,2),ft(e*100,2),ft(r*100,2),ft(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,r=this.brightness/100,s=(i,o=(i+e/60)%6)=>r-n*r*Math.max(Math.min(o,4-o,1),0);return new eE(Math.round(s(5)*255),Math.round(s(3)*255),Math.round(s(1)*255),ft(this.alpha,2))}clone(){return new Kf(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),s=this.getChannelValue(e);return(e==="saturation"||e==="brightness")&&(s/=100),new Intl.NumberFormat(n,r).format(s)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return Kf.colorChannels}};Jv(Uk,"colorChannels",["hue","saturation","brightness"]);var nE=Uk,qoe="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,rebeccapurple:663399,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",Woe=t=>{const e=new Map,n=t.split(",");for(let r=0;r<n.length;r++){const[s,i]=n[r].split(":");e.set(s,`#${i}`),s.includes("gray")&&e.set(s.replace("gray","grey"),`#${i}`)}return e},vx=Woe(qoe),Lp=t=>{var n;if(vx.has(t))return Lp(vx.get(t));const e=eE.parse(t)||nE.parse(t)||tE.parse(t);if(!e){const r=new Error("Invalid color value: "+t);throw(n=Error.captureStackTrace)==null||n.call(Error,r,Lp),r}return e};const Goe=["top","right","bottom","left"],uo=Math.min,gr=Math.max,Fp=Math.round,Af=Math.floor,Bs=t=>({x:t,y:t}),Koe={left:"right",right:"left",bottom:"top",top:"bottom"},Yoe={start:"end",end:"start"};function J0(t,e,n){return gr(t,uo(e,n))}function Ci(t,e){return typeof t=="function"?t(e):t}function Ai(t){return t.split("-")[0]}function jl(t){return t.split("-")[1]}function rE(t){return t==="x"?"y":"x"}function sE(t){return t==="y"?"height":"width"}function Ns(t){return["top","bottom"].includes(Ai(t))?"y":"x"}function iE(t){return rE(Ns(t))}function Qoe(t,e,n){n===void 0&&(n=!1);const r=jl(t),s=iE(t),i=sE(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Up(o)),[o,Up(o)]}function Zoe(t){const e=Up(t);return[X0(t),e,X0(e)]}function X0(t){return t.replace(/start|end/g,e=>Yoe[e])}function Joe(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Xoe(t,e,n,r){const s=jl(t);let i=Joe(Ai(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(X0)))),i}function Up(t){return t.replace(/left|right|bottom|top/g,e=>Koe[e])}function eae(t){return{top:0,right:0,bottom:0,left:0,...t}}function Mk(t){return typeof t!="number"?eae(t):{top:t,right:t,bottom:t,left:t}}function Mp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Ex(t,e,n){let{reference:r,floating:s}=t;const i=Ns(e),o=iE(e),a=sE(o),c=Ai(e),l=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let f;switch(c){case"top":f={x:u,y:r.y-s.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-s.width,y:d};break;default:f={x:r.x,y:r.y}}switch(jl(e)){case"start":f[o]-=h*(n&&l?-1:1);break;case"end":f[o]+=h*(n&&l?-1:1);break}return f}const tae=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=Ex(l,r,c),h=r,f={},g=0;for(let p=0;p<a.length;p++){const{name:m,fn:y}=a[p],{x:b,y:w,data:E,reset:C}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:f,rects:l,platform:o,elements:{reference:t,floating:e}});u=b??u,d=w??d,f={...f,[m]:{...f[m],...E}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(l=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:u,y:d}=Ex(l,h,c)),p=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:f}};async function Jd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ci(e,t),g=Mk(f),m=a[h?d==="floating"?"reference":"floating":d],y=Mp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(m)))==null||n?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),b=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Mp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-C.top+g.top)/E.y,bottom:(C.bottom-y.bottom+g.bottom)/E.y,left:(y.left-C.left+g.left)/E.x,right:(C.right-y.right+g.right)/E.x}}const nae=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=Ci(t,e)||{};if(l==null)return{};const d=Mk(u),h={x:n,y:r},f=iE(s),g=sE(f),p=await o.getDimensions(l),m=f==="y",y=m?"top":"left",b=m?"bottom":"right",w=m?"clientHeight":"clientWidth",E=i.reference[g]+i.reference[f]-h[f]-i.floating[g],C=h[f]-i.reference[f],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let A=I?I[w]:0;(!A||!await(o.isElement==null?void 0:o.isElement(I)))&&(A=a.floating[w]||i.floating[g]);const x=E/2-C/2,v=A/2-p[g]/2-1,R=uo(d[y],v),N=uo(d[b],v),B=R,F=A-p[g]-N,_=A/2-p[g]/2+x,T=J0(B,_,F),S=!c.arrow&&jl(s)!=null&&_!==T&&i.reference[g]/2-(_<B?R:N)-p[g]/2<0,D=S?_<B?_-B:_-F:0;return{[f]:h[f]+D,data:{[f]:T,centerOffset:_-T-D,...S&&{alignmentOffset:D}},reset:S}}}),rae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...m}=Ci(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Ai(s),b=Ns(a),w=Ai(a)===a,E=await(c.isRTL==null?void 0:c.isRTL(l.floating)),C=h||(w||!p?[Up(a)]:Zoe(a)),I=g!=="none";!h&&I&&C.push(...Xoe(a,p,g,E));const A=[a,...C],x=await Jd(e,m),v=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&v.push(x[y]),d){const _=Qoe(s,o,E);v.push(x[_[0]],x[_[1]])}if(R=[...R,{placement:s,overflows:v}],!v.every(_=>_<=0)){var N,B;const _=(((N=i.flip)==null?void 0:N.index)||0)+1,T=A[_];if(T&&(!(d==="alignment"?b!==Ns(T):!1)||R.every(k=>k.overflows[0]>0&&Ns(k.placement)===b)))return{data:{index:_,overflows:R},reset:{placement:T}};let S=(B=R.filter(D=>D.overflows[0]<=0).sort((D,k)=>D.overflows[1]-k.overflows[1])[0])==null?void 0:B.placement;if(!S)switch(f){case"bestFit":{var F;const D=(F=R.filter(k=>{if(I){const O=Ns(k.placement);return O===b||O==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(O=>O>0).reduce((O,L)=>O+L,0)]).sort((k,O)=>k[1]-O[1])[0])==null?void 0:F[0];D&&(S=D);break}case"initialPlacement":S=a;break}if(s!==S)return{reset:{placement:S}}}return{}}}};function Cx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ax(t){return Goe.some(e=>t[e]>=0)}const sae=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ci(t,e);switch(r){case"referenceHidden":{const i=await Jd(e,{...s,elementContext:"reference"}),o=Cx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ax(o)}}}case"escaped":{const i=await Jd(e,{...s,altBoundary:!0}),o=Cx(i,n.floating);return{data:{escapedOffsets:o,escaped:Ax(o)}}}default:return{}}}}};async function iae(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ai(n),a=jl(n),c=Ns(n)==="y",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,d=Ci(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),c?{x:f*u,y:h*l}:{x:h*l,y:f*u}}const oae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await iae(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},aae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:m=>{let{x:y,y:b}=m;return{x:y,y:b}}},...c}=Ci(t,e),l={x:n,y:r},u=await Jd(e,c),d=Ns(Ai(s)),h=rE(d);let f=l[h],g=l[d];if(i){const m=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=f+u[m],w=f-u[y];f=J0(b,f,w)}if(o){const m=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=g+u[m],w=g-u[y];g=J0(b,g,w)}const p=a.fn({...e,[h]:f,[d]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:i,[d]:o}}}}}},cae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Ci(t,e),u={x:n,y:r},d=Ns(s),h=rE(d);let f=u[h],g=u[d];const p=Ci(a,e),m=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",E=i.reference[h]-i.floating[w]+m.mainAxis,C=i.reference[h]+i.reference[w]-m.mainAxis;f<E?f=E:f>C&&(f=C)}if(l){var y,b;const w=h==="y"?"width":"height",E=["top","left"].includes(Ai(s)),C=i.reference[d]-i.floating[w]+(E&&((y=o.offset)==null?void 0:y[d])||0)+(E?0:m.crossAxis),I=i.reference[d]+i.reference[w]+(E?0:((b=o.offset)==null?void 0:b[d])||0)-(E?m.crossAxis:0);g<C?g=C:g>I&&(g=I)}return{[h]:f,[d]:g}}}},lae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...l}=Ci(t,e),u=await Jd(e,l),d=Ai(s),h=jl(s),f=Ns(s)==="y",{width:g,height:p}=i.floating;let m,y;d==="top"||d==="bottom"?(m=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,m=h==="end"?"top":"bottom");const b=p-u.top-u.bottom,w=g-u.left-u.right,E=uo(p-u[m],b),C=uo(g-u[y],w),I=!e.middlewareData.shift;let A=E,x=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=b),I&&!h){const R=gr(u.left,0),N=gr(u.right,0),B=gr(u.top,0),F=gr(u.bottom,0);f?x=g-2*(R!==0||N!==0?R+N:gr(u.left,u.right)):A=p-2*(B!==0||F!==0?B+F:gr(u.top,u.bottom))}await c({...e,availableWidth:x,availableHeight:A});const v=await o.getDimensions(a.floating);return g!==v.width||p!==v.height?{reset:{rects:!0}}:{}}}};function Zg(){return typeof window<"u"}function Hl(t){return zk(t)?(t.nodeName||"").toLowerCase():"#document"}function wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vs(t){var e;return(e=(zk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zk(t){return Zg()?t instanceof Node||t instanceof wr(t).Node:!1}function ds(t){return Zg()?t instanceof Element||t instanceof wr(t).Element:!1}function zs(t){return Zg()?t instanceof HTMLElement||t instanceof wr(t).HTMLElement:!1}function Ix(t){return!Zg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wr(t).ShadowRoot}function $h(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=hs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function uae(t){return["table","td","th"].includes(Hl(t))}function Jg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function oE(t){const e=aE(),n=ds(t)?hs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function dae(t){let e=ho(t);for(;zs(e)&&!El(e);){if(oE(e))return e;if(Jg(e))return null;e=ho(e)}return null}function aE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function El(t){return["html","body","#document"].includes(Hl(t))}function hs(t){return wr(t).getComputedStyle(t)}function Xg(t){return ds(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ho(t){if(Hl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ix(t)&&t.host||Vs(t);return Ix(e)?e.host:e}function Vk(t){const e=ho(t);return El(e)?t.ownerDocument?t.ownerDocument.body:t.body:zs(e)&&$h(e)?e:Vk(e)}function Xd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Vk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=wr(s);if(i){const a=ew(o);return e.concat(o,o.visualViewport||[],$h(s)?s:[],a&&n?Xd(a):[])}return e.concat(s,Xd(s,[],n))}function ew(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jk(t){const e=hs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=zs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Fp(n)!==i||Fp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function cE(t){return ds(t)?t:t.contextElement}function Fc(t){const e=cE(t);if(!zs(e))return Bs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=jk(e);let o=(i?Fp(n.width):n.width)/r,a=(i?Fp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const hae=Bs(0);function Hk(t){const e=wr(t);return!aE()||!e.visualViewport?hae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fae(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wr(t)?!1:e}function Aa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=cE(t);let o=Bs(1);e&&(r?ds(r)&&(o=Fc(r)):o=Fc(t));const a=fae(i,n,r)?Hk(i):Bs(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const h=wr(i),f=r&&ds(r)?wr(r):r;let g=h,p=ew(g);for(;p&&r&&f!==g;){const m=Fc(p),y=p.getBoundingClientRect(),b=hs(p),w=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*m.x,E=y.top+(p.clientTop+parseFloat(b.paddingTop))*m.y;c*=m.x,l*=m.y,u*=m.x,d*=m.y,c+=w,l+=E,g=wr(p),p=ew(g)}}return Mp({width:u,height:d,x:c,y:l})}function lE(t,e){const n=Xg(t).scrollLeft;return e?e.left+n:Aa(Vs(t)).left+n}function qk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:lE(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function pae(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Vs(r),a=e?Jg(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=Bs(1);const u=Bs(0),d=zs(r);if((d||!d&&!i)&&((Hl(r)!=="body"||$h(o))&&(c=Xg(r)),zs(r))){const f=Aa(r);l=Fc(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!i?qk(o,c,!0):Bs(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}}function gae(t){return Array.from(t.getClientRects())}function mae(t){const e=Vs(t),n=Xg(t),r=t.ownerDocument.body,s=gr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=gr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+lE(t);const a=-n.scrollTop;return hs(r).direction==="rtl"&&(o+=gr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function yae(t,e){const n=wr(t),r=Vs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=aE();(!l||l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function bae(t,e){const n=Aa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=zs(t)?Fc(t):Bs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,l=r*i.y;return{width:o,height:a,x:c,y:l}}function xx(t,e,n){let r;if(e==="viewport")r=yae(t,n);else if(e==="document")r=mae(Vs(t));else if(ds(e))r=bae(e,n);else{const s=Hk(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Mp(r)}function Wk(t,e){const n=ho(t);return n===e||!ds(n)||El(n)?!1:hs(n).position==="fixed"||Wk(n,e)}function wae(t,e){const n=e.get(t);if(n)return n;let r=Xd(t,[],!1).filter(a=>ds(a)&&Hl(a)!=="body"),s=null;const i=hs(t).position==="fixed";let o=i?ho(t):t;for(;ds(o)&&!El(o);){const a=hs(o),c=oE(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||$h(o)&&!c&&Wk(t,o))?r=r.filter(u=>u!==o):s=a,o=ho(o)}return e.set(t,r),r}function vae(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Jg(e)?[]:wae(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const d=xx(e,u,s);return l.top=gr(d.top,l.top),l.right=uo(d.right,l.right),l.bottom=uo(d.bottom,l.bottom),l.left=gr(d.left,l.left),l},xx(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Eae(t){const{width:e,height:n}=jk(t);return{width:e,height:n}}function Cae(t,e,n){const r=zs(e),s=Vs(e),i=n==="fixed",o=Aa(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Bs(0);function l(){c.x=lE(s)}if(r||!r&&!i)if((Hl(e)!=="body"||$h(s))&&(a=Xg(e)),r){const f=Aa(e,!0,i,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else s&&l();i&&!r&&s&&l();const u=s&&!r&&!i?qk(s,a):Bs(0),d=o.left+a.scrollLeft-c.x-u.x,h=o.top+a.scrollTop-c.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function jy(t){return hs(t).position==="static"}function Sx(t,e){if(!zs(t)||hs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vs(t)===n&&(n=n.ownerDocument.body),n}function Gk(t,e){const n=wr(t);if(Jg(t))return n;if(!zs(t)){let s=ho(t);for(;s&&!El(s);){if(ds(s)&&!jy(s))return s;s=ho(s)}return n}let r=Sx(t,e);for(;r&&uae(r)&&jy(r);)r=Sx(r,e);return r&&El(r)&&jy(r)&&!oE(r)?n:r||dae(t)||n}const Aae=async function(t){const e=this.getOffsetParent||Gk,n=this.getDimensions,r=await n(t.floating);return{reference:Cae(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Iae(t){return hs(t).direction==="rtl"}const xae={convertOffsetParentRelativeRectToViewportRelativeRect:pae,getDocumentElement:Vs,getClippingRect:vae,getOffsetParent:Gk,getElementRects:Aae,getClientRects:gae,getDimensions:Eae,getScale:Fc,isElement:ds,isRTL:Iae};function Kk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Sae(t,e){let n=null,r;const s=Vs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const l=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=l;if(a||e(),!h||!f)return;const g=Af(d),p=Af(s.clientWidth-(u+h)),m=Af(s.clientHeight-(d+f)),y=Af(u),w={rootMargin:-g+"px "+-p+"px "+-m+"px "+-y+"px",threshold:gr(0,uo(1,c))||1};let E=!0;function C(I){const A=I[0].intersectionRatio;if(A!==c){if(!E)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!Kk(l,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(t)}return o(!0),i}function _ae(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=cE(t),u=s||i?[...l?Xd(l):[],...Xd(e)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const d=l&&a?Sae(l,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===l&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),n()}),l&&!c&&f.observe(l),f.observe(e));let g,p=c?Aa(t):null;c&&m();function m(){const y=Aa(t);p&&!Kk(p,y)&&n(),p=y,g=requestAnimationFrame(m)}return n(),()=>{var y;u.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(g)}}const Pae=oae,Tae=aae,Oae=rae,Rae=lae,Nae=sae,kae=nae,Dae=cae,Bae=(t,e,n)=>{const r=new Map,s={platform:xae,...n},i={...s.platform,_c:r};return tae(t,e,{...s,platform:i})};function _x(t=0,e=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,r);const s={x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:e+r,left:t};return{...s,toJSON:()=>s}}function $ae(t){if(!t)return _x();const{x:e,y:n,width:r,height:s}=t;return _x(e,n,r,s)}function Lae(t,e){return{contextElement:$D(t)?t:void 0,getBoundingClientRect:()=>{const n=t,r=e==null?void 0:e(n);return r||!n?$ae(r):n.getBoundingClientRect()}}}var Px=t=>({variable:t,reference:`var(${t})`}),Yk={transformOrigin:Px("--transform-origin"),arrowOffset:Px("--arrow-offset")},Fae=t=>({top:"bottom center","top-start":t?`${t.x}px bottom`:"left bottom","top-end":t?`${t.x}px bottom`:"right bottom",bottom:"top center","bottom-start":t?`${t.x}px top`:"top left","bottom-end":t?`${t.x}px top`:"top right",left:"right center","left-start":t?`right ${t.y}px`:"right top","left-end":t?`right ${t.y}px`:"right bottom",right:"left center","right-start":t?`left ${t.y}px`:"left top","right-end":t?`left ${t.y}px`:"left bottom"}),Uae={name:"transformOrigin",fn({placement:t,elements:e,middlewareData:n}){const{arrow:r}=n,s=Fae(r)[t],{floating:i}=e;return i.style.setProperty(Yk.transformOrigin.variable,s),{data:{transformOrigin:s}}}},Mae={name:"rects",fn({rects:t}){return{data:t}}},zae=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:s}=n.arrow,i=e.split("-")[0];return Object.assign(t.style,{left:r!=null?`${r}px`:"",top:s!=null?`${s}px`:"",[i]:`calc(100% + ${Yk.arrowOffset.reference})`}),{}}}};function Vae(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}function jae(t){return t.split("-")[0]}var Hae={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function Tx(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function Qk(t){return FD(t.boundary)}function qae(t,e){if(t)return kae({element:t,padding:e.arrowPadding})}function Wae(t,e){if(!LD(e.offset??e.gutter))return Pae(({placement:n})=>{var l,u;const r=((t==null?void 0:t.clientHeight)||0)/2,s=((l=e.offset)==null?void 0:l.mainAxis)??e.gutter,i=typeof s=="number"?s+r:s??r,{hasAlign:o}=Vae(n),a=o?void 0:e.shift,c=((u=e.offset)==null?void 0:u.crossAxis)??a;return MD({crossAxis:c,mainAxis:i,alignmentAxis:e.shift})})}function Gae(t){if(t.flip)return Oae({boundary:Qk(t),padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function Kae(t){if(!(!t.slide&&!t.overlap))return Tae({boundary:Qk(t),mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:Dae()})}function Yae(t){return Rae({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:r,availableWidth:s}){const i=e.floating,o=Math.round(n.reference.width);s=Math.floor(s),r=Math.floor(r),i.style.setProperty("--reference-width",`${o}px`),i.style.setProperty("--available-width",`${s}px`),i.style.setProperty("--available-height",`${r}px`)}})}function Qae(t){var e;if(t.hideWhenDetached)return Nae({strategy:"referenceHidden",boundary:((e=t.boundary)==null?void 0:e.call(t))??"clippingAncestors"})}function Zae(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function Jae(t,e,n={}){const r=Lae(t,n.getAnchorRect);if(!e||!r)return;const s=Object.assign({},Hae,n),i=e.querySelector("[data-part=arrow]"),o=[Wae(i,s),Gae(s),Kae(s),qae(i,s),zae(i),Uae,Yae(s),Qae(s),Mae],{placement:a,strategy:c,onComplete:l,onPositioned:u}=s,d=async()=>{var E;if(!r||!e)return;const p=await Bae(r,e,{placement:a,middleware:o,strategy:c});l==null||l(p),u==null||u({placed:!0});const m=ia(e),y=Tx(m,p.x),b=Tx(m,p.y);e.style.setProperty("--x",`${y}px`),e.style.setProperty("--y",`${b}px`),s.hideWhenDetached&&(((E=p.middlewareData.hide)==null?void 0:E.referenceHidden)?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const w=e.firstElementChild;if(w){const C=UD(w);e.style.setProperty("--z-index",C.zIndex)}},h=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:d}),u==null||u({placed:!0})):await d()},f=Zae(s.listeners),g=s.listeners?_ae(r,e,h,f):BD;return h(),()=>{g==null||g(),u==null||u({placed:!1})}}function fs(t,e,n={}){const{defer:r,...s}=n,i=r?ht:a=>a(),o=[];return o.push(i(()=>{const a=typeof t=="function"?t():t,c=typeof e=="function"?e():e;o.push(Jae(a,c,s))})),()=>{o.forEach(a=>a==null?void 0:a())}}var Zk=ke("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);Zk.build();var Xae=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`color-picker:${t.id}:hidden-input`},ece=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`color-picker:${t.id}:control`},tce=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`color-picker:${t.id}:trigger`},nce=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`color-picker:${t.id}:content`},rce=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`color-picker:${t.id}:positioner`},sce=t=>{var e;return((e=t.ids)==null?void 0:e.formatSelect)??`color-picker:${t.id}:format-select`},ice=t=>{var e;return((e=t.ids)==null?void 0:e.area)??`color-picker:${t.id}:area`},oce=t=>{var e;return((e=t.ids)==null?void 0:e.areaThumb)??`color-picker:${t.id}:area-thumb`},ace=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.channelSliderTrack)==null?void 0:r.call(n,e))??`color-picker:${t.id}:slider-track:${e}`},cce=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.channelSliderThumb)==null?void 0:r.call(n,e))??`color-picker:${t.id}:slider-thumb:${e}`},Yf=t=>t.getById(nce(t)),lce=t=>t.getById(oce(t)),uce=(t,e)=>t.getById(cce(t,e)),dce=t=>t.getById(sce(t)),Ox=t=>t.getById(Xae(t)),hce=t=>t.getById(ice(t)),fce=(t,e)=>{const n=hce(t);if(!n)return;const{percent:r}=o2(e,n);return r},pce=t=>t.getById(ece(t)),Hy=t=>t.getById(tce(t)),gce=t=>t.getById(rce(t)),mce=(t,e)=>t.getById(ace(t,e)),yce=(t,e,n)=>{const r=mce(t,n);if(!r)return;const{percent:s}=o2(e,r);return s},bce=t=>[...ep(Yf(t),"input[data-channel]"),...ep(pce(t),"input[data-channel]")];function wce(t,e){if(e==null)return"";if(e==="hex")return t.toString("hex");if(e==="css")return t.toString("css");if(e in t)return t.getChannelValue(e).toString();const n=t.getFormat()==="hsla";switch(e){case"hue":return n?t.toFormat("hsla").getChannelValue("hue").toString():t.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return n?t.toFormat("hsla").getChannelValue("saturation").toString():t.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return t.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return t.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return t.toFormat("rgba").getChannelValue(e).toString();default:return t.getChannelValue(e).toString()}}var Rx=t=>Lp(t),{and:vce}=Il();Al({props({props:t}){return{dir:"ltr",defaultValue:Rx("#000000"),defaultFormat:"rgba",openAutoFocus:!0,...t,positioning:{placement:"bottom",...t.positioning}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"idle"},context({prop:t,bindable:e,getContext:n}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),isEqual(r,s){return r.toString("css")===(s==null?void 0:s.toString("css"))},hash(r){return r.toString("css")},onChange(r){var o;const s=n(),i=r.toString(s.get("format"));(o=t("onValueChange"))==null||o({value:r,valueAsString:i})}})),format:e(()=>({defaultValue:t("defaultFormat"),value:t("format"),onChange(r){var s;(s=t("onFormatChange"))==null||s({format:r})}})),activeId:e(()=>({defaultValue:null})),activeChannel:e(()=>({defaultValue:null})),activeOrientation:e(()=>({defaultValue:null})),fieldsetDisabled:e(()=>({defaultValue:!1})),restoreFocus:e(()=>({defaultValue:!0})),currentPlacement:e(()=>({defaultValue:void 0}))}},computed:{rtl:({prop:t})=>t("dir")==="rtl",disabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled"),interactive:({prop:t})=>!(t("disabled")||t("readOnly")),valueAsString:({context:t})=>t.get("value").toString(t.get("format")),areaValue:({context:t})=>{const e=t.get("format").startsWith("hsl")?"hsla":"hsba";return t.get("value").toFormat(e)}},effects:["trackFormControl"],watch({prop:t,context:e,action:n,track:r}){r([()=>e.hash("value")],()=>{n(["syncInputElements","dispatchChangeEvent"])}),r([()=>e.get("format")],()=>{n(["syncFormatSelectElement"])}),r([()=>t("open")],()=>{n(["toggleVisibility"])})},on:{"VALUE.SET":{actions:["setValue"]},"FORMAT.SET":{actions:["setFormat"]},"CHANNEL_INPUT.CHANGE":{actions:["setChannelColorFromInput"]},"EYEDROPPER.CLICK":{actions:["openEyeDropper"]},"SWATCH_TRIGGER.CLICK":{actions:["setValue"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{target:"focused",actions:["setActiveChannel"]}}},focused:{tags:["closed","focused"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_INPUT.BLUR":{target:"idle",actions:["setChannelColorFromInput"]},"TRIGGER.BLUR":{target:"idle"}}},open:{tags:["open"],effects:["trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"AREA.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setAreaColorFromPoint","focusAreaThumb"]},"AREA.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_SLIDER.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.FOCUS":{actions:["setActiveChannel"]},"AREA.ARROW_LEFT":{actions:["decrementAreaXChannel"]},"AREA.ARROW_RIGHT":{actions:["incrementAreaXChannel"]},"AREA.ARROW_UP":{actions:["incrementAreaYChannel"]},"AREA.ARROW_DOWN":{actions:["decrementAreaYChannel"]},"AREA.PAGE_UP":{actions:["incrementAreaXChannel"]},"AREA.PAGE_DOWN":{actions:["decrementAreaXChannel"]},"CHANNEL_SLIDER.ARROW_LEFT":{actions:["decrementChannel"]},"CHANNEL_SLIDER.ARROW_RIGHT":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.PAGE_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.PAGE_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.HOME":{actions:["setChannelToMin"]},"CHANNEL_SLIDER.END":{actions:["setChannelToMax"]},"CHANNEL_INPUT.BLUR":{actions:["setChannelColorFromInput"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"SWATCH_TRIGGER.CLICK":[{guard:vce("isOpenControlled","closeOnSelect"),actions:["setValue","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setValue","invokeOnClose","setReturnFocus"]},{actions:["setValue"]}]}},"open:dragging":{tags:["open"],exit:["clearActiveChannel"],effects:["trackPointerMove","disableTextSelection","trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"AREA.POINTER_MOVE":{actions:["setAreaColorFromPoint","focusAreaThumb"]},"AREA.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},"CHANNEL_SLIDER.POINTER_MOVE":{actions:["setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}]}}},implementations:{guards:{closeOnSelect:({prop:t})=>!!t("closeOnSelect"),isOpenControlled:({prop:t})=>t("open")!=null,shouldRestoreFocus:({context:t})=>!!t.get("restoreFocus")},effects:{trackPositioning({context:t,prop:e,scope:n}){var i;t.get("currentPlacement")||t.set("currentPlacement",(i=e("positioning"))==null?void 0:i.placement);const r=Hy(n);return fs(r,()=>gce(n),{...e("positioning"),defer:!0,onComplete(o){t.set("currentPlacement",o.placement)}})},trackDismissableElement({context:t,scope:e,prop:n,send:r}){return ih(()=>Yf(e),{exclude:Hy(e),defer:!0,onInteractOutside(i){var o;(o=n("onInteractOutside"))==null||o(i),!i.defaultPrevented&&t.set("restoreFocus",!(i.detail.focusable||i.detail.contextmenu))},onPointerDownOutside:n("onPointerDownOutside"),onFocusOutside:n("onFocusOutside"),onDismiss(){r({type:"INTERACT_OUTSIDE"})}})},trackFormControl({context:t,scope:e,send:n}){const r=Ox(e);return yw(r,{onFieldsetDisabledChange(s){t.set("fieldsetDisabled",s)},onFormReset(){n({type:"VALUE.SET",value:t.initial("value"),src:"form.reset"})}})},trackPointerMove({context:t,scope:e,event:n,send:r}){return HD(e.getDoc(),{onPointerMove({point:s}){const i=t.get("activeId")==="area"?"AREA.POINTER_MOVE":"CHANNEL_SLIDER.POINTER_MOVE";r({type:i,point:s,format:n.format})},onPointerUp(){const s=t.get("activeId")==="area"?"AREA.POINTER_UP":"CHANNEL_SLIDER.POINTER_UP";r({type:s})}})},disableTextSelection({scope:t}){return jD({doc:t.getDoc(),target:Yf(t)})}},actions:{openEyeDropper({scope:t,context:e}){const n=t.getWin();if(!("EyeDropper"in n))return;new n.EyeDropper().open().then(({sRGBHex:i})=>{const o=e.get("value").getFormat(),a=Lp(i).toFormat(o);e.set("value",a)}).catch(()=>{})},setActiveChannel({context:t,event:e}){t.set("activeId",e.id),e.channel&&t.set("activeChannel",e.channel),e.orientation&&t.set("activeOrientation",e.orientation)},clearActiveChannel({context:t}){t.set("activeChannel",null),t.set("activeId",null),t.set("activeOrientation",null)},setAreaColorFromPoint({context:t,event:e,computed:n,scope:r}){const s=e.format?t.get("value").toFormat(e.format):n("areaValue"),{xChannel:i,yChannel:o}=e.channel||t.get("activeChannel"),a=fce(r,e.point);if(!a)return;const c=s.getChannelPercentValue(i,a.x),l=s.getChannelPercentValue(o,1-a.y),u=s.withChannelValue(i,c).withChannelValue(o,l);t.set("value",u)},setChannelColorFromPoint({context:t,event:e,computed:n,scope:r}){const s=e.channel||t.get("activeId"),i=e.format?t.get("value").toFormat(e.format):n("areaValue"),o=yce(r,e.point,s);if(!o)return;const c=(t.get("activeOrientation")||"horizontal")==="horizontal"?o.x:o.y,l=i.getChannelPercentValue(s,c),u=i.withChannelValue(s,l);t.set("value",u)},setValue({context:t,event:e}){t.set("value",e.value)},setFormat({context:t,event:e}){t.set("format",e.format)},dispatchChangeEvent({scope:t,computed:e}){VD(Ox(t),{value:e("valueAsString")})},syncInputElements({context:t,scope:e}){Nx(e,t.get("value"))},invokeOnChangeEnd({context:t,prop:e,computed:n}){var r;(r=e("onValueChangeEnd"))==null||r({value:t.get("value"),valueAsString:n("valueAsString")})},setChannelColorFromInput({context:t,event:e,scope:n,prop:r}){var l;const{channel:s,isTextField:i,value:o}=e,a=t.get("value").getChannelValue("alpha");let c;if(s==="alpha"){let u=parseFloat(o);u=Number.isNaN(u)?a:u,c=t.get("value").withChannelValue("alpha",u)}else if(i)c=zD(()=>Rx(o).withChannelValue("alpha",a),()=>t.get("value"));else{const u=t.get("value").toFormat(t.get("format")),d=Number.isNaN(o)?u.getChannelValue(s):o;c=u.withChannelValue(s,d)}Nx(n,t.get("value"),c),t.set("value",c),(l=r("onValueChangeEnd"))==null||l({value:c,valueAsString:c.toString(t.get("format"))})},incrementChannel({context:t,event:e}){const n=t.get("value").incrementChannel(e.channel,e.step);t.set("value",n)},decrementChannel({context:t,event:e}){const n=t.get("value").decrementChannel(e.channel,e.step);t.set("value",n)},incrementAreaXChannel({context:t,event:e,computed:n}){const{xChannel:r}=e.channel,s=n("areaValue").incrementChannel(r,e.step);t.set("value",s)},decrementAreaXChannel({context:t,event:e,computed:n}){const{xChannel:r}=e.channel,s=n("areaValue").decrementChannel(r,e.step);t.set("value",s)},incrementAreaYChannel({context:t,event:e,computed:n}){const{yChannel:r}=e.channel,s=n("areaValue").incrementChannel(r,e.step);t.set("value",s)},decrementAreaYChannel({context:t,event:e,computed:n}){const{yChannel:r}=e.channel,s=n("areaValue").decrementChannel(r,e.step);t.set("value",s)},setChannelToMax({context:t,event:e}){const n=t.get("value"),r=n.getChannelRange(e.channel),s=n.withChannelValue(e.channel,r.maxValue);t.set("value",s)},setChannelToMin({context:t,event:e}){const n=t.get("value"),r=n.getChannelRange(e.channel),s=n.withChannelValue(e.channel,r.minValue);t.set("value",s)},focusAreaThumb({scope:t}){ht(()=>{var e;(e=lce(t))==null||e.focus({preventScroll:!0})})},focusChannelThumb({event:t,scope:e}){ht(()=>{var n;(n=uce(e,t.channel))==null||n.focus({preventScroll:!0})})},setInitialFocus({prop:t,scope:e}){t("openAutoFocus")&&ht(()=>{const n=mw({root:Yf(e),getInitialEl:t("initialFocusEl")});n==null||n.focus({preventScroll:!0})})},setReturnFocus({scope:t}){ht(()=>{var e;(e=Hy(t))==null||e.focus({preventScroll:!0})})},syncFormatSelectElement({context:t,scope:e}){Ece(e,t.get("format"))},invokeOnOpen({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!0})},invokeOnClose({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!1})},toggleVisibility({prop:t,event:e,send:n}){n({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}});function Nx(t,e,n){const r=bce(t);ht(()=>{r.forEach(s=>{const i=s.dataset.channel;bw(s,wce(n||e,i))})})}function Ece(t,e){const n=dce(t);n&&ht(()=>bw(n,e))}Oe()(["closeOnSelect","dir","disabled","format","defaultFormat","getRootNode","id","ids","initialFocusEl","name","positioning","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","defaultOpen","open","positioning","required","readOnly","value","defaultValue","invalid","openAutoFocus"]);Oe()(["xChannel","yChannel"]);Oe()(["channel","orientation"]);Oe()(["value","disabled"]);Oe()(["value","respectAlpha"]);Oe()(["size"]);var Jk=ke("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");Jk.build();var Xk=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`accordion:${t.id}`},e6=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemTrigger)==null?void 0:r.call(n,e))??`accordion:${t.id}:trigger:${e}`},Cce=t=>t.getById(Xk(t)),em=t=>{const n=`[aria-controls][data-ownedby='${CSS.escape(Xk(t))}']:not([disabled])`;return ep(Cce(t),n)},Ace=t=>c2(em(t)),Ice=t=>a2(em(t)),xce=(t,e)=>GD(em(t),e6(t,e)),Sce=(t,e)=>WD(em(t),e6(t,e)),{and:_ce,not:Pce}=Il();Al({props({props:t}){return{collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[],...t}},initialState(){return"idle"},context({prop:t,bindable:e}){return{focusedValue:e(()=>({defaultValue:null,sync:!0,onChange(n){var r;(r=t("onFocusChange"))==null||r({value:n})}})),value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(n){var r;(r=t("onValueChange"))==null||r({value:n})}}))}},computed:{isHorizontal:({prop:t})=>t("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:_ce("isExpanded","canToggle"),actions:["collapse"]},{guard:Pce("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:t})=>!!t("collapsible")||!!t("multiple"),isExpanded:({context:t,event:e})=>t.get("value").includes(e.value)},actions:{collapse({context:t,prop:e,event:n}){const r=e("multiple")?l2(t.get("value"),n.value):[];t.set("value",r)},expand({context:t,prop:e,event:n}){const r=e("multiple")?KD(t.get("value"),n.value):[n.value];t.set("value",r)},focusFirstTrigger({scope:t}){var e;(e=Ace(t))==null||e.focus()},focusLastTrigger({scope:t}){var e;(e=Ice(t))==null||e.focus()},focusNextTrigger({context:t,scope:e}){const n=t.get("focusedValue");if(!n)return;const r=xce(e,n);r==null||r.focus()},focusPrevTrigger({context:t,scope:e}){const n=t.get("focusedValue");if(!n)return;const r=Sce(e,n);r==null||r.focus()},setFocusedValue({context:t,event:e}){t.set("focusedValue",e.value)},clearFocusedValue({context:t}){t.set("focusedValue",null)},setValue({context:t,event:e}){t.set("value",e.value)},coarseValue({context:t,prop:e}){!e("multiple")&&t.get("value").length>1&&(qD("The value of accordion should be a single value when multiple is false."),t.set("value",[t.get("value")[0]]))}}}});Oe()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);Oe()(["value","disabled"]);var Bu=(t,e)=>({x:t,y:e});function Tce(t){const{x:e,y:n,width:r,height:s}=t,i=e+r/2,o=n+s/2;return{x:e,y:n,width:r,height:s,minX:e,minY:n,maxX:e+r,maxY:n+s,midX:i,midY:o,center:Bu(i,o)}}function Oce(t){const e=Bu(t.minX,t.minY),n=Bu(t.maxX,t.minY),r=Bu(t.maxX,t.maxY),s=Bu(t.minX,t.maxY);return{top:e,right:n,bottom:r,left:s}}function Rce(t,e){const n=Tce(t),{top:r,right:s,left:i,bottom:o}=Oce(n),[a]=e.split("-");return{top:[i,r,s,o],right:[r,s,o,i],bottom:[r,i,o,s],left:[s,r,i,o]}[a]}function Nce(t,e){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i].x,c=t[i].y,l=t[o].x,u=t[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}var t6=ke("avatar").parts("root","image","fallback");t6.build();Oe()(["dir","id","ids","onStatusChange","getRootNode"]);function kce(t){return!(t.metaKey||!QD()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var Dce=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Bce(t,e,n){const r=n?vw(n):null,s=ia(r);return t=t||r instanceof s.HTMLInputElement&&!Dce.has(r==null?void 0:r.type)||r instanceof s.HTMLTextAreaElement||r instanceof s.HTMLElement&&r.isContentEditable,!(t&&e==="keyboard"&&n instanceof s.KeyboardEvent&&!Reflect.has($ce,n.key))}var Ua=null,tw=new Set,Gu=new Map,Ia=!1,nw=!1,$ce={Tab:!0,Escape:!0};function tm(t,e){for(let n of tw)n(t,e)}function zp(t){Ia=!0,kce(t)&&(Ua="keyboard",tm("keyboard",t))}function Br(t){Ua="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Ia=!0,tm("pointer",t))}function n6(t){YD(t)&&(Ia=!0,Ua="virtual")}function r6(t){const e=vw(t);e===ia(e)||e===ww(e)||(!Ia&&!nw&&(Ua="virtual",tm("virtual",t)),Ia=!1,nw=!1)}function s6(){Ia=!1,nw=!0}function Lce(t){if(typeof window>"u"||Gu.get(ia(t)))return;const e=ia(t),n=ww(t);let r=e.HTMLElement.prototype.focus;function s(){Ua="virtual",tm("virtual",null),Ia=!0,r.apply(this,arguments)}Object.defineProperty(e.HTMLElement.prototype,"focus",{configurable:!0,value:s}),n.addEventListener("keydown",zp,!0),n.addEventListener("keyup",zp,!0),n.addEventListener("click",n6,!0),e.addEventListener("focus",r6,!0),e.addEventListener("blur",s6,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",Br,!0),n.addEventListener("pointermove",Br,!0),n.addEventListener("pointerup",Br,!0)):(n.addEventListener("mousedown",Br,!0),n.addEventListener("mousemove",Br,!0),n.addEventListener("mouseup",Br,!0)),e.addEventListener("beforeunload",()=>{Fce(t)},{once:!0}),Gu.set(e,{focus:r})}var Fce=(t,e)=>{const n=ia(t),r=ww(t);Gu.has(n)&&(n.HTMLElement.prototype.focus=Gu.get(n).focus,r.removeEventListener("keydown",zp,!0),r.removeEventListener("keyup",zp,!0),r.removeEventListener("click",n6,!0),n.removeEventListener("focus",r6,!0),n.removeEventListener("blur",s6,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",Br,!0),r.removeEventListener("pointermove",Br,!0),r.removeEventListener("pointerup",Br,!0)):(r.removeEventListener("mousedown",Br,!0),r.removeEventListener("mousemove",Br,!0),r.removeEventListener("mouseup",Br,!0)),Gu.delete(n))};function kx(){return Ua==="keyboard"}function Uce(t={}){const{isTextInput:e,autoFocus:n,onChange:r,root:s}=t;Lce(s),r==null||r({isFocusVisible:n||kx(),modality:Ua});const i=(o,a)=>{Bce(!!e,o,a)&&(r==null||r({isFocusVisible:kx(),modality:o}))};return tw.add(i),()=>{tw.delete(i)}}var i6=ke("checkbox").parts("root","label","control","indicator");i6.build();Oe()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const Mce=i6.extendWith("group"),zce=Zk.extendWith("view");var Vce=Object.defineProperty,jce=(t,e,n)=>e in t?Vce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Re=(t,e,n)=>jce(t,typeof e!="symbol"?e+"":e,n),Qf={itemToValue(t){return typeof t=="string"?t:am(t)&&cm(t,"value")?t.value:""},itemToString(t){return typeof t=="string"?t:am(t)&&cm(t,"label")?t.label:Qf.itemToValue(t)},isItemDisabled(t){return am(t)&&cm(t,"disabled")?!!t.disabled:!1}},nm=class o6{constructor(e){this.options=e,Re(this,"items"),Re(this,"copy",n=>new o6({...this.options,items:n??[...this.items]})),Re(this,"isEqual",n=>Ew(this.items,n.items)),Re(this,"setItems",n=>this.copy(n)),Re(this,"getValues",(n=this.items)=>Array.from(n).map(r=>this.getItemValue(r)).filter(Boolean)),Re(this,"find",n=>{if(n==null)return null;const r=this.indexOf(n);return r!=null?this.at(r):null}),Re(this,"findMany",n=>Array.from(n).map(r=>this.find(r)).filter(r=>r!=null)),Re(this,"at",n=>{if(!this.options.groupBy&&!this.options.groupSort)return this.items[n]??null;let r=0;const s=this.group();for(const[,i]of s)for(const o of i){if(r===n)return o;r++}return null}),Re(this,"sortFn",(n,r)=>{const s=this.indexOf(n),i=this.indexOf(r);return(s??0)-(i??0)}),Re(this,"sort",n=>[...n].sort(this.sortFn.bind(this))),Re(this,"getItemValue",n=>{var r,s;return n==null?null:((s=(r=this.options).itemToValue)==null?void 0:s.call(r,n))??Qf.itemToValue(n)}),Re(this,"getItemDisabled",n=>{var r,s;return n==null?!1:((s=(r=this.options).isItemDisabled)==null?void 0:s.call(r,n))??Qf.isItemDisabled(n)}),Re(this,"stringifyItem",n=>{var r,s;return n==null?null:((s=(r=this.options).itemToString)==null?void 0:s.call(r,n))??Qf.itemToString(n)}),Re(this,"stringify",n=>n==null?null:this.stringifyItem(this.find(n))),Re(this,"stringifyItems",(n,r=", ")=>Array.from(n).map(s=>this.stringifyItem(s)).filter(Boolean).join(r)),Re(this,"stringifyMany",(n,r)=>this.stringifyItems(this.findMany(n),r)),Re(this,"has",n=>this.indexOf(n)!==-1),Re(this,"hasItem",n=>n==null?!1:this.has(this.getItemValue(n))),Re(this,"group",()=>{const{groupBy:n,groupSort:r}=this.options;if(!n)return[["",[...this.items]]];const s=new Map;this.items.forEach((o,a)=>{const c=n(o,a);s.has(c)||s.set(c,[]),s.get(c).push(o)});let i=Array.from(s.entries());return r&&i.sort(([o],[a])=>{if(typeof r=="function")return r(o,a);if(Array.isArray(r)){const c=r.indexOf(o),l=r.indexOf(a);return c===-1?1:l===-1?-1:c-l}return r==="asc"?o.localeCompare(a):r==="desc"?a.localeCompare(o):0}),i}),Re(this,"getNextValue",(n,r=1,s=!1)=>{let i=this.indexOf(n);if(i===-1)return null;for(i=s?Math.min(i+r,this.size-1):i+r;i<=this.size&&this.getItemDisabled(this.at(i));)i++;return this.getItemValue(this.at(i))}),Re(this,"getPreviousValue",(n,r=1,s=!1)=>{let i=this.indexOf(n);if(i===-1)return null;for(i=s?Math.max(i-r,0):i-r;i>=0&&this.getItemDisabled(this.at(i));)i--;return this.getItemValue(this.at(i))}),Re(this,"indexOf",n=>{if(n==null)return-1;if(!this.options.groupBy&&!this.options.groupSort)return this.items.findIndex(i=>this.getItemValue(i)===n);let r=0;const s=this.group();for(const[,i]of s)for(const o of i){if(this.getItemValue(o)===n)return r;r++}return-1}),Re(this,"getByText",(n,r)=>{let s=r!=null?qce(this.items,this.indexOf(r)):this.items;return n.length===1&&(s=s.filter(o=>this.getItemValue(o)!==r)),s.find(o=>Hce(this.stringifyItem(o),n))}),Re(this,"search",(n,r)=>{const{state:s,currentValue:i,timeout:o=350}=r,a=s.keysSoFar+n,l=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,u=this.getByText(l,i),d=this.getItemValue(u);function h(){clearTimeout(s.timer),s.timer=-1}function f(g){s.keysSoFar=g,h(),g!==""&&(s.timer=+setTimeout(()=>{f(""),h()},o))}return f(a),d}),Re(this,"update",(n,r)=>{let s=this.items.findIndex(i=>this.getItemValue(i)===n);return s===-1?this:this.copy([...this.items.slice(0,s),r,...this.items.slice(s+1)])}),Re(this,"insert",(n,...r)=>this.copy(Eu(this.items,n,...r))),Re(this,"insertBefore",(n,...r)=>{let s=this.indexOf(n);if(s===-1)if(this.items.length===0)s=0;else return this;return this.copy(Eu(this.items,s,...r))}),Re(this,"insertAfter",(n,...r)=>{let s=this.indexOf(n);if(s===-1)if(this.items.length===0)s=0;else return this;return this.copy(Eu(this.items,s+1,...r))}),Re(this,"prepend",(...n)=>this.copy(Eu(this.items,0,...n))),Re(this,"append",(...n)=>this.copy(Eu(this.items,this.items.length,...n))),Re(this,"filter",n=>{const r=this.items.filter((s,i)=>n(this.stringifyItem(s),i));return this.copy(r)}),Re(this,"remove",(...n)=>{const r=n.map(s=>typeof s=="string"?s:this.getItemValue(s));return this.copy(this.items.filter(s=>{const i=this.getItemValue(s);return i==null?!1:!r.includes(i)}))}),Re(this,"move",(n,r)=>{const s=this.indexOf(n);return s===-1?this:this.copy(If(this.items,[s],r))}),Re(this,"moveBefore",(n,...r)=>{let s=this.items.findIndex(o=>this.getItemValue(o)===n);if(s===-1)return this;let i=r.map(o=>this.items.findIndex(a=>this.getItemValue(a)===o)).sort((o,a)=>o-a);return this.copy(If(this.items,i,s))}),Re(this,"moveAfter",(n,...r)=>{let s=this.items.findIndex(o=>this.getItemValue(o)===n);if(s===-1)return this;let i=r.map(o=>this.items.findIndex(a=>this.getItemValue(a)===o)).sort((o,a)=>o-a);return this.copy(If(this.items,i,s+1))}),Re(this,"reorder",(n,r)=>this.copy(If(this.items,[n],r))),Re(this,"compareValue",(n,r)=>{const s=this.indexOf(n),i=this.indexOf(r);return s<i?-1:s>i?1:0}),Re(this,"range",(n,r)=>{let s=[],i=n;for(;i!=null;){if(this.find(i)&&s.push(i),i===r)return s;i=this.getNextValue(i)}return[]}),Re(this,"getValueRange",(n,r)=>n&&r?this.compareValue(n,r)<=0?this.range(n,r):this.range(r,n):[]),Re(this,"toString",()=>{let n="";for(const r of this.items){const s=this.getItemValue(r),i=this.stringifyItem(r),o=this.getItemDisabled(r),a=[s,i,o].filter(Boolean).join(":");n+=a+","}return n}),Re(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...e.items]}get size(){return this.items.length}get firstValue(){let e=0;for(;this.getItemDisabled(this.at(e));)e++;return this.getItemValue(this.at(e))}get lastValue(){let e=this.size-1;for(;this.getItemDisabled(this.at(e));)e--;return this.getItemValue(this.at(e))}*[Symbol.iterator](){yield*this.items}},Hce=(t,e)=>!!(t!=null&&t.toLowerCase().startsWith(e.toLowerCase())),qce=(t,e)=>t.map((n,r)=>t[(Math.max(e,0)+r)%t.length]);function Eu(t,e,...n){return[...t.slice(0,e),...n,...t.slice(e)]}function If(t,e,n){e=[...e].sort((s,i)=>s-i);const r=e.map(s=>t[s]);for(let s=e.length-1;s>=0;s--)t=[...t.slice(0,e[s]),...t.slice(e[s]+1)];return n=Math.max(0,n-e.filter(s=>s<n).length),[...t.slice(0,n),...r,...t.slice(n)]}var mc=new WeakMap,xf=new WeakMap,Sf={},qy=0,a6=t=>t&&(t.host||a6(t.parentNode)),Wce=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=a6(n);return r&&t.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",t,". Doing nothing"),null)}).filter(n=>!!n),Gce=t=>t.localName==="next-route-announcer"||t.localName==="script"||t.hasAttribute("aria-live")?!0:t.matches("[data-live-announcer]"),Kce=(t,e)=>{const{parentNode:n,markerName:r,controlAttribute:s}=e,i=Wce(n,Array.isArray(t)?t:[t]);Sf[r]||(Sf[r]=new WeakMap);const o=Sf[r],a=[],c=new Set,l=new Set(i),u=h=>{!h||c.has(h)||(c.add(h),u(h.parentNode))};i.forEach(u);const d=h=>{!h||l.has(h)||Array.prototype.forEach.call(h.children,f=>{if(c.has(f))d(f);else try{if(Gce(f))return;const p=f.getAttribute(s)==="true",m=(mc.get(f)||0)+1,y=(o.get(f)||0)+1;mc.set(f,m),o.set(f,y),a.push(f),m===1&&p&&xf.set(f,!0),y===1&&f.setAttribute(r,""),p||f.setAttribute(s,"true")}catch(g){console.error("[zag-js > ariaHidden] cannot operate on ",f,g)}})};return d(n),c.clear(),qy++,()=>{a.forEach(h=>{const f=mc.get(h)-1,g=o.get(h)-1;mc.set(h,f),o.set(h,g),f||(xf.has(h)||h.removeAttribute(s),xf.delete(h)),g||h.removeAttribute(r)}),qy--,qy||(mc=new WeakMap,mc=new WeakMap,xf=new WeakMap,Sf={})}},Yce=t=>(Array.isArray(t)?t[0]:t).ownerDocument.body,Qce=(t,e=Yce(t),n="data-aria-hidden")=>{if(e)return Kce(t,{parentNode:e,markerName:n,controlAttribute:"aria-hidden"})},Zce=t=>{const e=requestAnimationFrame(()=>t());return()=>cancelAnimationFrame(e)};function Jce(t,e={}){const{defer:n=!0}=e,r=n?Zce:i=>i(),s=[];return s.push(r(()=>{const o=(typeof t=="function"?t():t).filter(Boolean);o.length!==0&&s.push(Qce(o))})),()=>{s.forEach(i=>i==null?void 0:i())}}var c6=ke("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger");c6.build();var l6=t=>new nm(t);l6.empty=()=>new nm({items:[]});var Xce=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`combobox:${t.id}:control`},ele=t=>{var e;return((e=t.ids)==null?void 0:e.input)??`combobox:${t.id}:input`},tle=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`combobox:${t.id}:content`},nle=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`combobox:${t.id}:popper`},rle=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`combobox:${t.id}:toggle-btn`},sle=t=>{var e;return((e=t.ids)==null?void 0:e.clearTrigger)??`combobox:${t.id}:clear-btn`},Fi=t=>t.getById(tle(t)),Ic=t=>t.getById(ele(t)),Dx=t=>t.getById(nle(t)),Bx=t=>t.getById(Xce(t)),$u=t=>t.getById(rle(t)),$x=t=>t.getById(sle(t)),ile=(t,e)=>{if(e==null)return;const n=`[role=option][data-value="${CSS.escape(e)}"]`;return e5(Fi(t),n)},Lx=t=>{const e=Ic(t);t.isActiveElement(e)||e==null||e.focus({preventScroll:!0})},ole=t=>{const e=$u(t);t.isActiveElement(e)||e==null||e.focus({preventScroll:!0})},{guards:ale,createMachine:cle,choose:lle}=u2(),{and:Zt,not:ar}=ale;cle({props({props:t}){return{loopFocus:!0,openOnClick:!1,defaultValue:[],closeOnSelect:!t.multiple,allowCustomValue:!1,inputBehavior:"none",selectionBehavior:t.multiple?"clear":"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,navigate({node:e}){d2(e)},collection:l6.empty(),...t,positioning:{placement:"bottom",sameWidth:!0,...t.positioning},translations:{triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value",...t.translations}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"suggesting":"idle"},context({prop:t,bindable:e,getContext:n}){return{currentPlacement:e(()=>({defaultValue:void 0})),value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),isEqual:Ew,hash(r){return r.join(",")},onChange(r){var c;const s=n(),i=s.get("selectedItems"),o=t("collection"),a=r.map(l=>i.find(d=>o.getItemValue(d)===l)||o.find(l));s.set("selectedItems",a),s.set("valueAsString",o.stringifyItems(a)),(c=t("onValueChange"))==null||c({value:r,items:a})}})),highlightedValue:e(()=>({defaultValue:t("defaultHighlightedValue")||null,value:t("highlightedValue"),onChange(r){var i;const s=t("collection").find(r);(i=t("onHighlightChange"))==null||i({highlightedValue:r,highlightedItem:s})}})),inputValue:e(()=>{let r=t("inputValue")||t("defaultInputValue")||"";const s=t("defaultValue")||t("value")||[];if(!r.trim()&&!t("multiple")){const i=t("collection").stringifyMany(s);r=Rf(t("selectionBehavior"),{preserve:r||i,replace:i,clear:""})}return{defaultValue:r,value:t("inputValue"),onChange(i){var o;(o=t("onInputValueChange"))==null||o({inputValue:i})}}}),highlightedItem:e(()=>{const r=t("highlightedValue");return{defaultValue:t("collection").find(r)}}),selectedItems:e(()=>{const r=t("value")||t("defaultValue")||[];return{defaultValue:t("collection").findMany(r)}}),valueAsString:e(()=>{const r=t("value")||t("defaultValue")||[];return{sync:!0,defaultValue:t("collection").stringifyMany(r)}})}},computed:{isInputValueEmpty:({context:t})=>t.get("inputValue").length===0,isInteractive:({prop:t})=>!(t("readOnly")||t("disabled")),autoComplete:({prop:t})=>t("inputBehavior")==="autocomplete",autoHighlight:({prop:t})=>t("inputBehavior")==="autohighlight",hasSelectedItems:({context:t})=>t.get("value").length>0},watch({context:t,prop:e,track:n,action:r}){n([()=>t.hash("value")],()=>{r(["syncSelectedItems"])}),n([()=>t.get("inputValue")],()=>{r(["syncInputValue"])}),n([()=>t.get("highlightedValue")],()=>{r(["syncHighlightedItem","autofillInputValue"])}),n([()=>e("open")],()=>{r(["toggleVisibility"])})},on:{"SELECTED_ITEMS.SYNC":{actions:["syncSelectedItems"]},"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setValue"]},"INPUT_VALUE.SET":{actions:["setInputValue"]},"POSITIONING.SET":{actions:["reposition"]}},entry:lle([{guard:"autoFocus",actions:["setInitialFocus"]}]),states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:Zt("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:["setInputValue"]}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:Zt("isCustomValue",ar("allowCustomValue")),actions:["revertInputValue"]},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:Zt("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],effects:["scrollToHighlightedItem","trackDismissableLayer","trackPlacement","hideOtherElements"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:Zt("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedItem","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:Zt("autoComplete","isFirstItemHighlighted"),actions:["clearHighlightedItem"]},{actions:["highlightPrevItem"]}],"INPUT.ENTER":[{guard:Zt("isOpenControlled","isCustomValue",ar("hasHighlightedItem"),ar("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Zt("isCustomValue",ar("hasHighlightedItem"),ar("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:Zt("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue"]},{target:"suggesting",actions:["clearHighlightedItem","setInputValue"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"ITEM.CLICK":[{guard:Zt("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:Zt("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"LAYER.INTERACT_OUTSIDE":[{guard:Zt("isOpenControlled","isCustomValue",ar("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Zt("isCustomValue",ar("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],effects:["trackDismissableLayer","scrollToHighlightedItem","trackPlacement","trackChildNodes","hideOtherElements"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:{guard:"autoHighlight",actions:["highlightFirstItem"]},"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:Zt("isOpenControlled","isCustomValue",ar("hasHighlightedItem"),ar("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Zt("isCustomValue",ar("hasHighlightedItem"),ar("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:Zt("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":{actions:["setInputValue"]},"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"LAYER.INTERACT_OUTSIDE":[{guard:Zt("isOpenControlled","isCustomValue",ar("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Zt("isCustomValue",ar("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:Zt("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}},implementations:{guards:{isInputValueEmpty:({computed:t})=>t("isInputValueEmpty"),autoComplete:({computed:t,prop:e})=>t("autoComplete")&&!e("multiple"),autoHighlight:({computed:t})=>t("autoHighlight"),isFirstItemHighlighted:({prop:t,context:e})=>t("collection").firstValue===e.get("highlightedValue"),isLastItemHighlighted:({prop:t,context:e})=>t("collection").lastValue===e.get("highlightedValue"),isCustomValue:({context:t})=>t.get("inputValue")!==t.get("valueAsString"),allowCustomValue:({prop:t})=>!!t("allowCustomValue"),hasHighlightedItem:({context:t})=>t.get("highlightedValue")!=null,closeOnSelect:({prop:t})=>!!t("closeOnSelect"),isOpenControlled:({prop:t})=>t("open")!=null,openOnChange:({prop:t,context:e})=>{const n=t("openOnChange");return XD(n)?n:!!(n!=null&&n({inputValue:e.get("inputValue")}))},restoreFocus:({event:t})=>t.restoreFocus==null?!0:!!t.restoreFocus,isChangeEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="INPUT.CHANGE"},autoFocus:({prop:t})=>!!t("autoFocus")},effects:{trackDismissableLayer({send:t,prop:e,scope:n}){return e("disableLayer")?void 0:ih(()=>Fi(n),{defer:!0,exclude:()=>[Ic(n),$u(n),$x(n)],onFocusOutside:e("onFocusOutside"),onPointerDownOutside:e("onPointerDownOutside"),onInteractOutside:e("onInteractOutside"),onEscapeKeyDown(s){s.preventDefault(),s.stopPropagation(),t({type:"LAYER.ESCAPE"})},onDismiss(){t({type:"LAYER.INTERACT_OUTSIDE",restoreFocus:!1})}})},hideOtherElements({scope:t}){return Jce([Ic(t),Fi(t),$u(t),$x(t)])},trackPlacement({context:t,prop:e,scope:n}){const r=()=>Bx(n)||$u(n),s=()=>Dx(n);return t.set("currentPlacement",e("positioning").placement),fs(r,s,{...e("positioning"),defer:!0,onComplete(i){t.set("currentPlacement",i.placement)}})},trackChildNodes({scope:t,computed:e,send:n}){return e("autoHighlight")?JD(()=>Fi(t),{callback:()=>n({type:"CHILDREN_CHANGE"})}):void 0},scrollToHighlightedItem({context:t,prop:e,scope:n,event:r}){const s=Ic(n);let i=[];const o=l=>{const u=r.current().type.includes("POINTER"),d=t.get("highlightedValue");if(u||!d)return;const h=ile(n,d),f=Fi(n),g=e("scrollToIndexFn");if(g){const m=e("collection").indexOf(d);g({index:m,immediate:l});return}const p=ht(()=>{Cw(h,{rootEl:f,block:"nearest"})});i.push(p)},a=ht(()=>o(!0));i.push(a);const c=Kp(s,{attributes:["aria-activedescendant"],callback:()=>o(!1)});return i.push(c),()=>{i.forEach(l=>l())}}},actions:{reposition({context:t,prop:e,scope:n,event:r}){fs(()=>Bx(n),()=>Dx(n),{...e("positioning"),...r.options,defer:!0,listeners:!1,onComplete(o){t.set("currentPlacement",o.placement)}})},setHighlightedItem(t){const{context:e,event:n}=t;n.value!=null&&e.set("highlightedValue",n.value)},clearHighlightedItem(t){const{context:e}=t;e.set("highlightedValue",null)},selectHighlightedItem(t){var i;const{context:e,prop:n}=t,r=e.get("highlightedValue");if(!r)return;const s=n("multiple")?tp(e.get("value"),r):[r];(i=n("onSelect"))==null||i({value:s,itemValue:r}),e.set("value",s),e.set("inputValue",Cu(t))},selectItem(t){const{context:e,event:n,flush:r,prop:s}=t;n.value!=null&&r(()=>{var o;const i=s("multiple")?tp(e.get("value"),n.value):[n.value];(o=s("onSelect"))==null||o({value:i,itemValue:n.value}),e.set("value",i),e.set("inputValue",Cu(t))})},clearItem(t){const{context:e,event:n,flush:r}=t;n.value!=null&&r(()=>{const s=l2(e.get("value"),n.value);e.set("value",s),e.set("inputValue",Cu(t))})},setInitialFocus({scope:t}){ht(()=>{Lx(t)})},setFinalFocus({scope:t}){ht(()=>{const e=$u(t);(e==null?void 0:e.dataset.focusable)==null?Lx(t):ole(t)})},syncInputValue({context:t,scope:e,event:n}){const r=Ic(e);r&&(r.value=t.get("inputValue"),queueMicrotask(()=>{n.current().type!=="INPUT.CHANGE"&&ZD(r)}))},setInputValue({context:t,event:e}){t.set("inputValue",e.value)},clearInputValue({context:t}){t.set("inputValue","")},revertInputValue({context:t,prop:e,computed:n}){const r=e("selectionBehavior"),s=Rf(r,{replace:n("hasSelectedItems")?t.get("valueAsString"):"",preserve:t.get("inputValue"),clear:""});t.set("inputValue",s)},setValue(t){const{context:e,flush:n,event:r}=t;n(()=>{e.set("value",r.value),e.set("inputValue",Cu(t))})},clearSelectedItems(t){const{context:e,flush:n}=t;n(()=>{e.set("value",[]),e.set("inputValue",Cu(t))})},scrollContentToTop({prop:t,scope:e}){const n=t("scrollToIndexFn");if(n)n({index:0,immediate:!0});else{const r=Fi(e);if(!r)return;r.scrollTop=0}},invokeOnOpen({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!0})},invokeOnClose({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!1})},highlightFirstItem({context:t,prop:e,scope:n}){(Fi(n)?queueMicrotask:ht)(()=>{const s=e("collection").firstValue;s&&t.set("highlightedValue",s)})},highlightFirstItemIfNeeded({computed:t,action:e}){t("autoHighlight")&&e(["highlightFirstItem"])},highlightLastItem({context:t,prop:e,scope:n}){(Fi(n)?queueMicrotask:ht)(()=>{const s=e("collection").lastValue;s&&t.set("highlightedValue",s)})},highlightNextItem({context:t,prop:e}){let n=null;const r=t.get("highlightedValue"),s=e("collection");r?(n=s.getNextValue(r),!n&&e("loopFocus")&&(n=s.firstValue)):n=s.firstValue,n&&t.set("highlightedValue",n)},highlightPrevItem({context:t,prop:e}){let n=null;const r=t.get("highlightedValue"),s=e("collection");r?(n=s.getPreviousValue(r),!n&&e("loopFocus")&&(n=s.lastValue)):n=s.lastValue,n&&t.set("highlightedValue",n)},highlightFirstSelectedItem({context:t,prop:e}){ht(()=>{const[n]=e("collection").sort(t.get("value"));n&&t.set("highlightedValue",n)})},highlightFirstOrSelectedItem({context:t,prop:e,computed:n}){ht(()=>{let r=null;n("hasSelectedItems")?r=e("collection").sort(t.get("value"))[0]:r=e("collection").firstValue,r&&t.set("highlightedValue",r)})},highlightLastOrSelectedItem({context:t,prop:e,computed:n}){ht(()=>{const r=e("collection");let s=null;n("hasSelectedItems")?s=r.sort(t.get("value"))[0]:s=r.lastValue,s&&t.set("highlightedValue",s)})},autofillInputValue({context:t,computed:e,prop:n,event:r,scope:s}){const i=Ic(s),o=n("collection");if(!e("autoComplete")||!i||!r.keypress)return;const a=o.stringify(t.get("highlightedValue"));ht(()=>{i.value=a||t.get("inputValue")})},syncSelectedItems(t){const{context:e,prop:n}=t,r=Rf(n("selectionBehavior"),{preserve:e.get("inputValue"),replace:n("collection").stringifyMany(e.get("value")),clear:""});e.set("selectedItems",ule(t)),e.set("inputValue",r)},syncHighlightedItem({context:t,prop:e}){const n=e("collection").find(t.get("highlightedValue"));t.set("highlightedItem",n)},toggleVisibility({event:t,send:e,prop:n}){e({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}});function Cu({context:t,prop:e}){return Rf(e("selectionBehavior"),{preserve:t.get("inputValue"),replace:t.get("valueAsString"),clear:""})}function ule({context:t,prop:e}){const n=e("collection");return t.get("value").map(r=>{const s=t.get("selectedItems").find(i=>n.getItemValue(i)===r);return s||n.find(r)})}Oe()(["allowCustomValue","autoFocus","closeOnSelect","collection","composite","defaultHighlightedValue","defaultInputValue","defaultOpen","defaultValue","dir","disabled","disableLayer","form","getRootNode","highlightedValue","id","ids","inputBehavior","inputValue","invalid","loopFocus","multiple","name","navigate","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value"]);Oe()(["htmlFor"]);Oe()(["id"]);Oe()(["item","persistFocus"]);var uE=ke("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger");uE.build();Oe()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);var u6=ke("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");u6.build();Oe()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","defaultEdit","submitMode","translations","defaultValue","value"]);const d6=ke("fieldset").parts("root","errorText","helperText","legend");d6.build();var h6=ke("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");h6.build();Oe()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","preventDocumentDrop","required","translations","transformFiles","validate"]);Oe()(["file"]);const dle=Symbol(),Fx=Object.getPrototypeOf,rw=new WeakMap,hle=t=>t&&(rw.has(t)?rw.get(t):Fx(t)===Object.prototype||Fx(t)===Array.prototype),fle=t=>hle(t)&&t[dle]||null,Ux=(t,e=!0)=>{rw.set(t,e)};function ple(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function f6(t,e){const n=ple();return n?(n[t]||(n[t]=e()),n[t]):e()}var Zf=f6("__zag__refSet",()=>new WeakSet),gle=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,mle=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,yle=t=>typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeName=="string",ble=t=>gle(t)||mle(t)||yle(t),sw=t=>t!==null&&typeof t=="object",Mx=t=>sw(t)&&!Zf.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!ble(t)&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),$o=f6("__zag__proxyStateMap",()=>new WeakMap),wle=(t=Object.is,e=(a,c)=>new Proxy(a,c),n=new WeakMap,r=(a,c)=>{const l=n.get(a);if((l==null?void 0:l[0])===c)return l[1];const u=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return Ux(u,!0),n.set(a,[c,u]),Reflect.ownKeys(a).forEach(d=>{const h=Reflect.get(a,d);Zf.has(h)?(Ux(h,!1),u[d]=h):$o.has(h)?u[d]=Cle(h):u[d]=h}),Object.freeze(u)},s=new WeakMap,i=[1,1],o=a=>{if(!sw(a))throw new Error("object required");const c=s.get(a);if(c)return c;let l=i[0];const u=new Set,d=(A,x=++i[0])=>{l!==x&&(l=x,u.forEach(v=>v(A,x)))};let h=i[1];const f=(A=++i[1])=>(h!==A&&!u.size&&(h=A,p.forEach(([x])=>{const v=x[1](A);v>l&&(l=v)})),l),g=A=>(x,v)=>{const R=[...x];R[1]=[A,...R[1]],d(R,v)},p=new Map,m=(A,x)=>{if(u.size){const v=x[3](g(A));p.set(A,[x,v])}else p.set(A,[x])},y=A=>{var v;const x=p.get(A);x&&(p.delete(A),(v=x[1])==null||v.call(x))},b=A=>(u.add(A),u.size===1&&p.forEach(([v,R],N)=>{const B=v[3](g(N));p.set(N,[v,B])}),()=>{u.delete(A),u.size===0&&p.forEach(([v,R],N)=>{R&&(R(),p.set(N,[v]))})}),w=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),C=e(w,{deleteProperty(A,x){const v=Reflect.get(A,x);y(x);const R=Reflect.deleteProperty(A,x);return R&&d(["delete",[x],v]),R},set(A,x,v,R){var _;const N=Reflect.has(A,x),B=Reflect.get(A,x,R);if(N&&(t(B,v)||s.has(v)&&t(B,s.get(v))))return!0;y(x),sw(v)&&(v=fle(v)||v);let F=v;if(!((_=Object.getOwnPropertyDescriptor(A,x))!=null&&_.set)){!$o.has(v)&&Mx(v)&&(F=p6(v));const T=!Zf.has(F)&&$o.get(F);T&&m(x,T)}return Reflect.set(A,x,F,R),d(["set",[x],v,B]),!0}});s.set(a,C);const I=[w,f,r,b];return $o.set(C,I),Reflect.ownKeys(a).forEach(A=>{const x=Object.getOwnPropertyDescriptor(a,A);x.get||x.set?Object.defineProperty(w,A,x):C[A]=a[A]}),C})=>[o,$o,Zf,t,e,Mx,n,r,s,i],[vle]=wle();function p6(t={}){return vle(t)}function Ele(t,e,n){const r=$o.get(t);let s;const i=[],o=r[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Cle(t){const e=$o.get(t),[n,r,s]=e;return s(n,r())}var g6=ke("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");g6.build();var Ale=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`hover-card:${t.id}:trigger`},Ile=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`hover-card:${t.id}:content`},xle=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`hover-card:${t.id}:popper`},Wy=t=>t.getById(Ale(t)),Sle=t=>t.getById(Ile(t)),zx=t=>t.getById(xle(t)),{not:_f,and:Vx}=Il();Al({props({props:t}){return{openDelay:700,closeDelay:300,...t,positioning:{placement:"bottom",...t.positioning}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"closed"},context({prop:t,bindable:e}){return{open:e(()=>({defaultValue:t("defaultOpen"),value:t("open"),onChange(n){var r;(r=t("onOpenChange"))==null||r({open:n})}})),currentPlacement:e(()=>({defaultValue:void 0})),isPointer:e(()=>({defaultValue:!1}))}},watch({track:t,context:e,action:n}){t([()=>e.get("open")],()=>{n(["toggleVisibility"])})},states:{closed:{tags:["closed"],entry:["clearIsPointer"],on:{"CONTROLLED.OPEN":{target:"open"},POINTER_ENTER:{target:"opening",actions:["setIsPointer"]},TRIGGER_FOCUS:{target:"opening"},OPEN:{target:"opening"}}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{OPEN_DELAY:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},POINTER_LEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_BLUR:[{guard:Vx("isOpenControlled",_f("isPointer")),actions:["invokeOnClose","toggleVisibility"]},{guard:_f("isPointer"),target:"closed",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{tags:["open"],effects:["trackDismissableElement","trackPositioning"],on:{"CONTROLLED.CLOSE":{target:"closed"},POINTER_ENTER:{actions:["setIsPointer"]},POINTER_LEAVE:{target:"closing"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_BLUR:[{guard:Vx("isOpenControlled",_f("isPointer")),actions:["invokeOnClose"]},{guard:_f("isPointer"),target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:["reposition"]}}},closing:{tags:["open"],effects:["trackPositioning","waitForCloseDelay"],on:{CLOSE_DELAY:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"CONTROLLED.CLOSE":{target:"closed"},"CONTROLLED.OPEN":{target:"open"},POINTER_ENTER:{target:"open",actions:["setIsPointer"]}}}},implementations:{guards:{isPointer:({context:t})=>!!t.get("isPointer"),isOpenControlled:({prop:t})=>t("open")!=null},effects:{waitForOpenDelay({send:t,prop:e}){const n=setTimeout(()=>{t({type:"OPEN_DELAY"})},e("openDelay"));return()=>clearTimeout(n)},waitForCloseDelay({send:t,prop:e}){const n=setTimeout(()=>{t({type:"CLOSE_DELAY"})},e("closeDelay"));return()=>clearTimeout(n)},trackPositioning({context:t,prop:e,scope:n}){t.get("currentPlacement")||t.set("currentPlacement",e("positioning").placement);const r=()=>zx(n);return fs(Wy(n),r,{...e("positioning"),defer:!0,onComplete(s){t.set("currentPlacement",s.placement)}})},trackDismissableElement({send:t,scope:e,prop:n}){return ih(()=>Sle(e),{defer:!0,exclude:[Wy(e)],onDismiss(){t({type:"CLOSE",src:"interact-outside"})},onInteractOutside:n("onInteractOutside"),onPointerDownOutside:n("onPointerDownOutside"),onFocusOutside(s){var i;s.preventDefault(),(i=n("onFocusOutside"))==null||i(s)}})}},actions:{invokeOnClose({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!1})},invokeOnOpen({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!0})},setIsPointer({context:t}){t.set("isPointer",!0)},clearIsPointer({context:t}){t.set("isPointer",!1)},reposition({context:t,prop:e,scope:n,event:r}){const s=()=>zx(n);fs(Wy(n),s,{...e("positioning"),...r.options,defer:!0,listeners:!1,onComplete(i){t.set("currentPlacement",i.placement)}})},toggleVisibility({prop:t,event:e,send:n}){queueMicrotask(()=>{n({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})})}}}});Oe()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","defaultOpen","open","openDelay","positioning","onInteractOutside","onPointerDownOutside","onFocusOutside"]);var m6=ke("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem");m6.build();var y6=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`menu:${t.id}:trigger`},_le=t=>{var e;return((e=t.ids)==null?void 0:e.contextTrigger)??`menu:${t.id}:ctx-trigger`},b6=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`menu:${t.id}:content`},Ple=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`menu:${t.id}:popper`},iw=(t,e)=>`${t.id}/${e}`,vo=t=>(t==null?void 0:t.dataset.value)??null,Ui=t=>t.getById(b6(t)),jx=t=>t.getById(Ple(t)),Pf=t=>t.getById(y6(t)),Tle=(t,e)=>e?t.getById(iw(t,e)):null,Hx=t=>t.getById(_le(t)),Lh=t=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(b6(t))}]:not([data-disabled])`;return ep(Ui(t),n)},Ole=t=>c2(Lh(t)),Rle=t=>a2(Lh(t)),dE=(t,e)=>e?t.id===e||t.dataset.value===e:!1,Nle=(t,e)=>{const n=Lh(t),r=n.findIndex(s=>dE(s,e.value));return r5(n,r,{loop:e.loop??e.loopFocus})},kle=(t,e)=>{const n=Lh(t),r=n.findIndex(s=>dE(s,e.value));return n5(n,r,{loop:e.loop??e.loopFocus})},Dle=(t,e)=>{const n=Lh(t),r=n.find(s=>dE(s,e.value));return Aw(n,{state:e.typeaheadState,key:e.key,activeId:(r==null?void 0:r.id)??null})},Ble=t=>{var e;return!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))&&!!(t!=null&&t.hasAttribute("aria-controls"))},$le="menu:select";function Lle(t,e){if(!t)return;const n=ia(t),r=new n.CustomEvent($le,{detail:{value:e}});t.dispatchEvent(r)}var{not:Tr,and:yc,or:Fle}=Il();Al({props({props:t}){return{closeOnSelect:!0,typeahead:!0,composite:!0,loopFocus:!1,navigate(e){d2(e.node)},...t,positioning:{placement:"bottom-start",gutter:8,...t.positioning}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"idle"},context({bindable:t,prop:e}){return{suspendPointer:t(()=>({defaultValue:!1})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(n){var r;(r=e("onHighlightChange"))==null||r({highlightedValue:n})}})),lastHighlightedValue:t(()=>({defaultValue:null})),currentPlacement:t(()=>({defaultValue:void 0})),intentPolygon:t(()=>({defaultValue:null})),anchorPoint:t(()=>({defaultValue:null,hash(n){return`x: ${n==null?void 0:n.x}, y: ${n==null?void 0:n.y}`}}))}},refs(){return{parent:null,children:{},typeaheadState:{...Aw.defaultOptions},positioningOverride:{}}},computed:{isSubmenu:({refs:t})=>t.get("parent")!=null,isRtl:({prop:t})=>t("dir")==="rtl",isTypingAhead:({refs:t})=>t.get("typeaheadState").keysSoFar!=="",highlightedId:({context:t,scope:e,refs:n})=>Mle(n.get("children"),t.get("highlightedValue"),e)},watch({track:t,action:e,context:n,computed:r,prop:s}){t([()=>r("isSubmenu")],()=>{e(["setSubmenuPlacement"])}),t([()=>n.hash("anchorPoint")],()=>{e(["reposition"])}),t([()=>s("open")],()=>{e(["toggleVisibility"])})},on:{"PARENT.SET":{actions:["setParentMenu"]},"CHILD.SET":{actions:["setChildMenu"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"HIGHLIGHTED.RESTORE":{actions:["restoreHighlightedItem"]},"HIGHLIGHTED.SET":{actions:["setHighlightedItem"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_FOCUS:{guard:Tr("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],effects:["waitForLongPress"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"LONG_PRESS.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},BLUR:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"DELAY.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},closing:{tags:["open"],effects:["trackPointerMove","trackInteractOutside","waitForCloseDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:["clearIntentPolygon"]},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}],"DELAY.CLOSE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer"],on:{"CONTROLLED.OPEN":[{guard:Fle("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:["highlightFirstItem"]},{guard:"isArrowUpEvent",target:"open",actions:["highlightLastItem"]},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:{target:"idle"},ARROW_DOWN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:yc(Tr("isTriggerItem"),"isOpenControlled"),actions:["invokeOnClose"]},{guard:Tr("isTriggerItem"),target:"closed",actions:["invokeOnClose"]}],CONTEXT_MENU:{actions:["setAnchorPoint","focusMenu"]},ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:yc("isSubmenu","isOpenControlled"),actions:["invokeOnClose"]},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},ENTER:[{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},{actions:["clickHighlightedItem"]}],ITEM_POINTERMOVE:[{guard:Tr("isPointerSuspended"),actions:["setHighlightedItem","focusMenu"]},{actions:["setLastHighlightedItem"]}],ITEM_POINTERLEAVE:{guard:yc(Tr("isPointerSuspended"),Tr("isTriggerItem")),actions:["clearHighlightedItem"]},ITEM_CLICK:[{guard:yc(Tr("isTriggerItemHighlighted"),Tr("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:yc(Tr("isTriggerItemHighlighted"),Tr("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:yc(Tr("isTriggerItemHighlighted"),Tr("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:["setHighlightedItem"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",actions:["setIntentPolygon"]},TRIGGER_POINTERLEAVE:{target:"closing"},ITEM_POINTERDOWN:{actions:["setHighlightedItem"]},TYPEAHEAD:{actions:["highlightMatchedItem"]},FOCUS_MENU:{actions:["focusMenu"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{closeOnSelect:({prop:t,event:e})=>!!((e==null?void 0:e.closeOnSelect)??t("closeOnSelect")),isTriggerItem:({event:t})=>Ble(t.target),isTriggerItemHighlighted:({event:t,scope:e,computed:n})=>{const r=t.target??e.getById(n("highlightedId"));return!!(r!=null&&r.hasAttribute("aria-controls"))},isSubmenu:({computed:t})=>t("isSubmenu"),isPointerSuspended:({context:t})=>t.get("suspendPointer"),isHighlightedItemEditable:({scope:t,computed:e})=>t5(t.getById(e("highlightedId"))),isOpenControlled:({prop:t})=>t("open")!==void 0,isArrowLeftEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="ARROW_LEFT"},isArrowUpEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="ARROW_UP"},isArrowDownEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="OPEN_AUTOFOCUS"}},effects:{waitForOpenDelay({send:t}){const e=setTimeout(()=>{t({type:"DELAY.OPEN"})},100);return()=>clearTimeout(e)},waitForCloseDelay({send:t}){const e=setTimeout(()=>{t({type:"DELAY.CLOSE"})},300);return()=>clearTimeout(e)},waitForLongPress({send:t}){const e=setTimeout(()=>{t({type:"LONG_PRESS.OPEN"})},700);return()=>clearTimeout(e)},trackPositioning({context:t,prop:e,scope:n,refs:r}){if(Hx(n))return;const s={...e("positioning"),...r.get("positioningOverride")};t.set("currentPlacement",s.placement);const i=()=>jx(n);return fs(Pf(n),i,{...s,defer:!0,onComplete(o){t.set("currentPlacement",o.placement)}})},trackInteractOutside({refs:t,scope:e,prop:n,computed:r,send:s}){const i=()=>Ui(e);let o=!0;return ih(i,{defer:!0,exclude:[Pf(e)],onInteractOutside:n("onInteractOutside"),onFocusOutside:n("onFocusOutside"),onEscapeKeyDown(a){var c;(c=n("onEscapeKeyDown"))==null||c(a),r("isSubmenu")&&a.preventDefault(),qx({parent:t.get("parent")})},onPointerDownOutside(a){var u;const c=vw(a.detail.originalEvent);if(SE(Hx(e),c)&&a.detail.contextmenu){a.preventDefault();return}o=!a.detail.focusable,(u=n("onPointerDownOutside"))==null||u(a)},onDismiss(){s({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},trackPointerMove({context:t,scope:e,send:n,refs:r,flush:s}){const i=r.get("parent");s(()=>{i.context.set("suspendPointer",!0)});const o=e.getDoc();return Zo(o,"pointermove",a=>{Ule(t.get("intentPolygon"),{x:a.clientX,y:a.clientY})||(n({type:"POINTER_MOVED_AWAY_FROM_SUBMENU"}),i.context.set("suspendPointer",!1))})},scrollToHighlightedItem({event:t,scope:e,computed:n}){const r=()=>{if(t.type.startsWith("ITEM_POINTER"))return;const i=e.getById(n("highlightedId")),o=Ui(e);Cw(i,{rootEl:o,block:"nearest"})};return ht(()=>r()),Kp(()=>Ui(e),{defer:!0,attributes:["aria-activedescendant"],callback:r})}},actions:{setAnchorPoint({context:t,event:e}){t.set("anchorPoint",e.point)},setSubmenuPlacement({computed:t,refs:e}){if(!t("isSubmenu"))return;const n=t("isRtl")?"left-start":"right-start";e.set("positioningOverride",{placement:n,gutter:0})},reposition({context:t,scope:e,prop:n,event:r,refs:s}){const i=()=>jx(e),o=t.get("anchorPoint"),a=o?()=>({width:0,height:0,...o}):void 0,c={...n("positioning"),...s.get("positioningOverride")};fs(Pf(e),i,{...c,defer:!0,getAnchorRect:a,...r.options??{},listeners:!1,onComplete(l){t.set("currentPlacement",l.placement)}})},setOptionState({event:t}){if(!t.option)return;const{checked:e,onCheckedChange:n,type:r}=t.option;r==="radio"?n==null||n(!0):r==="checkbox"&&(n==null||n(!e))},clickHighlightedItem({scope:t,computed:e}){const n=t.getById(e("highlightedId"));!n||n.dataset.disabled||queueMicrotask(()=>n.click())},setIntentPolygon({context:t,scope:e,event:n}){const r=Ui(e),s=t.get("currentPlacement");if(!r||!s)return;const i=r.getBoundingClientRect(),o=Rce(i,s);if(!o)return;const c=jae(s)==="right"?-5:5;t.set("intentPolygon",[{...n.point,x:n.point.x+c},...o])},clearIntentPolygon({context:t}){t.set("intentPolygon",null)},resumePointer({refs:t,flush:e}){const n=t.get("parent");n&&e(()=>{n.context.set("suspendPointer",!1)})},setHighlightedItem({context:t,event:e}){const n=e.value||vo(e.target);t.set("highlightedValue",n)},clearHighlightedItem({context:t}){t.set("highlightedValue",null)},focusMenu({scope:t}){ht(()=>{const e=Ui(t),n=mw({root:e,enabled:!SE(e,t.getActiveElement()),filter(r){var s;return!((s=r.role)!=null&&s.startsWith("menuitem"))}});n==null||n.focus({preventScroll:!0})})},highlightFirstItem({context:t,scope:e}){(Ui(e)?queueMicrotask:ht)(()=>{const r=Ole(e);r&&t.set("highlightedValue",vo(r))})},highlightLastItem({context:t,scope:e}){(Ui(e)?queueMicrotask:ht)(()=>{const r=Rle(e);r&&t.set("highlightedValue",vo(r))})},highlightNextItem({context:t,scope:e,event:n,prop:r}){const s=Nle(e,{loop:n.loop,value:t.get("highlightedValue"),loopFocus:r("loopFocus")});t.set("highlightedValue",vo(s))},highlightPrevItem({context:t,scope:e,event:n,prop:r}){const s=kle(e,{loop:n.loop,value:t.get("highlightedValue"),loopFocus:r("loopFocus")});t.set("highlightedValue",vo(s))},invokeOnSelect({context:t,prop:e,scope:n}){var i;const r=t.get("highlightedValue");if(r==null)return;const s=Tle(n,r);Lle(s,r),(i=e("onSelect"))==null||i({value:r})},focusTrigger({scope:t,context:e,event:n,computed:r}){r("isSubmenu")||e.get("anchorPoint")||n.restoreFocus===!1||queueMicrotask(()=>{var s;return(s=Pf(t))==null?void 0:s.focus({preventScroll:!0})})},highlightMatchedItem({scope:t,context:e,event:n,refs:r}){const s=Dle(t,{key:n.key,value:e.get("highlightedValue"),typeaheadState:r.get("typeaheadState")});s&&e.set("highlightedValue",vo(s))},setParentMenu({refs:t,event:e}){t.set("parent",e.value)},setChildMenu({refs:t,event:e}){const n=t.get("children");n[e.id]=e.value,t.set("children",n)},closeRootMenu({refs:t}){qx({parent:t.get("parent")})},openSubmenu({refs:t,scope:e,computed:n}){const r=e.getById(n("highlightedId")),s=r==null?void 0:r.getAttribute("data-uid"),i=t.get("children"),o=s?i[s]:null;o==null||o.send({type:"OPEN_AUTOFOCUS"})},focusParentMenu({refs:t}){var e;(e=t.get("parent"))==null||e.send({type:"FOCUS_MENU"})},setLastHighlightedItem({context:t,event:e}){t.set("lastHighlightedValue",vo(e.target))},restoreHighlightedItem({context:t}){t.get("lastHighlightedValue")&&(t.set("highlightedValue",t.get("lastHighlightedValue")),t.set("lastHighlightedValue",null))},restoreParentHighlightedItem({refs:t}){var e;(e=t.get("parent"))==null||e.send({type:"HIGHLIGHTED.RESTORE"})},invokeOnOpen({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!0})},invokeOnClose({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!1})},toggleVisibility({prop:t,event:e,send:n}){n({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}});function qx(t){let e=t.parent;for(;e&&e.computed("isSubmenu");)e=e.refs.get("parent");e==null||e.send({type:"CLOSE"})}function Ule(t,e){return t?Nce(t,e):!1}function Mle(t,e,n){const r=Object.keys(t).length>0;if(!e)return null;if(!r)return iw(n,e);for(const s in t){const i=t[s],o=y6(i.scope);if(o===e)return o}return iw(n,e)}Oe()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]);Oe()(["closeOnSelect","disabled","value","valueText"]);Oe()(["htmlFor"]);Oe()(["id"]);Oe()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]);let Gy=new Map,ow=!1;try{ow=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let Vp=!1;try{Vp=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const w6={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class zle{format(e){let n="";if(!ow&&this.options.signDisplay!=null?n=jle(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!Vp){var r;let{unit:s,unitDisplay:i="short",locale:o}=this.resolvedOptions();if(!s)return n;let a=(r=w6[s])===null||r===void 0?void 0:r[i];n+=a[o]||a.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),s=this.numberFormatter.formatToParts(n);return[...r.map(i=>({...i,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(i=>({...i,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!ow&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!Vp&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=Vle(e,n),this.options=n}}function Vle(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!Vp){var r;let{unit:o,unitDisplay:a="short"}=e;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=w6[o])===null||r===void 0)&&r[a]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${a}`);e={...e,style:"decimal"}}let s=t+(e?Object.entries(e).sort((o,a)=>o[0]<a[0]?-1:1).join():"");if(Gy.has(s))return Gy.get(s);let i=new Intl.NumberFormat(t,e);return Gy.set(s,i),i}function jle(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let r=!1;if(e==="always"?r=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let s=t.format(-n),i=t.format(n),o=s.replace(i,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),s.replace(i,"!!!").replace(o,"+").replace("!!!",i)}else return t.format(n)}}const Hle=new RegExp("^.*\\(.*\\).*$"),qle=["latn","arab","hanidec","deva","beng"];class v6{parse(e){return Ky(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,r){return Ky(this.locale,this.options,e).isValidPartialNumber(e,n,r)}getNumberingSystem(e){return Ky(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const Wx=new Map;function Ky(t,e,n){let r=Gx(t,e);if(!t.includes("-nu-")&&!r.isValidPartialNumber(n)){for(let s of qle)if(s!==r.options.numberingSystem){let i=Gx(t+(t.includes("-u-")?"-nu-":"-u-nu-")+s,e);if(i.isValidPartialNumber(n))return i}}return r}function Gx(t,e){let n=t+(e?Object.entries(e).sort((s,i)=>s[0]<i[0]?-1:1).join():""),r=Wx.get(n);return r||(r=new Wle(t,e),Wx.set(n,r)),r}class Wle{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=Au(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let o=n.indexOf("-");n=n.replace("-",""),n=n.replace("+","");let a=n.indexOf(".");a===-1&&(a=n.length),n=n.replace(".",""),a-2===0?n=`0.${n}`:a-2===-1?n=`0.0${n}`:a-2===-2?n="0.00":n=`${n.slice(0,a-2)}.${n.slice(a-2)}`,o>-1&&(n=`-${n}`)}let r=n?+n:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var s,i;let o={...this.options,style:"decimal",minimumFractionDigits:Math.min(((s=this.options.minimumFractionDigits)!==null&&s!==void 0?s:0)+2,20),maximumFractionDigits:Math.min(((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)+2,20)};return new v6(this.locale,o).parse(new zle(this.locale,o).format(r))}return this.options.currencySign==="accounting"&&Hle.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=Au(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&this.symbols.group&&(e=Au(e," ",this.symbols.group),e=Au(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,n=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=Au(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,n.roundingIncrement!==1&&n.roundingIncrement!=null&&(n.maximumFractionDigits==null&&n.minimumFractionDigits==null?(n.maximumFractionDigits=0,n.minimumFractionDigits=0):n.maximumFractionDigits==null?n.maximumFractionDigits=n.minimumFractionDigits:n.minimumFractionDigits==null&&(n.minimumFractionDigits=n.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=Kle(e,this.formatter,this.options,n);var r,s;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const Kx=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Gle=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Kle(t,e,n,r){var s,i,o,a;let c=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),l=c.formatToParts(-10000.111),u=c.formatToParts(10000.111),d=Gle.map(R=>c.formatToParts(R));var h;let f=(h=(s=l.find(R=>R.type==="minusSign"))===null||s===void 0?void 0:s.value)!==null&&h!==void 0?h:"-",g=(i=u.find(R=>R.type==="plusSign"))===null||i===void 0?void 0:i.value;!g&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&(g="+");let m=(o=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(R=>R.type==="decimal"))===null||o===void 0?void 0:o.value,y=(a=l.find(R=>R.type==="group"))===null||a===void 0?void 0:a.value,b=l.filter(R=>!Kx.has(R.type)).map(R=>Yx(R.value)),w=d.flatMap(R=>R.filter(N=>!Kx.has(N.type)).map(N=>Yx(N.value))),E=[...new Set([...b,...w])].sort((R,N)=>N.length-R.length),C=E.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${E.join("|")}|[\\p{White_Space}]`,"gu"),I=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),A=new Map(I.map((R,N)=>[R,N])),x=new RegExp(`[${I.join("")}]`,"g");return{minusSign:f,plusSign:g,decimal:m,group:y,literals:C,numeral:x,index:R=>String(A.get(R))}}function Au(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function Yx(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var E6=ke("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber");E6.build();var Yle=t=>{var e;return((e=t.ids)==null?void 0:e.input)??`number-input:${t.id}:input`},Qle=t=>{var e;return((e=t.ids)==null?void 0:e.incrementTrigger)??`number-input:${t.id}:inc`},Zle=t=>{var e;return((e=t.ids)==null?void 0:e.decrementTrigger)??`number-input:${t.id}:dec`},C6=t=>`number-input:${t.id}:cursor`,Tf=t=>t.getById(Yle(t)),Jle=t=>t.getById(Qle(t)),Xle=t=>t.getById(Zle(t)),A6=t=>t.getDoc().getElementById(C6(t)),eue=(t,e)=>{let n=null;return e==="increment"&&(n=Jle(t)),e==="decrement"&&(n=Xle(t)),n},tue=(t,e)=>{if(!h2())return sue(t,e),()=>{var n;(n=A6(t))==null||n.remove()}},nue=t=>{const e=t.getDoc(),n=e.documentElement,r=e.body;return r.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{r.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),r.style.length||r.removeAttribute("style")}},rue=(t,e)=>{const{point:n,isRtl:r,event:s}=e,i=t.getWin(),o=lm(s.movementX,i.devicePixelRatio),a=lm(s.movementY,i.devicePixelRatio);let c=o>0?"increment":o<0?"decrement":null;r&&c==="increment"&&(c="decrement"),r&&c==="decrement"&&(c="increment");const l={x:n.x+o,y:n.y+a},u=i.innerWidth,d=lm(7.5,i.devicePixelRatio);return l.x=d5(l.x+d,u)-d,{hint:c,point:l}},sue=(t,e)=>{const n=t.getDoc(),r=n.createElement("div");r.className="scrubber--cursor",r.id=C6(t),Object.assign(r.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:h5,transform:e?`translate3d(${e.x}px, ${e.y}px, 0px)`:void 0,willChange:"transform"}),r.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(r)};function iue(t){if(!(!t||t.ownerDocument.activeElement!==t))try{const{selectionStart:e,selectionEnd:n,value:r}=t,s=r.substring(0,e),i=r.substring(n);return{start:e,end:n,value:r,beforeTxt:s,afterTxt:i}}catch{}}function oue(t,e){if(!(!t||t.ownerDocument.activeElement!==t)){if(!e){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:n}=t,{beforeTxt:r="",afterTxt:s="",start:i}=e;let o=n.length;if(n.endsWith(s))o=n.length-s.length;else if(n.startsWith(r))o=r.length;else if(i!=null){const a=r[i-1],c=n.indexOf(a,i-1);c!==-1&&(o=c+1)}t.setSelectionRange(o,o)}catch{}}}var aue=(t,e={})=>new Intl.NumberFormat(t,e),cue=(t,e={})=>new v6(t,e),Yy=(t,e)=>{const{prop:n,computed:r}=e;return n("formatOptions")?r("parser").parse(String(t)):parseFloat(t)},Eo=(t,e)=>{const{prop:n,computed:r}=e;return Number.isNaN(t)?"":n("formatOptions")?r("formatter").format(t):t.toString()},lue=(t,e)=>{let n=t!==void 0&&!Number.isNaN(t)?t:1;return(e==null?void 0:e.style)==="percent"&&(t===void 0||Number.isNaN(t))&&(n=.01),n},{choose:uue,guards:due,createMachine:hue}=u2(),{not:Qx,and:Zx}=due;hue({props({props:t}){const e=lue(t.step,t.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!t.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",defaultValue:"",step:e,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...t,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}}},initialState(){return"idle"},context({prop:t,bindable:e,getComputed:n}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(r){var o;const s=n(),i=Yy(r,{computed:s,prop:t});(o=t("onValueChange"))==null||o({value:r,valueAsNumber:i})}})),hint:e(()=>({defaultValue:null})),scrubberCursorPoint:e(()=>({defaultValue:null,hash(r){return r?`x:${r.x}, y:${r.y}`:""}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:t})=>t("dir")==="rtl",valueAsNumber:({context:t,computed:e,prop:n})=>Yy(t.get("value"),{computed:e,prop:n}),formattedValue:({computed:t,prop:e})=>Eo(t("valueAsNumber"),{computed:t,prop:e}),isAtMin:({computed:t,prop:e})=>i5(t("valueAsNumber"),e("min")),isAtMax:({computed:t,prop:e})=>s5(t("valueAsNumber"),e("max")),isOutOfRange:({computed:t,prop:e})=>!u5(t("valueAsNumber"),e("min"),e("max")),isValueEmpty:({context:t})=>t.get("value")==="",isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled"),canIncrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMax"),canDecrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMin"),valueText:({prop:t,context:e})=>{var n,r;return(r=(n=t("translations")).valueText)==null?void 0:r.call(n,e.get("value"))},formatter:_E(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>aue(t,e)),parser:_E(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>cue(t,e))},watch({track:t,action:e,context:n,computed:r,prop:s}){t([()=>n.get("value"),()=>s("locale")],()=>{e(["syncInputElement"])}),t([()=>r("isOutOfRange")],()=>{e(["invokeOnInvalid"])}),t([()=>n.hash("scrubberCursorPoint")],()=>{e(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:Zx("clampValueOnBlur",Qx("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:Qx("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:uue([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:Zx("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:t})=>t("clampValueOnBlur"),spinOnPress:({prop:t})=>!!t("spinOnPress"),isInRange:({computed:t})=>!t("isOutOfRange"),isDecrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="decrement",isIncrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="increment",isTouchPointer:({event:t})=>t.pointerType==="touch"},effects:{waitForChangeDelay({send:t}){const e=setTimeout(()=>{t({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(e)},spinValue({send:t}){const e=setInterval(()=>{t({type:"SPIN"})},50);return()=>clearInterval(e)},trackFormControl({context:t,scope:e}){const n=Tf(e);return yw(n,{onFieldsetDisabledChange(r){t.set("fieldsetDisabled",r)},onFormReset(){t.set("value",t.initial("value"))}})},setupVirtualCursor({context:t,scope:e}){const n=t.get("scrubberCursorPoint");return tue(e,n)},preventTextSelection({scope:t}){return nue(t)},trackButtonDisabled({context:t,scope:e,send:n}){const r=t.get("hint"),s=eue(e,r);return Kp(s,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:t,send:e,prop:n}){const r=Tf(t);if(!r||!t.isActiveElement(r)||!n("allowMouseWheel"))return;function s(i){i.preventDefault();const o=Math.sign(i.deltaY)*-1;o===1?e({type:"VALUE.INCREMENT"}):o===-1&&e({type:"VALUE.DECREMENT"})}return Zo(r,"wheel",s,{passive:!1})},activatePointerLock({scope:t}){if(!h2())return l5(t.getDoc())},trackMousemove({scope:t,send:e,context:n,computed:r}){const s=t.getDoc();function i(a){const c=n.get("scrubberCursorPoint"),l=r("isRtl"),u=rue(t,{point:c,isRtl:l,event:a});u.hint&&e({type:"SCRUBBER.POINTER_MOVE",hint:u.hint,point:u.point})}function o(){e({type:"SCRUBBER.POINTER_UP"})}return c5(Zo(s,"mousemove",i,!1),Zo(s,"mouseup",o,!1))}},actions:{focusInput({scope:t,prop:e}){if(!e("focusInputOnChange"))return;const n=Tf(t);t.isActiveElement(n)||ht(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment({context:t,event:e,prop:n,computed:r}){let s=a5(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(s=br(s,n("min"),n("max"))),t.set("value",Eo(s,{computed:r,prop:n}))},decrement({context:t,event:e,prop:n,computed:r}){let s=o5(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(s=br(s,n("min"),n("max"))),t.set("value",Eo(s,{computed:r,prop:n}))},setClampedValue({context:t,prop:e,computed:n}){const r=br(n("valueAsNumber"),e("min"),e("max"));t.set("value",Eo(r,{computed:n,prop:e}))},setRawValue({context:t,event:e,prop:n,computed:r}){let s=Yy(e.value,{computed:r,prop:n});n("allowOverflow")||(s=br(s,n("min"),n("max"))),t.set("value",Eo(s,{computed:r,prop:n}))},setValue({context:t,event:e}){var r;const n=((r=e.target)==null?void 0:r.value)??e.value;t.set("value",n)},clearValue({context:t}){t.set("value","")},incrementToMax({context:t,prop:e,computed:n}){const r=Eo(e("max"),{computed:n,prop:e});t.set("value",r)},decrementToMin({context:t,prop:e,computed:n}){const r=Eo(e("min"),{computed:n,prop:e});t.set("value",r)},setHint({context:t,event:e}){t.set("hint",e.hint)},clearHint({context:t}){t.set("hint",null)},invokeOnFocus({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!0,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnBlur({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!1,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnInvalid({computed:t,prop:e,event:n}){var s;if(n.type==="INPUT.CHANGE")return;const r=t("valueAsNumber")>e("max")?"rangeOverflow":"rangeUnderflow";(s=e("onValueInvalid"))==null||s({reason:r,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},syncInputElement({context:t,event:e,computed:n,scope:r}){const s=e.type.endsWith("CHANGE")?t.get("value"):n("formattedValue"),i=Tf(r),o=iue(i);ht(()=>{bw(i,s),oue(i,o)})},setFormattedValue({context:t,computed:e}){t.set("value",e("formattedValue"))},setCursorPoint({context:t,event:e}){t.set("scrubberCursorPoint",e.point)},clearCursorPoint({context:t}){t.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:t,scope:e}){const n=A6(e),r=t.get("scrubberCursorPoint");!n||!r||(n.style.transform=`translate3d(${r.x}px, ${r.y}px, 0px)`)}}}});Oe()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);var I6=ke("pinInput").parts("root","label","input","control");I6.build();Oe()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var x6=ke("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");x6.build();Oe()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","portalled","positioning"]);var hE=ke("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");hE.build();Oe()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]);var S6=ke("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");S6.build();Oe()(["ids","defaultValue","value","id","encoding","dir","getRootNode","onValueChange","pixelSize"]);var fE=ke("radio-group").parts("root","label","item","itemText","itemControl","indicator");fE.build();Oe()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);Oe()(["value","disabled","invalid"]);var _6=ke("rating-group").parts("root","label","item","control");_6.build();Oe()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value","defaultValue"]);Oe()(["index"]);const P6=fE.rename("segment-group");P6.build();var T6=ke("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText");T6.build();var O6=t=>new nm(t);O6.empty=()=>new nm({items:[]});var fue=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`select:${t.id}:content`},pue=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`select:${t.id}:trigger`},gue=t=>{var e;return((e=t.ids)==null?void 0:e.clearTrigger)??`select:${t.id}:clear-trigger`},mue=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.item)==null?void 0:r.call(n,e))??`select:${t.id}:option:${e}`},yue=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenSelect)??`select:${t.id}:select`},bue=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`select:${t.id}:positioner`},Qy=t=>t.getById(yue(t)),Iu=t=>t.getById(fue(t)),Of=t=>t.getById(pue(t)),wue=t=>t.getById(gue(t)),Jx=t=>t.getById(bue(t)),vue=(t,e)=>t.getById(mue(t,e)),{and:xu,not:Co,or:Eue}=Il();Al({props({props:t}){return{loopFocus:!1,closeOnSelect:!t.multiple,composite:!0,defaultValue:[],...t,collection:t.collection??O6.empty(),positioning:{placement:"bottom-start",gutter:8,...t.positioning}}},context({prop:t,bindable:e}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),isEqual:Ew,onChange(n){var s;const r=t("collection").findMany(n);return(s=t("onValueChange"))==null?void 0:s({value:n,items:r})}})),highlightedValue:e(()=>({defaultValue:t("defaultHighlightedValue")||null,value:t("highlightedValue"),onChange(n){var r;(r=t("onHighlightChange"))==null||r({highlightedValue:n,highlightedItem:t("collection").find(n),highlightedIndex:t("collection").indexOf(n)})}})),currentPlacement:e(()=>({defaultValue:void 0})),fieldsetDisabled:e(()=>({defaultValue:!1})),highlightedItem:e(()=>({defaultValue:null})),selectedItems:e(()=>{const n=t("value")??t("defaultValue")??[];return{defaultValue:t("collection").findMany(n)}}),valueAsString:e(()=>{const n=t("value")??t("defaultValue")??[];return{defaultValue:t("collection").stringifyMany(n)}})}},refs(){return{typeahead:{...Aw.defaultOptions}}},computed:{hasSelectedItems:({context:t})=>t.get("value").length>0,isTypingAhead:({refs:t})=>t.get("typeahead").keysSoFar!=="",isDisabled:({prop:t,context:e})=>!!t("disabled")||!!e.get("fieldsetDisabled"),isInteractive:({prop:t})=>!(t("disabled")||t("readOnly"))},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:t,prop:e,track:n,action:r}){n([()=>t.get("value").toString()],()=>{r(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),n([()=>e("open")],()=>{r(["toggleVisibility"])}),n([()=>t.get("highlightedValue")],()=>{r(["syncHighlightedItem"])}),n([()=>e("collection").toString()],()=>{r(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:Eue("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:xu(Co("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:Co("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:xu(Co("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:Co("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:Co("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:Co("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:Co("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"restoreFocus",target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:xu("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:xu("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:xu("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:t})=>!!t("loopFocus"),multiple:({prop:t})=>!!t("multiple"),hasSelectedItems:({computed:t})=>!!t("hasSelectedItems"),hasHighlightedItem:({context:t})=>t.get("highlightedValue")!=null,isFirstItemHighlighted:({context:t,prop:e})=>t.get("highlightedValue")===e("collection").firstValue,isLastItemHighlighted:({context:t,prop:e})=>t.get("highlightedValue")===e("collection").lastValue,closeOnSelect:({prop:t,event:e})=>!!(e.closeOnSelect??t("closeOnSelect")),restoreFocus:({event:t})=>Xx(t),isOpenControlled:({prop:t})=>t("open")!==void 0,isTriggerClickEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="TRIGGER.ARROW_DOWN"}},effects:{trackFormControlState({context:t,scope:e}){return yw(Qy(e),{onFieldsetDisabledChange(n){t.set("fieldsetDisabled",n)},onFormReset(){const n=t.initial("value");t.set("value",n)}})},trackDismissableElement({scope:t,send:e,prop:n}){const r=()=>Iu(t);let s=!0;return ih(r,{defer:!0,exclude:[Of(t),wue(t)],onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onInteractOutside(i){var o;(o=n("onInteractOutside"))==null||o(i),s=!(i.detail.focusable||i.detail.contextmenu)},onDismiss(){e({type:"CLOSE",src:"interact-outside",restoreFocus:s})}})},computePlacement({context:t,prop:e,scope:n}){const r=e("positioning");return t.set("currentPlacement",r.placement),fs(()=>Of(n),()=>Jx(n),{defer:!0,...r,onComplete(o){t.set("currentPlacement",o.placement)}})},scrollToHighlightedItem({context:t,prop:e,scope:n,event:r}){const s=o=>{const a=t.get("highlightedValue");if(a==null||r.current().type.includes("POINTER"))return;const c=vue(n,a),l=Iu(n),u=e("scrollToIndexFn");if(u){const d=e("collection").indexOf(a);u==null||u({index:d,immediate:o});return}Cw(c,{rootEl:l,block:"nearest"})};return ht(()=>s(!0)),Kp(()=>Iu(n),{defer:!0,attributes:["data-activedescendant"],callback(){s(!1)}})}},actions:{reposition({context:t,prop:e,scope:n,event:r}){const s=()=>Jx(n);fs(Of(n),s,{...e("positioning"),...r.options,defer:!0,listeners:!1,onComplete(i){t.set("currentPlacement",i.placement)}})},toggleVisibility({send:t,prop:e,event:n}){t({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})},highlightPreviousItem({context:t,prop:e}){const n=t.get("highlightedValue");if(n==null)return;const r=e("collection").getPreviousValue(n,1,e("loopFocus"));r!=null&&t.set("highlightedValue",r)},highlightNextItem({context:t,prop:e}){const n=t.get("highlightedValue");if(n==null)return;const r=e("collection").getNextValue(n,1,e("loopFocus"));r!=null&&t.set("highlightedValue",r)},highlightFirstItem({context:t,prop:e}){const n=e("collection").firstValue;t.set("highlightedValue",n)},highlightLastItem({context:t,prop:e}){const n=e("collection").lastValue;t.set("highlightedValue",n)},setInitialFocus({scope:t}){ht(()=>{const e=mw({root:Iu(t)});e==null||e.focus({preventScroll:!0})})},focusTriggerEl({event:t,scope:e}){Xx(t)&&ht(()=>{const n=Of(e);n==null||n.focus({preventScroll:!0})})},selectHighlightedItem({context:t,prop:e,event:n}){var i;let r=n.value??t.get("highlightedValue");if(r==null)return;(i=e("onSelect"))==null||i({value:r}),r=e("deselectable")&&!e("multiple")&&t.get("value").includes(r)?null:r,t.set("value",o=>r==null?[]:e("multiple")?tp(o,r):[r])},highlightComputedFirstItem({context:t,prop:e,computed:n}){const r=e("collection"),s=n("hasSelectedItems")?r.sort(t.get("value"))[0]:r.firstValue;t.set("highlightedValue",s)},highlightComputedLastItem({context:t,prop:e,computed:n}){const r=e("collection"),s=n("hasSelectedItems")?r.sort(t.get("value"))[0]:r.lastValue;t.set("highlightedValue",s)},highlightFirstSelectedItem({context:t,prop:e,computed:n}){if(!n("hasSelectedItems"))return;const r=e("collection").sort(t.get("value"))[0];t.set("highlightedValue",r)},highlightItem({context:t,event:e}){t.set("highlightedValue",e.value)},highlightMatchingItem({context:t,prop:e,event:n,refs:r}){const s=e("collection").search(n.key,{state:r.get("typeahead"),currentValue:t.get("highlightedValue")});s!=null&&t.set("highlightedValue",s)},setHighlightedItem({context:t,event:e}){t.set("highlightedValue",e.value)},clearHighlightedItem({context:t}){t.set("highlightedValue",null)},selectItem({context:t,prop:e,event:n}){var i;(i=e("onSelect"))==null||i({value:n.value});const s=e("deselectable")&&!e("multiple")&&t.get("value").includes(n.value)?null:n.value;t.set("value",o=>s==null?[]:e("multiple")?tp(o,s):[s])},clearItem({context:t,event:e}){t.set("value",n=>n.filter(r=>r!==e.value))},setSelectedItems({context:t,event:e}){t.set("value",e.value)},clearSelectedItems({context:t}){t.set("value",[])},selectPreviousItem({context:t,prop:e}){const[n]=t.get("value"),r=e("collection").getPreviousValue(n);r&&t.set("value",[r])},selectNextItem({context:t,prop:e}){const[n]=t.get("value"),r=e("collection").getNextValue(n);r&&t.set("value",[r])},selectFirstItem({context:t,prop:e}){const n=e("collection").firstValue;n&&t.set("value",[n])},selectLastItem({context:t,prop:e}){const n=e("collection").lastValue;n&&t.set("value",[n])},selectMatchingItem({context:t,prop:e,event:n,refs:r}){const s=e("collection").search(n.key,{state:r.get("typeahead"),currentValue:t.get("value")[0]});s!=null&&t.set("value",[s])},scrollContentToTop({prop:t,scope:e}){var n,r;t("scrollToIndexFn")?(n=t("scrollToIndexFn"))==null||n({index:0,immediate:!0}):(r=Iu(e))==null||r.scrollTo(0,0)},invokeOnOpen({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!0})},invokeOnClose({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!1})},syncSelectElement({context:t,prop:e,scope:n}){const r=Qy(n);if(r){if(t.get("value").length===0&&!e("multiple")){r.selectedIndex=-1;return}for(const s of r.options)s.selected=t.get("value").includes(s.value)}},syncCollection({context:t,prop:e}){const n=e("collection"),r=n.find(t.get("highlightedValue"));r&&t.set("highlightedItem",r);const s=n.findMany(t.get("value"));t.set("selectedItems",s);const i=n.stringifyItems(s);t.set("valueAsString",i)},syncSelectedItems({context:t,prop:e}){const n=e("collection"),r=t.get("selectedItems"),i=t.get("value").map(o=>r.find(c=>n.getItemValue(c)===o)||n.find(o));t.set("selectedItems",i),t.set("valueAsString",n.stringifyItems(i))},syncHighlightedItem({context:t,prop:e}){const n=e("collection"),r=t.get("highlightedValue"),s=r?n.find(r):null;t.set("highlightedItem",s)},dispatchChangeEvent({scope:t}){queueMicrotask(()=>{const e=Qy(t);if(!e)return;const n=t.getWin(),r=new n.Event("change",{bubbles:!0,composed:!0});e.dispatchEvent(r)})}}}});function Xx(t){var n;const e=t.restoreFocus??((n=t.previousEvent)==null?void 0:n.restoreFocus);return e==null||!!e}Oe()(["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]);Oe()(["item","persistFocus"]);Oe()(["id"]);Oe()(["htmlFor"]);var R6=ke("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator");R6.build();Oe()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);Oe()(["index","name"]);var N6=ke("switch").parts("root","label","control","thumb");N6.build();Oe()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var k6=ke("tooltip").parts("trigger","arrow","arrowTip","positioner","content");k6.build();var Cue=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`tooltip:${t.id}:trigger`},Aue=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`tooltip:${t.id}:popper`},Zy=t=>t.getById(Cue(t)),eS=t=>t.getById(Aue(t)),Ao=p6({id:null}),{and:Iue,not:tS}=Il();Al({initialState:({prop:t})=>t("open")||t("defaultOpen")?"open":"closed",props({props:t}){return{id:"x",openDelay:1e3,closeDelay:500,closeOnPointerDown:!0,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,closeOnClick:!0,disabled:!1,...t,positioning:{placement:"bottom",...t.positioning}}},effects:["trackFocusVisible","trackStore"],context:({bindable:t})=>({currentPlacement:t(()=>({defaultValue:void 0})),hasPointerMoveOpened:t(()=>({defaultValue:!1}))}),watch({track:t,action:e,prop:n}){t([()=>n("disabled")],()=>{e(["closeIfDisabled"])}),t([()=>n("open")],()=>{e(["toggleVisibility"])})},states:{closed:{entry:["clearGlobalId"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":{actions:["clearPointerMoveOpened"]},"pointer.move":[{guard:Iue("noVisibleTooltip",tS("hasPointerMoveOpened")),target:"opening"},{guard:tS("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{effects:["trackScroll","trackPointerlockChange","waitForOpenDelay"],on:{"after.openDelay":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"controlled.open":{target:"open"},"controlled.close":{target:"closed"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],close:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{effects:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"controlled.close":{target:"closed"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.leave":[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"content.pointer.leave":{guard:"isInteractive",target:"closing"},"positioning.set":{actions:["reposition"]}}},closing:{effects:["trackPositioning","waitForCloseDelay"],on:{"after.closeDelay":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"controlled.close":{target:"closed"},"controlled.open":{target:"open"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.move":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"content.pointer.move":{guard:"isInteractive",target:"open"},"positioning.set":{actions:["reposition"]}}}},implementations:{guards:{noVisibleTooltip:()=>Ao.id===null,isVisible:({prop:t})=>t("id")===Ao.id,isInteractive:({prop:t})=>!!t("interactive"),hasPointerMoveOpened:({context:t})=>t.get("hasPointerMoveOpened"),isOpenControlled:({prop:t})=>t("open")!==void 0},actions:{setGlobalId:({prop:t})=>{Ao.id=t("id")},clearGlobalId:({prop:t})=>{t("id")===Ao.id&&(Ao.id=null)},invokeOnOpen:({prop:t})=>{var e;(e=t("onOpenChange"))==null||e({open:!0})},invokeOnClose:({prop:t})=>{var e;(e=t("onOpenChange"))==null||e({open:!1})},closeIfDisabled:({prop:t,send:e})=>{t("disabled")&&e({type:"close",src:"disabled.change"})},reposition:({context:t,event:e,prop:n,scope:r})=>{if(e.type!=="positioning.set")return;const s=()=>eS(r);return fs(Zy(r),s,{...n("positioning"),...e.options,defer:!0,listeners:!1,onComplete(i){t.set("currentPlacement",i.placement)}})},toggleVisibility:({prop:t,event:e,send:n})=>{queueMicrotask(()=>{n({type:t("open")?"controlled.open":"controlled.close",previousEvent:e})})},setPointerMoveOpened:({context:t})=>{t.set("hasPointerMoveOpened",!0)},clearPointerMoveOpened:({context:t})=>{t.set("hasPointerMoveOpened",!1)}},effects:{trackFocusVisible:({scope:t})=>{var e;return Uce({root:(e=t.getRootNode)==null?void 0:e.call(t)})},trackPositioning:({context:t,prop:e,scope:n})=>{t.get("currentPlacement")||t.set("currentPlacement",e("positioning").placement);const r=()=>eS(n);return fs(Zy(n),r,{...e("positioning"),defer:!0,onComplete(s){t.set("currentPlacement",s.placement)}})},trackPointerlockChange:({send:t,scope:e})=>{const n=e.getDoc();return Zo(n,"pointerlockchange",()=>t({type:"close",src:"pointerlock:change"}),!1)},trackScroll:({send:t,prop:e,scope:n})=>{if(!e("closeOnScroll"))return;const r=Zy(n);if(!r)return;const i=f5(r).map(o=>Zo(o,"scroll",()=>{t({type:"close",src:"scroll"})},{passive:!0,capture:!0}));return()=>{i.forEach(o=>o==null?void 0:o())}},trackStore:({prop:t,send:e})=>{let n;return queueMicrotask(()=>{n=Ele(Ao,()=>{Ao.id!==t("id")&&e({type:"close",src:"id.change"})})}),()=>n==null?void 0:n()},trackEscapeKey:({send:t,prop:e})=>e("closeOnEscape")?Zo(document,"keydown",r=>{p5(r)||r.key==="Escape"&&(r.stopPropagation(),t({type:"close",src:"keydown.escape"}))},!0):void 0,waitForOpenDelay:({send:t,prop:e})=>{const n=setTimeout(()=>{t({type:"after.openDelay"})},e("openDelay"));return()=>clearTimeout(n)},waitForCloseDelay:({send:t,prop:e})=>{const n=setTimeout(()=>{t({type:"after.closeDelay"})},e("closeDelay"));return()=>clearTimeout(n)}}}});Oe()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);const xue=(t,e)=>{var c;if(!t||typeof t!="string")return{invalid:!0,value:t};const[n,r]=t.split("/");if(!n||!r||n==="currentBg")return{invalid:!0,value:n};const s=e(`colors.${n}`),i=(c=e.raw(`opacity.${r}`))==null?void 0:c.value;if(!i&&isNaN(Number(r)))return{invalid:!0,value:n};const o=i?Number(i)*100+"%":`${r}%`,a=s??n;return{invalid:!1,color:a,value:`color-mix(in srgb, ${a} ${o}, transparent)`}},at=t=>(e,n)=>{const r=n.utils.colorMix(e);if(r.invalid)return{[t]:e};const s="--mix-"+t;return{[s]:r.value,[t]:`var(${s}, ${r.color})`}};function aw(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>aw(n));const e=Object.create(Object.getPrototypeOf(t));for(const n of Object.keys(t))e[n]=aw(t[n]);return e}function cw(t,e){if(e==null)return t;for(const n of Object.keys(e))if(!(e[n]===void 0||n==="__proto__"))if(!$r(t[n])&&$r(e[n]))Object.assign(t,{[n]:e[n]});else if(t[n]&&$r(e[n]))cw(t[n],e[n]);else if(Array.isArray(e[n])&&Array.isArray(t[n])){let r=0;for(;r<e[n].length;r++)$r(t[n][r])&&$r(e[n][r])?cw(t[n][r],e[n][r]):t[n][r]=e[n][r]}else Object.assign(t,{[n]:e[n]});return t}function ql(t,...e){for(const n of e)cw(t,n);return t}const Sue=t=>t,St=t=>t,Ee=t=>t,_ue=t=>t,Pue=t=>t,D6=t=>t,Tue=t=>t,Oue=t=>t,Rue=t=>t;function B6(){const t=e=>e;return new Proxy(t,{get(){return t}})}const jt=B6(),pE=B6(),gE=t=>t,$6=(...t)=>ql({},...t.map(aw)),Nue=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function kue(t){return`${t}`.replace(Nue,e=>`\\${e}`)}const Due=/[A-Z]/g;function Bue(t){return t.replace(Due,e=>`-${e.toLowerCase()}`)}function L6(t,e={}){const{fallback:n="",prefix:r=""}=e,s=Bue(["-",r,kue(t)].filter(Boolean).join("-"));return{var:s,ref:`var(${s}${n?`, ${n}`:""})`}}const $ue=t=>/^var\(--.+\)$/.test(t),Jt=(t,e)=>e!=null?`${t}(${e})`:e,Io=t=>{if($ue(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},nS=t=>({values:["outside","inside","mixed","none"],transform(e,{token:n}){const r=n("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":r,[t]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":r,[t]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":r,[t]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":r,[t]:{outline:"none"}}}[e]??{}}}),Lue=at("borderColor"),Js=t=>({transition:t,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),Fue=Sue({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),Rc=L6("bg-currentcolor"),rS=t=>t===Rc.ref||t==="currentBg",ot=t=>({...t("colors"),currentBg:Rc}),Uue=gE({conditions:Fue,utilities:{background:{values:ot,shorthand:["bg"],transform(t,e){if(rS(e.raw))return{background:Rc.ref};const n=at("background")(t,e);return{...n,[Rc.var]:n==null?void 0:n.background}}},backgroundColor:{values:ot,shorthand:["bgColor"],transform(t,e){if(rS(e.raw))return{backgroundColor:Rc.ref};const n=at("backgroundColor")(t,e);return{...n,[Rc.var]:n==null?void 0:n.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}}},backgroundGradient:{shorthand:["bgGradient"],values(t){return{...t("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(t){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:t}}},gradientFrom:{values:ot,transform:at("--gradient-from")},gradientTo:{values:ot,transform:at("--gradient-to")},gradientVia:{values:ot,transform(t,e){return{...at("--gradient-via")(t,e),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values(t){return{...t("gradients"),...t("assets")}},shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInlineEnd:{values:"borders",shorthand:["borderEnd"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:ot,transform:at("borderColor")},borderTopColor:{values:ot,transform:at("borderTopColor")},borderBlockStartColor:{values:ot,transform:at("borderBlockStartColor")},borderBottomColor:{values:ot,transform:at("borderBottomColor")},borderBlockEndColor:{values:ot,transform:at("borderBlockEndColor")},borderLeftColor:{values:ot,transform:at("borderLeftColor")},borderInlineStartColor:{values:ot,shorthand:["borderStartColor"],transform:at("borderInlineStartColor")},borderRightColor:{values:ot,transform:at("borderRightColor")},borderInlineEndColor:{values:ot,shorthand:["borderEndColor"],transform:at("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:t=>({borderStartStartRadius:t,borderEndStartRadius:t})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:t=>({borderStartEndRadius:t,borderEndEndRadius:t})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:t=>({borderTopLeftRadius:t,borderTopRightRadius:t})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:t=>({borderBottomLeftRadius:t,borderBottomRightRadius:t})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:t=>({borderTopLeftRadius:t,borderBottomLeftRadius:t})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:t=>({borderTopRightRadius:t,borderBottomRightRadius:t})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:ot,transform:at("color")},fill:{values:ot,transform:at("fill")},stroke:{values:ot,transform:at("stroke")},accentColor:{values:ot,transform:at("accentColor")},divideX:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:t,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:t,borderBottomWidth:"0px"}}}},divideColor:{values:ot,transform(t,e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":Lue(t,e)}}},divideStyle:{property:"borderStyle",transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:t}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:ot,transform:at("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(t){return t!=="auto"?{filter:t}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:t=>({"--blur":Jt("blur",t)})},brightness:{transform:t=>({"--brightness":Jt("brightness",t)})},contrast:{transform:t=>({"--contrast":Jt("contrast",t)})},grayscale:{transform:t=>({"--grayscale":Jt("grayscale",t)})},hueRotate:{transform:t=>({"--hue-rotate":Jt("hue-rotate",Io(t))})},invert:{transform:t=>({"--invert":Jt("invert",t)})},saturate:{transform:t=>({"--saturate":Jt("saturate",t)})},sepia:{transform:t=>({"--sepia":Jt("sepia",t)})},dropShadow:{transform:t=>({"--drop-shadow":Jt("drop-shadow",t)})},backdropFilter:{transform(t){return t!=="auto"?{backdropFilter:t}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:t=>({"--backdrop-blur":Jt("blur",t)})},backdropBrightness:{transform:t=>({"--backdrop-brightness":Jt("brightness",t)})},backdropContrast:{transform:t=>({"--backdrop-contrast":Jt("contrast",t)})},backdropGrayscale:{transform:t=>({"--backdrop-grayscale":Jt("grayscale",t)})},backdropHueRotate:{transform:t=>({"--backdrop-hue-rotate":Jt("hue-rotate",Io(t))})},backdropInvert:{transform:t=>({"--backdrop-invert":Jt("invert",t)})},backdropOpacity:{transform:t=>({"--backdrop-opacity":Jt("opacity",t)})},backdropSaturate:{transform:t=>({"--backdrop-saturate":Jt("saturate",t)})},backdropSepia:{transform:t=>({"--backdrop-sepia":Jt("sepia",t)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:ot,transform:at("outlineColor")},focusRing:nS("&:is(:focus, [data-focus])"),focusVisibleRing:nS("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:ot,transform:at("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:t=>({"--focus-ring-offset":t})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:t=>({"--focus-ring-width":t})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:t=>({"--focus-ring-style":t})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:t=>({width:t,height:t})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(t,{raw:e,token:n})=>({[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}`:`@media screen and (min-width: ${t})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(t,{raw:e,token:n}){return{[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}Down`:`@media screen and (max-width: ${t})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(t){switch(t){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:ot,transform:at("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:t=>({scrollMarginLeft:t,scrollMarginRight:t})},scrollMarginY:{values:"spacing",transform:t=>({scrollMarginTop:t,scrollMarginBottom:t})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:t=>({"--scroll-snap-strictness":t})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{values:"assets",shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(t){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":t,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:ot,transform:at("--ring-color")},ringOffset:{transform:t=>({"--ring-offset-width":t})},ringOffsetColor:{values:ot,transform:at("--ring-offset-color")},ringInset:{transform:t=>({"--ring-inset":t})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing"},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:ot,transform:at("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:t=>{let e=t;return t==="auto"&&(e="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),t==="auto-gpu"&&(e="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:e}}},skewX:{transform:t=>({"--skew-x":Io(t)})},skewY:{transform:t=>({"--skew-y":Io(t)})},scaleX:{transform:t=>({"--scale-x":t})},scaleY:{transform:t=>({"--scale-y":t})},scale:{transform(t){return t!=="auto"?{scale:t}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":t?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${t} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${t} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":t?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${t} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${t} * var(--space-y-reverse))`}})},rotate:{transform(t){return t!=="auto"?{rotate:Io(t)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(t){return{"--rotate-x":Io(t)}}},rotateY:{transform(t){return{"--rotate-y":Io(t)}}},translate:{transform(t){return t!=="auto"?{translate:t}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:t=>({"--translate-x":t})},translateY:{values:"spacing",transform:t=>({"--translate-y":t})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(t){switch(t){case"all":return Js("all");case"position":return Js("left, right, top, bottom, inset-inline, inset-block");case"colors":return Js("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return Js("opacity");case"shadow":return Js("box-shadow");case"transform":return Js("transform");case"size":return Js("width, height");case"backgrounds":return Js("background, background-color, background-image, background-position");case"common":return Js("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:t}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(t){return t===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(t){return t==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:t,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(t){return Mue[t]||{}}},debug:{values:{type:"boolean"},transform(t){return t?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:ot,transform:at("caretColor")},cursor:{values:"cursor"}}}),Mue={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var zue="",Vue=zue.split(","),jue="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,WebkitUserSelect,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,anchorName,anchorScope,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimeline,animationTimingFunction,appearance,aspectRatio,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBlockStyle,borderBlockWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineColor,borderInlineEnd,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderInlineStyle,borderInlineWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,clipRule,color,colorInterpolationFilters,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,cx,cy,d,direction,display,dominantBaseline,emptyCells,fieldSizing,fill,fillOpacity,fillRule,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,floodColor,floodOpacity,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontVariationSettings,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,interpolateSize,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lightingColor,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,marker,markerEnd,markerMid,markerStart,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,positionAnchor,positionArea,positionTry,positionTryFallbacks,positionTryOrder,positionVisibility,printColorAdjust,quotes,r,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,rx,ry,scale,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockEnd,scrollMarginBlockStart,scrollMarginBottom,scrollMarginInline,scrollMarginInlineEnd,scrollMarginInlineStart,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockEnd,scrollPaddingBlockStart,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineEnd,scrollPaddingInlineStart,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,scrollbarColor,scrollbarGutter,scrollbarWidth,shapeImageThreshold,shapeMargin,shapeOutside,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,tabSize,tableLayout,textAlign,textAlignLast,textAnchor,textBox,textBoxEdge,textBoxTrim,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textSpacingTrim,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,textWrapMode,textWrapStyle,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,vectorEffect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,x,y,zIndex,zoom,alignmentBaseline,baselineShift,colorInterpolation,colorRendering,glyphOrientationVertical",Hue=jue.split(",").concat(Vue),que=new Map(Hue.map(t=>[t,!0]));function Wue(t){const e=Object.create(null);return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}var Gue=/&|@/,Kue=Wue(t=>que.has(t)||t.startsWith("--")||Gue.test(t));function Yue(t,e){const n={};return so(t,(r,s)=>{r&&(n[s.join(".")]=r.value)},{stop:e}),n}var Jy,sS;function Que(){if(sS)return Jy;sS=1,Jy=i,i.default=i,i.stable=l,i.stableStringify=l;var t="[...]",e="[Circular]",n=[],r=[];function s(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function i(h,f,g,p){typeof p>"u"&&(p=s()),a(h,"",0,[],void 0,0,p);var m;try{r.length===0?m=JSON.stringify(h,f,g):m=JSON.stringify(h,d(f),g)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var y=n.pop();y.length===4?Object.defineProperty(y[0],y[1],y[3]):y[0][y[1]]=y[2]}}return m}function o(h,f,g,p){var m=Object.getOwnPropertyDescriptor(p,g);m.get!==void 0?m.configurable?(Object.defineProperty(p,g,{value:h}),n.push([p,g,f,m])):r.push([f,g,h]):(p[g]=h,n.push([p,g,f]))}function a(h,f,g,p,m,y,b){y+=1;var w;if(typeof h=="object"&&h!==null){for(w=0;w<p.length;w++)if(p[w]===h){o(e,h,f,m);return}if(typeof b.depthLimit<"u"&&y>b.depthLimit){o(t,h,f,m);return}if(typeof b.edgesLimit<"u"&&g+1>b.edgesLimit){o(t,h,f,m);return}if(p.push(h),Array.isArray(h))for(w=0;w<h.length;w++)a(h[w],w,w,p,h,y,b);else{var E=Object.keys(h);for(w=0;w<E.length;w++){var C=E[w];a(h[C],C,w,p,h,y,b)}}p.pop()}}function c(h,f){return h<f?-1:h>f?1:0}function l(h,f,g,p){typeof p>"u"&&(p=s());var m=u(h,"",0,[],void 0,0,p)||h,y;try{r.length===0?y=JSON.stringify(m,f,g):y=JSON.stringify(m,d(f),g)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var b=n.pop();b.length===4?Object.defineProperty(b[0],b[1],b[3]):b[0][b[1]]=b[2]}}return y}function u(h,f,g,p,m,y,b){y+=1;var w;if(typeof h=="object"&&h!==null){for(w=0;w<p.length;w++)if(p[w]===h){o(e,h,f,m);return}try{if(typeof h.toJSON=="function")return}catch{return}if(typeof b.depthLimit<"u"&&y>b.depthLimit){o(t,h,f,m);return}if(typeof b.edgesLimit<"u"&&g+1>b.edgesLimit){o(t,h,f,m);return}if(p.push(h),Array.isArray(h))for(w=0;w<h.length;w++)u(h[w],w,w,p,h,y,b);else{var E={},C=Object.keys(h).sort(c);for(w=0;w<C.length;w++){var I=C[w];u(h[I],I,w,p,h,y,b),E[I]=h[I]}if(typeof m<"u")n.push([m,f,h]),m[f]=E;else return E}p.pop()}}function d(h){return h=typeof h<"u"?h:function(f,g){return g},function(f,g){if(r.length>0)for(var p=0;p<r.length;p++){var m=r[p];if(m[1]===f&&m[0]===g){g=m[2],r.splice(p,1);break}}return h.call(this,f,g)}}return Jy}var Zue=Que();const Jue=e2(Zue),ns=t=>{const e=Object.create(null);function n(...r){const s=r.map(i=>Jue(i)).join("|");return e[s]===void 0&&(e[s]=t(...r)),e[s]}return n},F6=16,jp="px",mE="em",Ku="rem";function U6(t=""){const e=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),n=new RegExp(`${jp}|${mE}|${Ku}`),r=t.match(new RegExp(`${e.source}(${n.source})`));return r==null?void 0:r[1]}function M6(t=""){if(typeof t=="number")return`${t}px`;const e=U6(t);if(!e||e===jp)return t;if(e===mE||e===Ku)return`${parseFloat(t)*F6}${jp}`}function z6(t=""){const e=U6(t);if(!e||e===Ku)return t;if(e===mE)return`${parseFloat(t)}${Ku}`;if(e===jp)return`${parseFloat(t)/F6}${Ku}`}const Xue=t=>t.charAt(0).toUpperCase()+t.slice(1);function ede(t){const e=tde(t),n=Object.fromEntries(e);function r(h){return n[h]}function s(h){return bc(r(h))}function i(){const h=Object.keys(n),f=nde(h),g=h.flatMap(p=>{const m=r(p),y=[`${p}Down`,bc({max:Jf(m.min)})],b=[p,bc({min:m.min})],w=[`${p}Only`,s(p)];return[b,w,y]}).filter(([,p])=>p!=="").concat(f.map(([p,m])=>{const y=r(p),b=r(m);return[`${p}To${Xue(m)}`,bc({min:y.min,max:Jf(b.min)})]}));return Object.fromEntries(g)}function o(){const h=i();return Object.fromEntries(Object.entries(h))}const a=o(),c=h=>a[h];function l(){return["base",...Object.keys(n)]}function u(h){return bc({min:r(h).min})}function d(h){return bc({max:Jf(r(h).min)})}return{values:Object.values(n),only:s,keys:l,conditions:a,getCondition:c,up:u,down:d}}function Jf(t){const e=parseFloat(M6(t)??"")-.04;return z6(`${e}px`)}function tde(t){return Object.entries(t).sort(([,n],[,r])=>parseInt(n,10)<parseInt(r,10)?-1:1).map(([n,r],s,i)=>{var a;let o=null;return s<=i.length-1&&(o=(a=i[s+1])==null?void 0:a[1]),o!=null&&(o=Jf(o)),[n,{name:n,min:z6(r),max:o}]})}function nde(t){const e=[];return t.forEach((n,r)=>{let s=r;s++;let i=t[s];for(;i;)e.push([n,i]),s++,i=t[s]}),e}function bc({min:t,max:e}){return t==null&&e==null?"":["@media screen",t&&`(min-width: ${t})`,e&&`(max-width: ${e})`].filter(Boolean).join(" and ")}const rde=(t,e)=>Object.fromEntries(Object.entries(t).map(([n,r])=>e(n,r))),sde=t=>{const{breakpoints:e,conditions:n={}}=t,r=rde(n,(u,d)=>[`_${u}`,d]),s=Object.assign({},r,e.conditions);function i(){return Object.keys(s)}function o(u){return i().includes(u)||/^@|&|&$/.test(u)||u.startsWith("_")}function a(u){return u.filter(d=>d!=="base").sort((d,h)=>{const f=o(d),g=o(h);return f&&!g?1:!f&&g?-1:0})}function c(u){return u.startsWith("@breakpoint")?e.getCondition(u.replace("@breakpoint ","")):u}function l(u){return Reflect.get(s,u)||u}return{keys:i,sort:a,has:o,resolve:l,breakpoints:e.keys(),expandAtRule:c}},V6=t=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${t})(.|
)+\\(\\s*max(-device)?-${t}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${t}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${t})(.|
)+\\(\\s*min(-device)?-${t}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${t}`,"i")}),ide=V6("width"),ode=V6("height"),j6=t=>({isMin:uS(t.minMax,t.maxMin,t.min),isMax:uS(t.maxMin,t.minMax,t.max)}),{isMin:lw,isMax:iS}=j6(ide),{isMin:uw,isMax:oS}=j6(ode),aS=/print/i,cS=/^print$/i,ade=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,cde=/(\d)/,Lu=Number.MAX_VALUE,lde={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function lS(t){const e=ade.exec(t)||(lw(t)||uw(t)?cde.exec(t):null);if(!e)return Lu;if(e[0]==="0")return 0;const n=parseFloat(e[1]),r=e[2];return n*(lde[r]||1)}function uS(t,e,n){return r=>t.test(r)||!e.test(r)&&n.test(r)}function ude(t,e){const n=aS.test(t),r=cS.test(t),s=aS.test(e),i=cS.test(e);return n&&s?!r&&i?1:r&&!i?-1:t.localeCompare(e):n?1:s?-1:null}const dde=ns((t,e)=>{const n=ude(t,e);if(n!==null)return n;const r=lw(t)||uw(t),s=iS(t)||oS(t),i=lw(e)||uw(e),o=iS(e)||oS(e);if(r&&o)return-1;if(s&&i)return 1;const a=lS(t),c=lS(e);return a===Lu&&c===Lu?t.localeCompare(e):a===Lu?1:c===Lu?-1:a!==c?a>c?s?-1:1:s?1:-1:t.localeCompare(e)});function dS(t){return t.sort(([e],[n])=>dde(e,n))}function H6(t){const e=[],n=[],r={};for(const[o,a]of Object.entries(t))o.startsWith("@media")?e.push([o,a]):o.startsWith("@container")?n.push([o,a]):$r(a)?r[o]=H6(a):r[o]=a;const s=dS(e),i=dS(n);return{...r,...Object.fromEntries(s),...Object.fromEntries(i)}}const q6=/\s*!(important)?/i,hde=t=>gi(t)?q6.test(t):!1,fde=t=>gi(t)?t.replace(q6,"").trim():t;function W6(t){const{transform:e,conditions:n,normalize:r}=t,s=mde(t);return ns(function(...o){const a=s(...o),c=r(a),l=Object.create(null);return so(c,(u,d)=>{const h=hde(u);if(u==null)return;const[f,...g]=n.sort(d).map(n.resolve);h&&(u=fde(u));let p=e(f,u)??Object.create(null);p=so(p,m=>gi(m)&&h?`${m} !important`:m,{getKey:m=>n.expandAtRule(m)}),pde(l,g.flat(),p)}),H6(l)})}function pde(t,e,n){let r=t;for(const s of e)s&&(r[s]||(r[s]=Object.create(null)),r=r[s]);ql(r,n)}function gde(...t){return t.filter(e=>$r(e)&&Object.keys(Yp(e)).length>0)}function mde(t){function e(n){const r=gde(...n);return r.length===1?r:r.map(s=>t.normalize(s))}return ns(function(...r){return ql({},...e(r))})}const G6=t=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...t});function yde(t){const{css:e,conditions:n,normalize:r,layers:s}=t;function i(a={}){const{base:c,variants:l,defaultVariants:u,compoundVariants:d}=G6(a),h=W6({conditions:n,normalize:r,transform(b,w){var E;return(E=l[b])==null?void 0:E[w]}}),f=(b={})=>{const w=r({...u,...Yp(b)});let E={...c};ql(E,h(w));const C=o(d,w);return s.wrap("recipes",e(E,C))},g=Object.keys(l),p=b=>{const w=v2(b,["recipe"]),[E,C]=Iw(w,g);return g.includes("colorPalette")||(E.colorPalette=b.colorPalette||u.colorPalette),g.includes("orientation")&&(C.orientation=b.orientation),[E,C]},m=Object.fromEntries(Object.entries(l).map(([b,w])=>[b,Object.keys(w)]));return Object.assign(b=>e(f(b)),{className:a.className,__cva__:!0,variantMap:m,variantKeys:g,raw:f,config:a,splitVariantProps:p,merge(b){return i(bde(t)(this,b))}})}function o(a,c){let l={};return a.forEach(u=>{Object.entries(u).every(([h,f])=>h==="css"?!0:(Array.isArray(f)?f:[f]).some(p=>c[h]===p))&&(l=e(l,u.css))}),l}return i}function bde(t){const{css:e}=t;return function(r,s){const i=G6(s.config),o=g5(r.variantKeys,Object.keys(s.variants)),a=e(r.base,i.base),c=Object.fromEntries(o.map(h=>[h,e(r.config.variants[h],i.variants[h])])),l=ql(r.config.defaultVariants,i.defaultVariants),u=[...r.compoundVariants,...i.compoundVariants];return{className:m5(r.className,s.className),base:a,variants:c,defaultVariants:l,compoundVariants:u}}}const wde={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},hS={reset:0,base:1,tokens:2,recipes:3};function vde(t){const e=t.layers??wde,r=Object.values(e).sort((s,i)=>hS[s]-hS[i]);return{names:r,atRule:`@layer ${r.join(", ")};`,wrap(s,i){return t.disableLayers?i:{[`@layer ${e[s]}`]:i}}}}function Ede(t){const{utility:e,normalize:n}=t,{hasShorthand:r,resolveShorthand:s}=e;return function(i){return so(i,n,{stop:o=>Array.isArray(o),getKey:r?s:void 0})}}function Cde(t){const{preflight:e}=t;if(!e)return{};const{scope:n="",level:r="parent"}=$r(e)?e:{};let s="";n&&r==="parent"?s=`${n} `:n&&r==="element"&&(s=`&${n}`);const i={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},o={[n||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(r==="element"){const a=Object.entries(i).reduce((c,[l,u])=>(c[l]={[s]:u},c),{});Object.assign(o,a)}else s?o[s]=i:Object.assign(o,i);return o}function Ade(t){const{conditions:e,isValidProperty:n}=t;return function(s){return so(s,i=>i,{getKey:(i,o)=>$r(o)&&!e.has(i)&&!n(i)?Ide(i).map(a=>"&"+a).join(", "):i})}}function Ide(t){const e=[];let n=0,r="",s=!1;for(let i=0;i<t.length;i++){const o=t[i];if(o==="\\"&&!s){s=!0,r+=o;continue}if(s){s=!1,r+=o;continue}o==="("?n++:o===")"&&n--,o===","&&n===0?(e.push(r.trim()),r=""):r+=o}return r&&e.push(r.trim()),e}const xde=(t={})=>{const e=s=>{var i;return{base:((i=t.base)==null?void 0:i[s])??{},variants:{},defaultVariants:t.defaultVariants??{},compoundVariants:t.compoundVariants?Sde(t.compoundVariants,s):[]}},r=(t.slots??[]).map(s=>[s,e(s)]);for(const[s,i]of Object.entries(t.variants??{}))for(const[o,a]of Object.entries(i))r.forEach(([c,l])=>{var u;(u=l.variants)[s]??(u[s]={}),l.variants[s][o]=a[c]??{}});return Object.fromEntries(r)},Sde=(t,e)=>t.filter(n=>n.css[e]).map(n=>({...n,css:n.css[e]}));function _de(t){const{cva:e}=t;return function(r={}){const s=Object.entries(xde(r)).map(([d,h])=>[d,e(h)]);function i(d){const h=s.map(([f,g])=>[f,g(d)]);return Object.fromEntries(h)}const o=r.variants??{},a=Object.keys(o);function c(d){var p;const h=v2(d,["recipe"]),[f,g]=Iw(h,a);return a.includes("colorPalette")||(f.colorPalette=d.colorPalette||((p=r.defaultVariants)==null?void 0:p.colorPalette)),a.includes("orientation")&&(g.orientation=d.orientation),[f,g]}const l=Object.fromEntries(Object.entries(o).map(([d,h])=>[d,Object.keys(h)]));let u={};return r.className&&(u=Object.fromEntries(r.slots.map(d=>[d,`${r.className}__${d}`]))),Object.assign(i,{variantMap:l,variantKeys:a,splitVariantProps:c,classNameMap:u})}}const Pde=()=>t=>Array.from(new Set(t)),Tde=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,Ode=function(t,e){return e?t==="\0"?"�":t==="-"&&t.length===1?"\\-":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16):"\\"+t},K6=t=>(t+"").replace(Tde,Ode),Y6=(t,e)=>{let n="",r=0,s="char",i="",o="";const a=[];for(;r<t.length;){const c=t[r];if(c==="{"){const u=t.indexOf("}",r);if(u===-1)break;const d=t.slice(r+1,u),h=e(d);n+=h??d,r=u+1;continue}if(s==="token"&&c===","){t[r]===""&&r++,s="fallback",a.push(s);const u=e(i);u!=null&&u.endsWith(")")&&(n+=u.slice(0,-1)),i="",o="";continue}if(s==="fallback"&&o+c===", var("){const h=Rde(t.slice(r+1))+r+1,f=t.slice(r+1,h);if(h===-1)break;n+=", var("+f+")",r=h+1,s=a.pop()??s,o="";continue}if(s==="token"||s==="fallback"){if(r++,c===")"){s=a.pop()??s??"char",o+=c;const u=i&&(e(i)??K6(i));if(o){if(o=o.slice(1).trim(),!o.startsWith("token(")&&o.endsWith(")")&&(o=o.slice(0,-1)),o.includes("token(")){const h=Y6(o,e);h&&(o=h.slice(0,-1))}else if(o){const h=e(o);h&&(o=h)}}const d=n.at(-1);o?d!=null&&d.trim()?n+=u.slice(0,-1)+(", "+o+")"):n+=o:n+=u||")",i="",o="",s="char";continue}s==="token"&&(i+=c),s==="fallback"&&(o+=c);continue}const l=t.indexOf("token(",r);if(l!==-1){const u=l+6;n+=t.slice(r,l),r=u,s="token",a.push(s);continue}n+=c,r++}return n},Rde=t=>{let e=0;const n=["("];for(;e<t.length;){const r=t[e];if(r==="(")n.push(r);else if(r===")"&&(n.pop(),n.length===0))return e;e++}return e};function Q6(t){const e={};return t.forEach((n,r)=>{n instanceof Map?e[r]=Object.fromEntries(n):e[r]=n}),e}const Z6=/({([^}]*)})/g,Nde=/[{}]/g,kde=/\w+\.\w+/,J6=t=>{if(!gi(t))return[];const e=t.match(Z6);return e?e.map(n=>n.replace(Nde,"")).map(n=>n.trim()):[]},Dde=t=>Z6.test(t);function X6(t){var n,r,s;if(!((n=t.extensions)!=null&&n.references))return((s=(r=t.extensions)==null?void 0:r.cssVar)==null?void 0:s.ref)??t.value;const e=t.extensions.references??{};return t.value=Object.keys(e).reduce((i,o)=>{const a=e[o];if(a.extensions.conditions)return i;const c=X6(a);return i.replace(`{${o}}`,c)},t.value),delete t.extensions.references,t.value}function eD(t){return $r(t)&&t.reference?t.reference:String(t)}const rm=(t,...e)=>e.map(eD).join(` ${t} `).replace(/calc/g,""),fS=(...t)=>`calc(${rm("+",...t)})`,pS=(...t)=>`calc(${rm("-",...t)})`,dw=(...t)=>`calc(${rm("*",...t)})`,gS=(...t)=>`calc(${rm("/",...t)})`,mS=t=>{const e=eD(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:dw(e,-1)},xc=Object.assign(t=>({add:(...e)=>xc(fS(t,...e)),subtract:(...e)=>xc(pS(t,...e)),multiply:(...e)=>xc(dw(t,...e)),divide:(...e)=>xc(gS(t,...e)),negate:()=>xc(mS(t)),toString:()=>t.toString()}),{add:fS,subtract:pS,multiply:dw,divide:gS,negate:mS}),Bde={enforce:"pre",transform(t){const{prefix:e,allTokens:n,formatCssVar:r,formatTokenName:s,registerToken:i}=t;n.filter(({extensions:a})=>a.category==="spacing").forEach(a=>{const c=a.path.slice(),l=r(c,e);if(gi(a.value)&&a.value==="0rem")return;const u=structuredClone(a);Object.assign(u.extensions,{negative:!0,prop:`-${a.extensions.prop}`,originalPath:c}),u.value=xc.negate(l.ref);const d=u.path[u.path.length-1];d!=null&&(u.path[u.path.length-1]=`-${d}`),u.path&&(u.name=s(u.path)),i(u)})}},$de=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),Lde={enforce:"post",transform(t){t.allTokens.filter(n=>$de.has(n.extensions.category)&&!n.extensions.negative).forEach(n=>{Object.assign(n.extensions,{pixelValue:M6(n.value)})})}},Fde={enforce:"post",transform(t){const{allTokens:e,registerToken:n,formatTokenName:r}=t,s=e.filter(({extensions:a})=>a.category==="colors"),i=new Map,o=new Map;s.forEach(a=>{const{colorPalette:c}=a.extensions;c&&(c.keys.forEach(l=>{i.set(r(l),l)}),c.roots.forEach(l=>{var h;const u=r(l),d=o.get(u)||[];if(d.push(a),o.set(u,d),a.extensions.default&&l.length===1){const f=(h=c.keys[0])==null?void 0:h.filter(Boolean);if(!f.length)return;const g=l.concat(f);i.set(r(g),[])}}))}),i.forEach(a=>{const c=["colors","colorPalette",...a].filter(Boolean),l=r(c),u=r(c.slice(1));n({name:l,value:l,originalValue:l,path:c,extensions:{condition:"base",originalPath:c,category:"colors",prop:u,virtual:!0}},"pre")})}},Ude={enforce:"post",transform(t){t.allTokens=t.allTokens.filter(e=>e.value!=="")}},Mde=[Bde,Fde,Lde,Ude],zde={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(t,e){const{prefix:n,formatCssVar:r}=e,{negative:s,originalPath:i}=t.extensions,o=s?i:t.path;return{cssVar:r(o.filter(Boolean),n)}}},Vde={enforce:"post",type:"value",name:"tokens/conditionals",transform(t,e){const{prefix:n,formatCssVar:r}=e,s=J6(t.value);return s.length&&s.forEach(i=>{const o=r(i.split("."),n);t.value=t.value.replace(`{${o.ref}}`,o)}),t.value}},jde={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(t){return t.extensions.category==="colors"&&!t.extensions.virtual},transform(t,e){let n=t.path.slice();if(n.pop(),n.shift(),n.length===0){const a=[...t.path];a.shift(),n=a}if(n.length===0)return{};const r=n.reduce((a,c,l,u)=>{const d=u.slice(0,l+1);return a.push(d),a},[]),s=n[0],i=e.formatTokenName(n),o=t.path.slice(t.path.indexOf(s)+1).reduce((a,c,l,u)=>(a.push(u.slice(l)),a),[]);return o.length===0&&o.push([""]),{colorPalette:{value:i,roots:r,keys:o}}}},Hde=[zde,Vde,jde],yS=t=>$r(t)&&Object.prototype.hasOwnProperty.call(t,"value");function qde(t){return t?{breakpoints:y5(t,e=>({value:e})),sizes:Object.fromEntries(Object.entries(t).map(([e,n])=>[`breakpoint-${e}`,{value:n}]))}:{breakpoints:{},sizes:{}}}function Wde(t){const{prefix:e="",tokens:n={},semanticTokens:r={},breakpoints:s={}}=t,i=j=>j.join("."),o=(j,M)=>L6(j.join("-"),{prefix:M}),a=[],c=new Map,l=new Map,u=new Map,d=new Map,h=new Map,f=new Map,g=new Map,p=new Map,m=[];function y(j,M){a.push(j),c.set(j.name,j),M&&p.forEach(de=>{de.enforce===M&&L(de,j)})}const b=qde(s),w=Yp({...n,breakpoints:b.breakpoints,sizes:{...n.sizes,...b.sizes}});function E(){so(w,(j,M)=>{const de=M.includes("DEFAULT");M=bS(M);const pe=M[0],ye=i(M),xe=gi(j)?{value:j}:j,Me={value:xe.value,originalValue:xe.value,name:ye,path:M,extensions:{condition:"base",originalPath:M,category:pe,prop:i(M.slice(1))}};de&&(Me.extensions.default=!0),y(Me)},{stop:yS}),so(r,(j,M)=>{const de=M.includes("DEFAULT");M=tD(bS(M));const pe=M[0],ye=i(M),xe=gi(j.value)?{value:{base:j.value}}:j,Me={value:xe.value.base||"",originalValue:xe.value.base||"",name:ye,path:M,extensions:{originalPath:M,category:pe,conditions:xe.value,condition:"base",prop:i(M.slice(1))}};de&&(Me.extensions.default=!0),y(Me)},{stop:yS})}function C(j){return c.get(j)}function I(j){const{condition:M}=j.extensions;M&&(l.has(M)||l.set(M,new Set),l.get(M).add(j))}function A(j){const{category:M,prop:de}=j.extensions;M&&(g.has(M)||g.set(M,new Map),g.get(M).set(de,j))}function x(j){const{condition:M,negative:de,virtual:pe,cssVar:ye}=j.extensions;de||pe||!M||!ye||(u.has(M)||u.set(M,new Map),u.get(M).set(ye.var,j.value))}function v(j){const{category:M,prop:de,cssVar:pe,negative:ye}=j.extensions;if(!M)return;f.has(M)||f.set(M,new Map);const xe=ye?j.extensions.conditions?j.originalValue:j.value:pe.ref;f.get(M).set(de,xe),h.set([M,de].join("."),xe)}function R(j){const{colorPalette:M,virtual:de,default:pe}=j.extensions;!M||de||M.roots.forEach(ye=>{var Fh;const xe=i(ye);d.has(xe)||d.set(xe,new Map);const Me=Kde([...j.path],[...ye]),_t=i(Me),xi=C(_t);if(!xi||!xi.extensions.cssVar)return;const{var:sm}=xi.extensions.cssVar;if(d.get(xe).set(sm,j.extensions.cssVar.ref),pe&&ye.length===1){const Uh=i(["colors","colorPalette"]),Wl=C(Uh);if(!Wl)return;const Gl=i(j.path),Kl=C(Gl);if(!Kl)return;const Yl=(Fh=M.keys[0])==null?void 0:Fh.filter(Boolean);if(!Yl.length)return;const za=i(ye.concat(Yl));d.has(za)||d.set(za,new Map),d.get(za).set(Wl.extensions.cssVar.var,Kl.extensions.cssVar.ref)}})}let N={};function B(){a.forEach(j=>{I(j),A(j),x(j),v(j),R(j)}),N=Q6(f)}const F=(j,M)=>{var xi;if(!j||typeof j!="string")return{invalid:!0,value:j};const[de,pe]=j.split("/");if(!de||!pe)return{invalid:!0,value:de};const ye=M(de),xe=(xi=C(`opacity.${pe}`))==null?void 0:xi.value;if(!xe&&isNaN(Number(pe)))return{invalid:!0,value:de};const Me=xe?Number(xe)*100+"%":`${pe}%`,_t=ye??de;return{invalid:!1,color:_t,value:`color-mix(in srgb, ${_t} ${Me}, transparent)`}},_=ns((j,M)=>h.get(j)??M),T=ns(j=>N[j]||null),S=ns(j=>Y6(j,M=>{if(!M)return;if(M.includes("/")){const pe=F(M,ye=>_(ye));if(pe.invalid)throw new Error("Invalid color mix at "+M+": "+pe.value);return pe.value}const de=_(M);return de||(kde.test(M)?K6(M):M)})),D={prefix:e,allTokens:a,tokenMap:c,registerToken:y,getByName:C,formatTokenName:i,formatCssVar:o,flatMap:h,cssVarMap:u,categoryMap:g,colorPaletteMap:d,getVar:_,getCategoryValues:T,expandReferenceInValue:S};function k(...j){j.forEach(M=>{p.set(M.name,M)})}function O(...j){m.push(...j)}function L(j,M){if(M.extensions.references||f2(j.match)&&!j.match(M))return;const pe=(ye=>j.transform(ye,D))(M);switch(!0){case j.type==="extensions":Object.assign(M.extensions,pe);break;case j.type==="value":M.value=pe;break;default:M[j.type]=pe;break}}function U(j){m.forEach(M=>{M.enforce===j&&M.transform(D)})}function V(j){p.forEach(M=>{M.enforce===j&&a.forEach(de=>{L(M,de)})})}function G(){a.forEach(j=>{const M=Gde(j);!M||M.length===0||M.forEach(de=>{y(de)})})}function q(j){return J6(j).map(de=>C(de)).filter(Boolean)}function ee(){a.forEach(j=>{if(!Dde(j.value))return;const M=q(j.value);j.extensions.references=M.reduce((de,pe)=>(de[pe.name]=pe,de),{})})}function ce(){a.forEach(j=>{X6(j)})}function _e(){U("pre"),V("pre"),G(),ee(),ce(),U("post"),V("post"),B()}return E(),k(...Hde),O(...Mde),_e(),D}function bS(t){return t[0]==="DEFAULT"?t:t.filter(e=>e!=="DEFAULT")}function tD(t){return t.filter(e=>e!=="base")}function Gde(t){if(!t.extensions.conditions)return;const{conditions:e}=t.extensions,n=[];return so(e,(r,s)=>{const i=tD(s);if(!i.length)return;const o=structuredClone(t);o.value=r,o.extensions.condition=i.join(":"),n.push(o)}),n}function Kde(t,e){const n=t.findIndex((r,s)=>e.every((i,o)=>t[s+o]===i));return n===-1||(t.splice(n,e.length),t.splice(n,0,"colorPalette")),t}Pde()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function Yde(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n]))}function Qde(t){const e=Yde(t.config),n=t.tokens,r=new Map,s=new Map;function i(x,v){e[x]=v,o(x,v)}const o=(x,v)=>{const R=p(v);R&&(s.set(x,R),d(x,v))},a=()=>{for(const[x,v]of Object.entries(e))v&&o(x,v)},c=()=>{for(const[x,v]of Object.entries(e)){const{shorthand:R}=v??{};if(!R)continue;(Array.isArray(R)?R:[R]).forEach(B=>r.set(B,x))}},l=()=>{const x=Q6(n.colorPaletteMap);i("colorPalette",{values:Object.keys(x),transform:ns(v=>x[v])})},u=new Map,d=(x,v)=>{if(!v)return;const R=p(v,B=>`type:Tokens["${B}"]`);if(typeof R=="object"&&R.type){u.set(x,new Set([`type:${R.type}`]));return}if(R){const B=new Set(Object.keys(R));u.set(x,B)}const N=u.get(x)??new Set;v.property&&u.set(x,N.add(`CssProperties["${v.property}"]`))},h=()=>{for(const[x,v]of Object.entries(e))v&&d(x,v)},f=(x,v)=>{const R=u.get(x)??new Set;u.set(x,new Set([...R,...v]))},g=()=>{const x=new Map;for(const[v,R]of u.entries()){if(R.size===0){x.set(v,["string"]);continue}const N=Array.from(R).map(B=>B.startsWith("CssProperties")?B:B.startsWith("type:")?B.replace("type:",""):JSON.stringify(B));x.set(v,N)}return x},p=(x,v)=>{const{values:R}=x,N=B=>{const F=v==null?void 0:v(B);return F?{[F]:F}:void 0};return gi(R)?(N==null?void 0:N(R))??n.getCategoryValues(R)??{}:Array.isArray(R)?R.reduce((B,F)=>(B[F]=F,B),{}):f2(R)?R(v?N:n.getCategoryValues):R},m=ns((x,v)=>({[x]:x.startsWith("--")?n.getVar(v,v):v})),y=Object.assign(n.getVar,{raw:x=>n.getByName(x)}),b=ns((x,v)=>{var _;const R=C(x);gi(v)&&!v.includes("_EMO_")&&(v=n.expandReferenceInValue(v));const N=e[R];if(!N)return m(R,v);const B=(_=s.get(R))==null?void 0:_[v];if(!N.transform)return m(x,B??v);const F=T=>xue(T,y);return N.transform(B??v,{raw:v,token:y,utils:{colorMix:F}})});function w(){c(),l(),a(),h()}w();const E=r.size>0,C=ns(x=>r.get(x)??x);return{keys:()=>[...Array.from(r.keys()),...Object.keys(e)],hasShorthand:E,transform:b,shorthands:r,resolveShorthand:C,register:i,getTypes:g,addPropertyType:f}}function nD(...t){const e=$6(...t),{theme:n={},utilities:r={},globalCss:s={},cssVarsRoot:i=":where(:root, :host)",cssVarsPrefix:o="chakra",preflight:a}=e,c=vde(e),l=Wde({breakpoints:n.breakpoints,tokens:n.tokens,semanticTokens:n.semanticTokens,prefix:o}),u=ede(n.breakpoints??{}),d=sde({conditions:e.conditions??{},breakpoints:u}),h=Qde({config:r,tokens:l});function f(){const{textStyles:k,layerStyles:O,animationStyles:L}=n,U=Yp({textStyle:k,layerStyle:O,animationStyle:L});for(const[V,G]of Object.entries(U)){const q=Yue(G??{},ee=>$r(ee)&&"value"in ee);h.register(V,{values:Object.keys(q),transform(ee){return w(q[ee])}})}}f(),h.addPropertyType("animationName",Object.keys(n.keyframes??{}));const g=new Set(["css",...h.keys(),...d.keys()]),p=ns(k=>g.has(k)||Kue(k)),m=k=>Array.isArray(k)?k.reduce((O,L,U)=>{const V=d.breakpoints[U];return L!=null&&(O[V]=L),O},{}):k,y=Ede({utility:h,normalize:m}),b=Ade({conditions:d,isValidProperty:p}),w=W6({transform:h.transform,conditions:d,normalize:y}),E=yde({css:w,conditions:d,normalize:y,layers:c}),C=_de({cva:E});function I(){const k={};for(const[O,L]of l.cssVarMap.entries()){const U=Object.fromEntries(L);if(Object.keys(U).length===0)continue;const V=O==="base"?i:d.resolve(O),G=V.startsWith("@"),q=w(b({[V]:G?{[i]:U}:U}));ql(k,q)}return c.wrap("tokens",k)}function A(){const k=Object.fromEntries(Object.entries(n.keyframes??{}).map(([L,U])=>[`@keyframes ${L}`,U])),O=Object.assign({},k,w(b(s)));return c.wrap("base",O)}function x(k){return Iw(k,p)}function v(){const k=Cde({preflight:a});return c.wrap("reset",k)}const R=Zde(l),N=(k,O)=>{var L;return((L=R.get(k))==null?void 0:L.value)||O};N.var=(k,O)=>{var L;return((L=R.get(k))==null?void 0:L.variable)||O};function B(k,O){var L;return((L=n.recipes)==null?void 0:L[k])??O}function F(k,O){var L;return((L=n.slotRecipes)==null?void 0:L[k])??O}function _(k){return Object.hasOwnProperty.call(n.recipes??{},k)}function T(k){return Object.hasOwnProperty.call(n.slotRecipes??{},k)}function S(k){return _(k)||T(k)}const D=[v(),A(),I()];return{$$chakra:!0,_config:e,_global:D,breakpoints:u,tokens:l,conditions:d,utility:h,token:N,properties:g,layers:c,isValidProperty:p,splitCssProps:x,normalizeValue:m,getTokenCss:I,getGlobalCss:A,getPreflightCss:v,css:w,cva:E,sva:C,getRecipe:B,getSlotRecipe:F,hasRecipe:S,isRecipe:_,isSlotRecipe:T}}function Zde(t){const e=new Map;return t.allTokens.forEach(n=>{const{cssVar:r,virtual:s,conditions:i}=n.extensions,o=i||s?r.ref:n.value;e.set(n.name,{value:o,variable:r.ref})}),e}const Jde={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},Xy="var(--chakra-empty,/*!*/ /*!*/)",Xde=Pue({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":Xy,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(t=>[`--${t}`,Xy])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(t=>[`--backdrop-${t}`,Xy])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder, *[data-placeholder]":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.emphasized/80"}}),ehe=Rue({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),the=Oue({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),yE=St({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),nhe=St({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"transparent",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"transparent",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{bg:"transparent",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),bn=St({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",cursor:"checkbox",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5",cursor:"disabled"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:rhe,defaultVariants:she}=yE,ihe=St({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:rhe,defaultVariants:she}),rD=St({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),ohe=St({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),ahe=St({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),che=St({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),Mt=St({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)",_invalid:{borderColor:"var(--error-color)",boxShadow:"0px 1px 0px 0px var(--error-color)"}}}}},defaultVariants:{size:"md",variant:"outline"}}),lhe=St({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:Mt.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),uhe=St({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),dhe=St({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),hhe=St({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),wn=St({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),fhe=St({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),phe=St({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),ghe=St({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),mhe=St({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),yhe=St({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),bhe={badge:yE,button:nhe,code:ihe,container:ohe,heading:ahe,input:Mt,inputAddon:lhe,kbd:uhe,link:dhe,mark:hhe,separator:fhe,skeleton:phe,skipNavLink:ghe,spinner:mhe,textarea:yhe,icon:che,checkmark:bn,radiomark:wn,colorSwatch:rD},whe=pE.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.400}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.500}",_dark:"{colors.red.500}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.500}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.500}",_dark:"{colors.green.500}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.500}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.500}",_dark:"{colors.yellow.500}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.500}",_dark:"{colors.teal.500}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.500}",_dark:"{colors.purple.500}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.500}",_dark:"{colors.pink.500}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.500}",_dark:"{colors.cyan.500}"}}}}),vhe=pE.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),Ehe=pE.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}}),Che=Jk.extendWith("itemBody"),Ahe=ke("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),Ihe=ke("alert").parts("title","description","root","indicator","content"),xhe=ke("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),She=ke("blockquote").parts("root","icon","content","caption"),_he=ke("card").parts("root","header","body","footer","title","description"),Phe=ke("checkbox-card",["root","control","label","description","addon","indicator","content"]),The=ke("data-list").parts("root","item","itemLabel","itemValue"),Ohe=uE.extendWith("header","body","footer","backdrop"),Rhe=uE.extendWith("header","body","footer","backdrop"),Nhe=u6.extendWith("textarea"),khe=ke("empty-state",["root","content","indicator","title","description"]),Dhe=F5.extendWith("requiredIndicator"),Bhe=d6.extendWith("content"),$he=h6.extendWith("itemContent","dropzoneContent","fileText"),Lhe=ke("list").parts("root","item","indicator"),Fhe=m6.extendWith("itemCommand"),Uhe=ke("select").parts("root","field","indicator"),Mhe=x6.extendWith("header","body","footer"),sD=fE.extendWith("itemAddon","itemIndicator"),zhe=sD.extendWith("itemContent","itemDescription"),Vhe=_6.extendWith("itemIndicator"),jhe=T6.extendWith("indicatorGroup"),Hhe=c6.extendWith("indicatorGroup","empty"),qhe=R6.extendWith("markerIndicator"),Whe=ke("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),Ghe=ke("status").parts("root","indicator"),Khe=ke("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),Yhe=N6.extendWith("indicator"),Qhe=ke("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),Zhe=ke("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),Jhe=ke("tabs").parts("root","trigger","list","content","contentGroup","indicator"),Xhe=ke("tag").parts("root","label","closeTrigger","startElement","endElement"),efe=ke("timeline").parts("root","item","content","separator","indicator","connector","title","description"),tfe=zce.extendWith("channelText"),nfe=Ee({className:"chakra-accordion",slots:Che.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",textAlign:"start",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),rfe=Ee({className:"chakra-action-bar",slots:Ahe.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),sfe=Ee({slots:Ihe.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),ife=Ee({slots:t6.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),ofe=Ee({className:"chakra-blockquote",slots:She.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),afe=Ee({className:"chakra-breadcrumb",slots:xhe.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted",listStyle:"none"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"},_rtl:{rotate:"180deg"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),cfe=Ee({className:"chakra-card",slots:_he.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}});var qS,WS,GS,KS,YS,QS,ZS,JS,XS,e_,t_,n_,r_,s_;const lfe=Ee({slots:Mce.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:bn.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:(WS=(qS=bn.variants)==null?void 0:qS.size)==null?void 0:WS.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:(KS=(GS=bn.variants)==null?void 0:GS.size)==null?void 0:KS.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:(QS=(YS=bn.variants)==null?void 0:YS.size)==null?void 0:QS.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:(JS=(ZS=bn.variants)==null?void 0:ZS.size)==null?void 0:JS.lg}},variant:{outline:{control:(e_=(XS=bn.variants)==null?void 0:XS.variant)==null?void 0:e_.outline},solid:{control:(n_=(t_=bn.variants)==null?void 0:t_.variant)==null?void 0:n_.solid},subtle:{control:(s_=(r_=bn.variants)==null?void 0:r_.variant)==null?void 0:s_.subtle}}},defaultVariants:{variant:"solid",size:"md"}});var i_,o_,a_,c_,l_,u_,d_;const ufe=Ee({slots:Phe.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",flex:"1",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm",_disabled:{opacity:"0.5"}},addon:{_disabled:{opacity:"0.5"}},indicator:bn.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:(i_=bn.variants)==null?void 0:i_.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(o_=bn.variants)==null?void 0:o_.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(a_=bn.variants)==null?void 0:a_.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:(c_=bn.variants)==null?void 0:c_.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:(l_=bn.variants)==null?void 0:l_.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:(u_=bn.variants)==null?void 0:u_.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:(d_=bn.variants)==null?void 0:d_.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),dfe=Ee({slots:$k.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}});var h_,f_,p_,g_,m_,y_,b_,w_,v_,E_,C_,A_,I_,x_,S_,__,P_,T_;const hfe=Ee({className:"colorPicker",slots:tfe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},channelText:{textStyle:"xs",color:"fg.muted",fontWeight:"medium",textTransform:"capitalize"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...rD.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...Mt.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:(f_=(h_=Mt.variants)==null?void 0:h_.size)==null?void 0:f_["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:(g_=(p_=Mt.variants)==null?void 0:p_.size)==null?void 0:g_.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:(y_=(m_=Mt.variants)==null?void 0:m_.size)==null?void 0:y_.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:(w_=(b_=Mt.variants)==null?void 0:b_.size)==null?void 0:w_.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:(E_=(v_=Mt.variants)==null?void 0:v_.size)==null?void 0:E_.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:(A_=(C_=Mt.variants)==null?void 0:C_.size)==null?void 0:A_.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:(x_=(I_=Mt.variants)==null?void 0:I_.size)==null?void 0:x_["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:(__=(S_=Mt.variants)==null?void 0:S_.variant)==null?void 0:__.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:(T_=(P_=Mt.variants)==null?void 0:P_.variant)==null?void 0:T_.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),ffe=Ee({className:"chakra-combobox",slots:Hhe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},input:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"bg.panel",width:"full",minH:"var(--combobox-input-height)",px:"var(--combobox-input-padding-x)","--input-height":"var(--combobox-input-height)",borderRadius:"l2",outline:0,userSelect:"none",textAlign:"start",_placeholderShown:{color:"fg.muted"},_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},trigger:{display:"inline-flex",alignItems:"center",justifyContent:"center","--input-height":"var(--combobox-input-height)"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"},control:{pos:"relative"},indicatorGroup:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1",pos:"absolute",insetEnd:"0",top:"0",bottom:"0",px:"var(--combobox-input-padding-x)",_icon:{boxSize:"var(--combobox-indicator-size)"},"[data-disabled] &":{opacity:.5}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"0s"},"&[data-empty]:not(:has([data-scope=combobox][data-part=empty]))":{opacity:0}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",py:"var(--combobox-item-padding-y)",px:"var(--combobox-item-padding-x)",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{boxSize:"var(--combobox-indicator-size)"}},empty:{py:"var(--combobox-item-padding-y)",px:"var(--combobox-item-padding-x)"},itemText:{flex:"1"},itemGroup:{pb:"var(--combobox-item-padding-y)",_last:{pb:"0"}},itemGroupLabel:{fontWeight:"medium",py:"var(--combobox-item-padding-y)",px:"var(--combobox-item-padding-x)"}},variants:{variant:{outline:{input:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"}},subtle:{input:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"}},flushed:{input:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}},indicatorGroup:{px:"0"}}},size:{xs:{root:{"--combobox-input-height":"sizes.8","--combobox-input-padding-x":"spacing.2","--combobox-indicator-size":"sizes.3.5"},input:{textStyle:"xs"},content:{"--combobox-item-padding-x":"spacing.1.5","--combobox-item-padding-y":"spacing.1","--combobox-indicator-size":"sizes.3.5",p:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"}},sm:{root:{"--combobox-input-height":"sizes.9","--combobox-input-padding-x":"spacing.2.5","--combobox-indicator-size":"sizes.4"},input:{textStyle:"sm"},content:{"--combobox-item-padding-x":"spacing.2","--combobox-item-padding-y":"spacing.1.5","--combobox-indicator-size":"sizes.4",p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"}},md:{root:{"--combobox-input-height":"sizes.10","--combobox-input-padding-x":"spacing.3","--combobox-indicator-size":"sizes.4"},input:{textStyle:"sm"},content:{"--combobox-item-padding-x":"spacing.2","--combobox-item-padding-y":"spacing.1.5","--combobox-indicator-size":"sizes.4",p:"1",textStyle:"sm"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{textStyle:"sm",gap:"2"}},lg:{root:{"--combobox-input-height":"sizes.12","--combobox-input-padding-x":"spacing.4","--combobox-indicator-size":"sizes.5"},input:{textStyle:"md"},content:{"--combobox-item-padding-y":"spacing.2","--combobox-item-padding-x":"spacing.3","--combobox-indicator-size":"sizes.5",p:"1.5",textStyle:"md"},trigger:{textStyle:"md",py:"3",gap:"2"}}}},defaultVariants:{size:"md",variant:"outline"}}),pfe=Ee({slots:The.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),gfe=Ee({slots:Ohe.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100vw",h:"100dvh",zIndex:"overlay",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{display:"flex",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"2",insetEnd:"2"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100vw",minH:"100vh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),mfe=Ee({slots:Rhe.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"overlay",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{display:"flex",alignItems:"center",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{flex:"1",textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"3",insetEnd:"2"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-left-full, fade-out"}}}},top:{positioner:{alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),wS=D6({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),yfe=Ee({slots:Nhe.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...wS,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"normal",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...wS,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),bfe=Ee({slots:khe.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),wfe=Ee({className:"chakra-field",slots:Dhe.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),vfe=Ee({className:"fieldset",slots:Bhe.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),Efe=Ee({className:"chakra-file-upload",slots:$he.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{pos:"relative",textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3",_empty:{display:"none"}},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",boxSize:"5",p:"2px",color:"fg.muted",cursor:"button"},itemPreview:{color:"fg.muted",_icon:{boxSize:"4.5"}}},defaultVariants:{}}),Cfe=Ee({className:"chakra-hover-card",slots:g6.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),Afe=Ee({className:"chakra-list",slots:Lhe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),Ife=Ee({className:"chakra-menu",slots:Fhe.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"},"&[data-type]":{ps:"8"}},itemText:{flex:"1"},itemIndicator:{position:"absolute",insetStart:"2",transform:"translateY(-50%)",top:"50%"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest",fontFamily:"inherit"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),Xf=Ee({className:"chakra-select",slots:jhe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)","--input-height":"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",insetEnd:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}});var O_,R_;const xfe=Ee({className:"chakra-native-select",slots:Uhe.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:(O_=Xf.variants)==null?void 0:O_.variant.outline.trigger},subtle:{field:(R_=Xf.variants)==null?void 0:R_.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{field:{textStyle:"xs",ps:"2",pe:"6",height:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{field:{textStyle:"sm",ps:"2.5",pe:"8",height:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{field:{textStyle:"sm",ps:"3",pe:"8",height:"10"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{field:{textStyle:"md",ps:"4",pe:"8",height:"11"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{field:{textStyle:"md",ps:"4.5",pe:"10",height:"12"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:Xf.defaultVariants});function hw(t,e){const n={};for(const r in t){const s=e(r,t[r]);n[s[0]]=s[1]}return n}const vS=D6({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),Sfe=Ee({className:"chakra-number-input",slots:E6.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...Mt.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...vS,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...vS,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:Mt.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:Mt.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:Mt.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:Mt.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:hw(Mt.variants.variant,(t,e)=>[t,{input:e}])},defaultVariants:{size:"md",variant:"outline"}}),{variants:ES,defaultVariants:_fe}=Mt,Pfe=Ee({className:"chakra-pin-input",slots:I6.keys(),base:{input:{...Mt.base,textAlign:"center",width:"var(--input-height)"},control:{display:"inline-flex",gap:"2",isolation:"isolate"}},variants:{size:hw(ES.size,(t,e)=>[t,{input:{...e,px:"1"}}]),variant:hw(ES.variant,(t,e)=>[t,{input:e}]),attached:{true:{control:{gap:"0",spaceX:"-1px"},input:{_notFirst:{borderStartRadius:"0"},_notLast:{borderEndRadius:"0"},_focusVisible:{zIndex:"1"}}}}},defaultVariants:_fe}),Tfe=Ee({className:"chakra-popover",slots:Mhe.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),Ofe=Ee({slots:hE.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),Rfe=Ee({className:"chakra-progress-circle",slots:hE.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dashoffset, stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),Nfe=Ee({slots:S6.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}});var N_,k_,D_,B_,$_,L_,F_;const kfe=Ee({className:"chakra-radio-card",slots:zhe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium",flex:"1"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:wn.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:(N_=wn.variants)==null?void 0:N_.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(k_=wn.variants)==null?void 0:k_.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(D_=wn.variants)==null?void 0:D_.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:(B_=wn.variants)==null?void 0:B_.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:($_=wn.variants)==null?void 0:$_.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:(L_=wn.variants)==null?void 0:L_.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:(F_=wn.variants)==null?void 0:F_.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}});var U_,M_,z_,V_,j_,H_,q_,W_,G_,K_,Y_,Q_,Z_,J_;const Dfe=Ee({className:"chakra-radio-group",slots:sD.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:wn.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:(M_=(U_=wn.variants)==null?void 0:U_.variant)==null?void 0:M_.outline},subtle:{itemControl:(V_=(z_=wn.variants)==null?void 0:z_.variant)==null?void 0:V_.subtle},solid:{itemControl:(H_=(j_=wn.variants)==null?void 0:j_.variant)==null?void 0:H_.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:(W_=(q_=wn.variants)==null?void 0:q_.size)==null?void 0:W_.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:(K_=(G_=wn.variants)==null?void 0:G_.size)==null?void 0:K_.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:(Q_=(Y_=wn.variants)==null?void 0:Y_.size)==null?void 0:Q_.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:(J_=(Z_=wn.variants)==null?void 0:Z_.size)==null?void 0:J_.lg}}},defaultVariants:{size:"md",variant:"solid"}}),Bfe=Ee({className:"chakra-rating-group",slots:Vhe.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative","--clip-path":{base:"inset(0 50% 0 0)",_rtl:"inset(0 0 0 50%)"},_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"var(--clip-path)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),$fe=Ee({className:"chakra-segment-group",slots:P6.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted",_vertical:{flexDirection:"column"}},item:{display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",bg:"border",transition:"opacity 0.2s"},_horizontal:{_before:{insetInlineStart:0,insetBlock:"1.5",width:"1px"}},_vertical:{_before:{insetBlockStart:0,insetInline:"1.5",height:"1px"}},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{item:{textStyle:"xs",px:"3",gap:"1",height:"6"}},sm:{item:{textStyle:"sm",px:"4",gap:"2",height:"8"}},md:{item:{textStyle:"sm",px:"4",gap:"2",height:"10"}},lg:{item:{textStyle:"md",px:"4.5",gap:"3",height:"11"}}}},defaultVariants:{size:"md"}}),Lfe=Ee({className:"chakra-slider",slots:qhe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),Ffe=Ee({className:"chakra-stat",slots:Whe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),Ufe=Ee({className:"chakra-status",slots:Ghe.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),Mfe=Ee({className:"chakra-steps",slots:Khe.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",gap:"3",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),zfe=Ee({slots:Yhe.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",transition:"backgrounds",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),Vfe=Ee({className:"chakra-table",slots:Qhe.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),jfe=Ee({slots:Jhe.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}});var X_;const Or=(X_=yE.variants)==null?void 0:X_.variant,Hfe=Ee({slots:Xhe.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:Or==null?void 0:Or.subtle},solid:{root:Or==null?void 0:Or.solid},outline:{root:Or==null?void 0:Or.outline},surface:{root:Or==null?void 0:Or.surface}}},defaultVariants:{size:"md",variant:"surface"}}),qfe=Ee({slots:efe.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),Wfe=Ee({slots:Zhe.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),Gfe=Ee({slots:k6.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),Kfe={accordion:nfe,actionBar:rfe,alert:sfe,avatar:ife,blockquote:ofe,breadcrumb:afe,card:cfe,checkbox:lfe,checkboxCard:ufe,collapsible:dfe,dataList:pfe,dialog:gfe,drawer:mfe,editable:yfe,emptyState:bfe,field:wfe,fieldset:vfe,fileUpload:Efe,hoverCard:Cfe,list:Afe,menu:Ife,nativeSelect:xfe,numberInput:Sfe,pinInput:Pfe,popover:Tfe,progress:Ofe,progressCircle:Rfe,radioCard:kfe,radioGroup:Dfe,ratingGroup:Bfe,segmentGroup:$fe,select:Xf,combobox:ffe,slider:Lfe,stat:Ffe,steps:Mfe,switch:zfe,table:Vfe,tabs:jfe,tag:Hfe,toast:Wfe,tooltip:Gfe,status:Ufe,timeline:qfe,colorPicker:hfe,qrCode:Nfe},Yfe=Tue({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}},label:{value:{fontSize:"sm",lineHeight:"1.25rem",fontWeight:"medium"}}}),Qfe=jt.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),Zfe=jt.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),Jfe=jt.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),Xfe=jt.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),epe=jt.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),tpe=jt.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),npe=jt.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),rpe=jt.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),spe=jt.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),ipe=jt.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),CS='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',ope=jt.fonts({heading:{value:`Inter, ${CS}`},body:{value:`Inter, ${CS}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),ape=_ue({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),cpe=jt.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),lpe=jt.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),upe=jt.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),iD=jt.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),dpe=jt.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),hpe=jt.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),fpe=jt.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),ppe=jt.sizes({...dpe,...iD,...fpe,...hpe}),gpe=jt.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),mpe=gE({preflight:!0,cssVarsPrefix:"chakra",cssVarsRoot:":where(html, .chakra-theme)",globalCss:Xde,theme:{breakpoints:Jde,keyframes:ape,tokens:{aspectRatios:Zfe,animations:Qfe,blurs:Jfe,borders:Xfe,colors:epe,durations:npe,easings:rpe,fonts:ope,fontSizes:spe,fontWeights:ipe,letterSpacings:cpe,lineHeights:lpe,radii:upe,spacing:iD,sizes:ppe,zIndex:gpe,cursor:tpe},semanticTokens:{colors:whe,shadows:Ehe,radii:vhe},recipes:bhe,slotRecipes:Kfe,textStyles:Yfe,layerStyles:ehe,animationStyles:the}}),oD=$6(Uue,mpe);nD(oD);var ype=function(t){b5(e,t);function e(n,r,s){n===void 0&&(n=1/0),r===void 0&&(r=1/0),s===void 0&&(s=w5);var i=t.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=s,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return e.prototype.next=function(n){var r=this,s=r.isStopped,i=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;s||(i.push(n),!o&&i.push(a.now()+c)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),s=this,i=s._infiniteTimeWindow,o=s._buffer,a=o.slice(),c=0;c<a.length&&!n.closed;c+=i?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,s=n._timestampProvider,i=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!o){for(var c=s.now(),l=0,u=1;u<i.length&&i[u]<=c;u+=2)l=u;l&&i.splice(0,l+1)}},e}(np),aD=new oh(function(t){return t.complete()});function eb(t){return!!t&&(t instanceof oh||ib(t.lift)&&ib(t.subscribe))}var cD=p2(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function AS(t,e){var n=typeof e=="object";return new Promise(function(r,s){var i=!1,o;t.subscribe({next:function(a){o=a,i=!0},error:s,complete:function(){i?r(o):n?r(e.defaultValue):s(new cD)}})})}function IS(t,e){var n=typeof e=="object";return new Promise(function(r,s){var i=new v5({next:function(o){r(o),i.unsubscribe()},error:s,complete:function(){n?r(e.defaultValue):s(new cD)}});t.subscribe(i)})}var bpe=p2(function(t){return function(n){n===void 0&&(n=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function wpe(t,e){var n=A5(t)?{first:t}:typeof t=="number"?{each:t}:t,r=n.first,s=n.each,i=n.with,o=i===void 0?vpe:i,a=n.scheduler,c=a===void 0?C5:a,l=n.meta,u=l===void 0?null:l;if(r==null&&s==null)throw new TypeError("No timeout provided.");return xl(function(d,h){var f,g,p=null,m=0,y=function(b){g=E5(h,c,function(){try{f.unsubscribe(),xa(o({meta:u,lastValue:p,seen:m})).subscribe(h)}catch(w){h.error(w)}},b)};f=d.subscribe(io(h,function(b){g==null||g.unsubscribe(),m++,h.next(p=b),s>0&&y(s)},void 0,void 0,function(){g!=null&&g.closed||g==null||g.unsubscribe(),p=null})),!m&&y(r!=null?typeof r=="number"?r:+r-c.now():s)})}function vpe(t){throw new bpe(t)}function Epe(t,e,n,r,s,i,o,a){var c=[],l=0,u=0,d=!1,h=function(){d&&!c.length&&!l&&e.complete()},f=function(p){return l<r?g(p):c.push(p)},g=function(p){l++;var m=!1;xa(n(p,u++)).subscribe(io(e,function(y){e.next(y)},function(){m=!0},void 0,function(){if(m)try{l--;for(var y=function(){var b=c.shift();o||g(b)};c.length&&l<r;)y();h()}catch(b){e.error(b)}}))};return t.subscribe(io(e,f,function(){d=!0,h()})),function(){}}function Hp(t,e,n){return n===void 0&&(n=1/0),ib(e)?Hp(function(r,s){return We(function(i,o){return e(r,i,s,o)})(xa(t(r,s)))},n):(typeof e=="number"&&(n=e),xl(function(r,s){return Epe(r,s,t,n)}))}function Cpe(t){return Hp(g2,t)}function Ape(){return Cpe(1)}function Tt(t){return new oh(function(e){xa(t()).subscribe(e)})}function fw(t,e){return xl(function(n,r){var s=0;n.subscribe(io(r,function(i){return t.call(e,i,s++)&&r.next(i)}))})}function Ipe(t,e){return new oh(function(n){var r=t(),s=e(r),i=s?xa(s):aD;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function xpe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=I5(t);return xl(function(r,s){Ape()(x5(m2([r],y2(t)),n)).subscribe(s)})}function Spe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xpe.apply(void 0,m2([],y2(t)))}function _pe(t){return xl(function(e,n){var r=!1;e.subscribe(io(n,function(s){r=!0,n.next(s)},function(){r||n.next(t),n.complete()}))})}function Ppe(t){var e,n=1/0,r;return t!=null&&(typeof t=="object"?(e=t.count,n=e===void 0?1/0:e,r=t.delay):n=t),n<=0?function(){return aD}:xl(function(s,i){var o=0,a,c=function(){if(a==null||a.unsubscribe(),a=null,r!=null){var u=typeof r=="number"?b2(r):xa(r(o)),d=io(i,function(){d.unsubscribe(),l()});u.subscribe(d)}else l()},l=function(){var u=!1;a=s.subscribe(io(i,void 0,function(){++o<n?a?c():u=!0:i.complete()})),u&&c()};l()})}function xS(t,e){e===void 0&&(e={});var n=e.selector,r=S5(e,["selector"]);return new oh(function(s){var i=new AbortController,o=i.signal,a=!0,c=r.signal;if(c)if(c.aborted)i.abort();else{var l=function(){o.aborted||i.abort()};c.addEventListener("abort",l),s.add(function(){return c.removeEventListener("abort",l)})}var u=PE(PE({},r),{signal:o}),d=function(h){a=!1,s.error(h)};return fetch(t,u).then(function(h){n?xa(n(h)).subscribe(io(s,void 0,function(){a=!1,s.complete()},d)):(a=!1,s.next(h),s.complete())}).catch(d),function(){a&&i.abort()}})}const Tpe=["function accountValue(uint64 poolId, uint32 account) view returns (int128)","function accounts(uint64, uint32) view returns (uint128 totalDebit, uint128 totalCredit, bool isDebitNormal, uint64 lastUpdated, bytes metadata)"],Ope=["function addVault(uint64 poolId, bytes16 scId, uint128 assetId, address vault_, address asset_, uint256)","function approvedDeposits(uint64 poolId, bytes16 scId, uint128 assetId, uint128 assetAmount, uint128 pricePoolPerAsset)","function balanceSheet() view returns (address)","function cancelDepositRequest(address vault_, address controller, address)","function cancelRedeemRequest(address vault_, address controller, address)","function claimCancelDepositRequest(address vault_, address receiver, address controller) returns (uint256 assets)","function claimCancelRedeemRequest(address vault_, address receiver, address controller) returns (uint256 shares)","function claimableCancelDepositRequest(address vault_, address user) view returns (uint256 assets)","function claimableCancelRedeemRequest(address vault_, address user) view returns (uint256 shares)","function convertToAssets(address vault_, uint256 shares) view returns (uint256 assets)","function convertToShares(address vault_, uint256 assets) view returns (uint256 shares)","function deny(address user)","function deposit(address vault_, uint256 assets, address receiver, address controller) returns (uint256 shares)","function file(bytes32 what, address data)","function fulfillDepositRequest(uint64 poolId, bytes16 scId, address user, uint128 assetId, uint128 fulfilledAssets, uint128 fulfilledShares, uint128 cancelledAssets)","function fulfillRedeemRequest(uint64 poolId, bytes16 scId, address user, uint128 assetId, uint128 fulfilledAssets, uint128 fulfilledShares, uint128 cancelledShares)","function globalEscrow() view returns (address)","function investments(address vault, address investor) view returns (uint128 maxMint, uint128 maxWithdraw, uint256 depositPrice, uint256 redeemPrice, uint128 pendingDepositRequest, uint128 pendingRedeemRequest, uint128 claimableCancelDepositRequest, uint128 claimableCancelRedeemRequest, bool pendingCancelDepositRequest, bool pendingCancelRedeemRequest)","function issuedShares(uint64 poolId, bytes16 scId, uint128 shareAmount, uint128 pricePoolPerShare)","function maxDeposit(address vault_, address user) view returns (uint256 assets)","function maxMint(address vault_, address user) view returns (uint256 shares)","function maxRedeem(address vault_, address user) view returns (uint256 shares)","function maxWithdraw(address vault_, address user) view returns (uint256 assets)","function mint(address vault_, uint256 shares, address receiver, address controller) returns (uint256 assets)","function pendingCancelDepositRequest(address vault_, address user) view returns (bool isPending)","function pendingCancelRedeemRequest(address vault_, address user) view returns (bool isPending)","function pendingDepositRequest(address vault_, address user) view returns (uint256 assets)","function pendingRedeemRequest(address vault_, address user) view returns (uint256 shares)","function poolEscrow(uint64 poolId) view returns (address)","function priceLastUpdated(address vault_) view returns (uint64 lastUpdated)","function recoverTokens(address token, address receiver, uint256 amount)","function recoverTokens(address token, uint256 tokenId, address receiver, uint256 amount)","function redeem(address vault_, uint256 shares, address receiver, address controller) returns (uint256 assets)","function rely(address user)","function removeVault(uint64 poolId, bytes16 scId, uint128 assetId, address vault_, address asset_, uint256)","function requestDeposit(address vault_, uint256 assets, address controller, address, address) returns (bool)","function requestRedeem(address vault_, uint256 shares, address controller, address owner, address) returns (bool)","function revokedShares(uint64 poolId, bytes16 scId, uint128 assetId, uint128 assetAmount, uint128 shareAmount, uint128 pricePoolPerShare)","function root() view returns (address)","function sender() view returns (address)","function spoke() view returns (address)","function vault(uint64 poolId, bytes16 scId, uint128 assetId) view returns (address vault)","function vaultByAssetId(uint64 poolId, bytes16 scId, uint128 assetId) view returns (address)","function wards(address) view returns (uint256)","function withdraw(address vault_, uint256 assets, address receiver, address controller) returns (uint256 shares)","event AddVault(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed assetId, address vault)","event Deny(address indexed user)","event File(bytes32 indexed what, address data)","event Rely(address indexed user)","event RemoveVault(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed assetId, address vault)","event TriggerRedeemRequest(uint64 indexed poolId, bytes16 indexed scId, address user, address indexed asset, uint256 tokenId, uint128 shares)","error AssetMismatch()","error AssetNotAllowed()","error CancellationIsPending()","error ExceedsDepositLimits()","error ExceedsMaxDeposit()","error ExceedsMaxRedeem()","error ExceedsRedeemLimits()","error FailedRedeemRequest()","error FileUnrecognizedParam()","error MulDiv_Overflow()","error NoCode()","error NoPendingRequest()","error NotAuthorized()","error SafeTransferEthFailed()","error SenderNotVault()","error ShareTokenAmountIsZero()","error ShareTokenTransferFailed()","error TransferNotAllowed()","error Uint128_Overflow()","error Uint64_Overflow()","error VaultAlreadyExists()","error VaultDoesNotExist()","error WrappedError(address target, bytes4 selector, bytes reason, bytes details)","error ZeroAmountNotAllowed()"],Rpe=["function AUTHORIZE_OPERATOR_TYPEHASH() view returns (bytes32)","function DOMAIN_SEPARATOR() view returns (bytes32)","function asset() view returns (address)","function asyncManager() view returns (address)","function asyncRedeemManager() view returns (address)","function authorizations(address controller, bytes32 nonce) view returns (bool used)","function authorizeOperator(address controller, address operator, bool approved, bytes32 nonce, uint256 deadline, bytes signature) returns (bool success)","function baseManager() view returns (address)","function cancelDepositRequest(uint256, address controller)","function cancelRedeemRequest(uint256, address controller)","function claimCancelDepositRequest(uint256, address receiver, address controller) returns (uint256 assets)","function claimCancelRedeemRequest(uint256, address receiver, address controller) returns (uint256 shares)","function claimableCancelDepositRequest(uint256, address controller) view returns (uint256 claimableAssets)","function claimableCancelRedeemRequest(uint256, address controller) view returns (uint256 claimableShares)","function claimableDepositRequest(uint256, address controller) view returns (uint256 claimableAssets)","function claimableRedeemRequest(uint256, address controller) view returns (uint256 claimableShares)","function convertToAssets(uint256 shares) view returns (uint256 assets)","function convertToShares(uint256 assets) view returns (uint256 shares)","function deny(address user)","function deploymentChainId() view returns (uint256)","function deposit(uint256 assets, address receiver, address controller) returns (uint256 shares)","function deposit(uint256 assets, address receiver) returns (uint256 shares)","function file(bytes32 what, address data)","function invalidateNonce(bytes32 nonce)","function isOperator(address, address) view returns (bool)","function isPermissioned(address controller) view returns (bool)","function manager() view returns (address)","function maxDeposit(address controller) view returns (uint256 maxAssets)","function maxMint(address controller) view returns (uint256 maxShares)","function maxRedeem(address controller) view returns (uint256 maxShares)","function maxWithdraw(address controller) view returns (uint256 maxAssets)","function mint(uint256 shares, address receiver) returns (uint256 assets)","function mint(uint256 shares, address receiver, address controller) returns (uint256 assets)","function onCancelDepositClaimable(address controller, uint256 assets)","function onCancelRedeemClaimable(address controller, uint256 shares)","function onDepositClaimable(address controller, uint256 assets, uint256 shares)","function onRedeemClaimable(address controller, uint256 assets, uint256 shares)","function onRedeemRequest(address controller, address owner, uint256 shares)","function pendingCancelDepositRequest(uint256, address controller) view returns (bool isPending)","function pendingCancelRedeemRequest(uint256, address controller) view returns (bool isPending)","function pendingDepositRequest(uint256, address controller) view returns (uint256 pendingAssets)","function pendingRedeemRequest(uint256, address controller) view returns (uint256 pendingShares)","function poolId() view returns (uint64)","function previewDeposit(uint256) pure returns (uint256)","function previewMint(uint256) pure returns (uint256)","function previewRedeem(uint256) pure returns (uint256)","function previewWithdraw(uint256) pure returns (uint256)","function priceLastUpdated() view returns (uint64)","function pricePerShare() view returns (uint256)","function recoverTokens(address token, address receiver, uint256 amount)","function recoverTokens(address token, uint256 tokenId, address receiver, uint256 amount)","function redeem(uint256 shares, address receiver, address controller) returns (uint256 assets)","function rely(address user)","function requestDeposit(uint256 assets, address controller, address owner) returns (uint256)","function requestRedeem(uint256 shares, address controller, address owner) returns (uint256)","function root() view returns (address)","function scId() view returns (bytes16)","function setEndorsedOperator(address owner, bool approved)","function setOperator(address operator, bool approved) returns (bool success)","function share() view returns (address)","function supportsInterface(bytes4 interfaceId) pure returns (bool)","function totalAssets() view returns (uint256)","function vaultKind() pure returns (uint8 vaultKind_)","function wards(address) view returns (uint256)","function withdraw(uint256 assets, address receiver, address controller) returns (uint256 shares)","event CancelDepositClaim(address indexed controller, address indexed receiver, uint256 indexed requestId, address sender, uint256 assets)","event CancelDepositClaimable(address indexed controller, uint256 indexed requestId, uint256 assets)","event CancelDepositRequest(address indexed controller, uint256 indexed requestId, address sender)","event CancelRedeemClaim(address indexed controller, address indexed receiver, uint256 indexed requestId, address sender, uint256 shares)","event CancelRedeemClaimable(address indexed controller, uint256 indexed requestId, uint256 shares)","event CancelRedeemRequest(address indexed controller, uint256 indexed requestId, address sender)","event Deny(address indexed user)","event Deposit(address indexed sender, address indexed owner, uint256 assets, uint256 shares)","event DepositClaimable(address indexed controller, uint256 indexed requestId, uint256 assets, uint256 shares)","event DepositRequest(address indexed controller, address indexed owner, uint256 indexed requestId, address sender, uint256 assets)","event File(bytes32 indexed what, address data)","event OperatorSet(address indexed controller, address indexed operator, bool approved)","event RedeemClaimable(address indexed controller, uint256 indexed requestId, uint256 assets, uint256 shares)","event RedeemRequest(address indexed controller, address indexed owner, uint256 indexed requestId, address sender, uint256 assets)","event Rely(address indexed user)","event Withdraw(address indexed sender, address indexed receiver, address indexed owner, uint256 assets, uint256 shares)","error AlreadyUsedAuthorization()","error CannotSetSelfAsOperator()","error ExpiredAuthorization()","error FileUnrecognizedParam()","error InsufficientBalance()","error InvalidAuthorization()","error InvalidController()","error InvalidOwner()","error InvalidSigner()","error NoCode()","error NotAuthorized()","error NotEndorsed()","error RequestDepositFailed()","error RequestRedeemFailed()","error SafeTransferEthFailed()","error TransferFromFailed()","error WrappedError(address target, bytes4 selector, bytes reason, bytes details)"],Npe=["event Approval(address indexed owner, address indexed spender, uint256 value)","event Transfer(address indexed from, address indexed to, uint256 value)","function PERMIT_TYPEHASH() view returns (bytes32)","function approve(address, uint) external returns (bool)","function transfer(address, uint) external returns (bool)","function balanceOf(address) view returns (uint)","function allowance(address, address) view returns (uint)","function decimals() view returns (uint8)","function name() view returns (string)","function symbol() view returns (string)","function checkTransferRestriction(address, address, uint) view returns (bool)","function hook() view returns (address)"],kpe=["function accountId(uint64, bytes16, uint128, uint8 kind) view returns (uint32)","function amount(uint64 poolId, bytes16 scId, uint128 assetId) view returns (uint128 amount_)","function decrease(uint64 poolId, bytes16 scId, uint128 assetId, uint128 pricePoolPerAsset, uint128 amount_) returns (uint128 amountValue)","function deny(address user)","function holding(uint64, bytes16, uint128) view returns (uint128 assetAmount, uint128 assetAmountValue, address valuation, bool isLiability)","function hubRegistry() view returns (address)","function increase(uint64 poolId, bytes16 scId, uint128 assetId, uint128 pricePoolPerAsset, uint128 amount_) returns (uint128 amountValue)","function initialize(uint64 poolId, bytes16 scId, uint128 assetId, address valuation_, bool isLiability_, (uint32 accountId, uint8 kind)[] accounts)","function isInitialized(uint64 poolId, bytes16 scId, uint128 assetId) view returns (bool)","function isLiability(uint64 poolId, bytes16 scId, uint128 assetId) view returns (bool)","function rely(address user)","function setAccountId(uint64 poolId, bytes16 scId, uint128 assetId, uint8 kind, uint32 accountId_)","function setSnapshot(uint64 poolId, bytes16 scId, uint16 centrifugeId, bool isSnapshot, uint64 nonce)","function setSnapshotHook(uint64 poolId, address hook)","function snapshot(uint64, bytes16, uint16 centrifugeId) view returns (bool isSnapshot, uint64 nonce)","function snapshotHook(uint64) view returns (address)","function update(uint64 poolId, bytes16 scId, uint128 assetId) returns (bool isPositive, uint128 diffValue)","function updateValuation(uint64 poolId, bytes16 scId, uint128 assetId, address valuation_)","function valuation(uint64 poolId, bytes16 scId, uint128 assetId) view returns (address)","function value(uint64 poolId, bytes16 scId, uint128 assetId) view returns (uint128 value_)","function wards(address) view returns (uint256)","event Decrease(uint64 indexed, bytes16 indexed scId, uint128 indexed assetId, uint128 pricePoolPerAsset, uint128 amount, uint128 decreasedValue)","event Deny(address indexed user)","event Increase(uint64 indexed, bytes16 indexed scId, uint128 indexed assetId, uint128 pricePoolPerAsset, uint128 amount, uint128 increasedValue)","event Initialize(uint64 indexed, bytes16 indexed scId, uint128 indexed assetId, address valuation, bool isLiability, (uint32 accountId, uint8 kind)[] accounts)","event Rely(address indexed user)","event SetAccountId(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed assetId, uint8 kind, uint32 accountId)","event SetSnapshot(uint64 indexed poolId, bytes16 indexed scId, uint16 indexed centrifugeId, bool isSnapshot, uint64 nonce)","event SetSnapshotHook(uint64 indexed poolId, address hook)","event Update(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed assetId, bool isPositive, uint128 diffValue)","event UpdateValuation(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed assetId, address valuation)","error AlreadyInitialized()","error HoldingNotFound()","error InvalidNonce(uint64 expected, uint64 actual)","error MulDiv_Overflow()","error NotAuthorized()","error Uint128_Overflow()","error WrongAssetId()","error WrongShareClassId()","error WrongValuation()"],Dpe=["function accounting() view returns (address)","function addShareClass(uint64 poolId, string name, string symbol, bytes32 salt) payable returns (bytes16 scId)","function approveDeposits(uint64 poolId, bytes16 scId, uint128 depositAssetId, uint32 nowDepositEpochId, uint128 approvedAssetAmount) payable returns (uint128 pendingAssetAmount, uint128 approvedPoolAmount)","function approveRedeems(uint64 poolId, bytes16 scId, uint128 payoutAssetId, uint32 nowRedeemEpochId, uint128 approvedShareAmount) payable returns (uint128 pendingShareAmount)","function createAccount(uint64 poolId, uint32 account, bool isDebitNormal) payable","function createPool(uint64 poolId, address admin, uint128 currency) payable","function deny(address user)","function file(bytes32 what, address data)","function forceCancelDepositRequest(uint64 poolId, bytes16 scId, bytes32 investor, uint128 depositAssetId) payable","function forceCancelRedeemRequest(uint64 poolId, bytes16 scId, bytes32 investor, uint128 payoutAssetId) payable","function gateway() view returns (address)","function holdings() view returns (address)","function hubHelpers() view returns (address)","function hubRegistry() view returns (address)","function initializeHolding(uint64 poolId, bytes16 scId, uint128 assetId, address valuation, uint32 assetAccount, uint32 equityAccount, uint32 gainAccount, uint32 lossAccount) payable","function initializeLiability(uint64 poolId, bytes16 scId, uint128 assetId, address valuation, uint32 expenseAccount, uint32 liabilityAccount) payable","function initiateTransferShares(uint16 centrifugeId, uint64 poolId, bytes16 scId, bytes32 receiver, uint128 amount)","function issueShares(uint64 poolId, bytes16 scId, uint128 depositAssetId, uint32 nowIssueEpochId, uint128 navPoolPerShare) payable returns (uint128 issuedShareAmount, uint128 depositAssetAmount, uint128 depositPoolAmount)","function multicall(bytes[] data) payable","function notifyAssetPrice(uint64 poolId, bytes16 scId, uint128 assetId) payable","function notifyDeposit(uint64 poolId, bytes16 scId, uint128 assetId, bytes32 investor, uint32 maxClaims) payable","function notifyPool(uint64 poolId, uint16 centrifugeId) payable","function notifyRedeem(uint64 poolId, bytes16 scId, uint128 assetId, bytes32 investor, uint32 maxClaims) payable","function notifyShareClass(uint64 poolId, bytes16 scId, uint16 centrifugeId, bytes32 hook) payable","function notifyShareMetadata(uint64 poolId, bytes16 scId, uint16 centrifugeId) payable","function notifySharePrice(uint64 poolId, bytes16 scId, uint16 centrifugeId) payable","function poolEscrowFactory() view returns (address)","function recoverTokens(address token, address receiver, uint256 amount)","function recoverTokens(address token, uint256 tokenId, address receiver, uint256 amount)","function registerAsset(uint128 assetId, uint8 decimals)","function rely(address user)","function request(uint64 poolId, bytes16 scId, uint128 assetId, bytes payload) payable","function revokeShares(uint64 poolId, bytes16 scId, uint128 payoutAssetId, uint32 nowRevokeEpochId, uint128 navPoolPerShare) payable returns (uint128 revokedShareAmount, uint128 payoutAssetAmount, uint128 payoutPoolAmount)","function sender() view returns (address)","function setAccountMetadata(uint64 poolId, uint32 account, bytes metadata) payable","function setHoldingAccountId(uint64 poolId, bytes16 scId, uint128 assetId, uint8 kind, uint32 accountId) payable","function setMaxAssetPriceAge(uint64 poolId, bytes16 scId, uint128 assetId, uint64 maxPriceAge) payable","function setMaxSharePriceAge(uint16 centrifugeId, uint64 poolId, bytes16 scId, uint64 maxPriceAge) payable","function setPoolMetadata(uint64 poolId, bytes metadata) payable","function setRequestManager(uint64 poolId, bytes16 scId, uint128 assetId, bytes32 manager) payable","function setSnapshotHook(uint64 poolId, address hook) payable","function shareClassManager() view returns (address)","function updateBalanceSheetManager(uint16 centrifugeId, uint64 poolId, bytes32 who, bool canManage) payable","function updateContract(uint64 poolId, bytes16 scId, uint16 centrifugeId, bytes32 target, bytes payload, uint128 gasLimit) payable","function updateHoldingAmount(uint16 centrifugeId, uint64 poolId, bytes16 scId, uint128 assetId, uint128 amount, uint128 pricePoolPerAsset, bool isIncrease, bool isSnapshot, uint64 nonce)","function updateHoldingValuation(uint64 poolId, bytes16 scId, uint128 assetId, address valuation) payable","function updateHoldingValue(uint64 poolId, bytes16 scId, uint128 assetId) payable","function updateHubManager(uint64 poolId, address who, bool canManage) payable","function updateJournal(uint64 poolId, (uint128 value, uint32 accountId)[] debits, (uint128 value, uint32 accountId)[] credits)","function updateRestriction(uint64 poolId, bytes16 scId, uint16 centrifugeId, bytes payload, uint128 gasLimit) payable","function updateShareClassMetadata(uint64 poolId, bytes16 scId, string name, string symbol) payable","function updateShareHook(uint64 poolId, bytes16 scId, uint16 centrifugeId, bytes32 hook) payable","function updateSharePrice(uint64 poolId, bytes16 scId, uint128 navPoolPerShare) payable","function updateShares(uint16 centrifugeId, uint64 poolId, bytes16 scId, uint128 amount, bool isIssuance, bool isSnapshot, uint64 nonce)","function updateVault(uint64 poolId, bytes16 scId, uint128 assetId, bytes32 vaultOrFactory, uint8 kind, uint128 gasLimit) payable","function wards(address) view returns (uint256)","event Deny(address indexed user)","event File(bytes32 what, address addr)","event ForwardTransferShares(uint16 indexed centrifugeId, uint64 indexed poolId, bytes16 scId, bytes32 receiver, uint128 amount)","event NotifyAssetPrice(uint16 indexed centrifugeId, uint64 indexed poolId, bytes16 scId, uint128 assetId, uint128 pricePoolPerAsset)","event NotifyPool(uint16 indexed centrifugeId, uint64 indexed poolId)","event NotifyShareClass(uint16 indexed centrifugeId, uint64 indexed poolId, bytes16 scId)","event NotifyShareMetadata(uint16 indexed centrifugeId, uint64 indexed poolId, bytes16 scId, string name, string symbol)","event NotifySharePrice(uint16 indexed centrifugeId, uint64 indexed poolId, bytes16 scId, uint128 poolPerShare)","event Rely(address indexed user)","event SetMaxAssetPriceAge(uint64 indexed poolId, bytes16 scId, uint128 assetId, uint64 maxPriceAge)","event SetMaxSharePriceAge(uint16 indexed centrifugeId, uint64 indexed poolId, bytes16 scId, uint64 maxPriceAge)","event UpdateContract(uint16 indexed centrifugeId, uint64 indexed poolId, bytes16 scId, bytes32 target, bytes payload)","event UpdateRestriction(uint16 indexed centrifugeId, uint64 indexed poolId, bytes16 scId, bytes payload)","event UpdateShareHook(uint16 indexed centrifugeId, uint64 indexed poolId, bytes16 scId, bytes32 hook)","event UpdateVault(uint64 indexed poolId, bytes16 scId, uint128 assetId, bytes32 vaultOrFactory, uint8 kind)","error AccountDoesNotExist()","error AssetNotFound()","error CallFailedWithEmptyRevert()","error FileUnrecognizedParam()","error InvalidAccountCombination()","error InvalidPoolId()","error NoCode()","error NotAuthorized()","error NotManager()","error PoolAlreadyUnlocked()","error SafeTransferEthFailed()","error ShareClassNotFound()","error UnauthorizedSender()","error WrappedError(address target, bytes4 selector, bytes reason, bytes details)"],Bpe=["error AssetAlreadyRegistered()","error AssetNotFound()","error EmptyAccount()","error EmptyCurrency()","error EmptyShareClassManager()","error NonExistingPool(uint64 id)","error NotAuthorized()","error PoolAlreadyRegistered()","error Uint128_Overflow()","event Deny(address indexed user)","event NewAsset(uint128 indexed assetId, uint8 decimals)","event NewPool(uint64 poolId, address indexed manager, uint128 indexed currency)","event Rely(address indexed user)","event SetMetadata(uint64 indexed poolId, bytes metadata)","event UpdateCurrency(uint64 indexed poolId, uint128 currency)","event UpdateDependency(bytes32 indexed what, address dependency)","event UpdateManager(uint64 indexed poolId, address indexed manager, bool canManage)","function currency(uint64) view returns (uint128)","function decimals(uint128 assetId) view returns (uint8 decimals_)","function decimals(uint256 asset_) view returns (uint8 decimals_)","function decimals(uint64 poolId_) view returns (uint8 decimals_)","function deny(address user)","function dependency(bytes32) view returns (address)","function exists(uint64 poolId_) view returns (bool)","function isRegistered(uint128 assetId) view returns (bool)","function manager(uint64, address) view returns (bool)","function metadata(uint64) view returns (bytes)","function poolId(uint16 centrifugeId, uint48 postfix) pure returns (uint64 poolId_)","function registerAsset(uint128 assetId, uint8 decimals_)","function registerPool(uint64 poolId_, address manager_, uint128 currency_)","function rely(address user)","function setMetadata(uint64 poolId_, bytes metadata_)","function updateCurrency(uint64 poolId_, uint128 currency_)","function updateDependency(bytes32 what, address dependency_)","function updateManager(uint64 poolId_, address manager_, bool canManage)","function wards(address) view returns (uint256)"],$pe=["function localCentrifugeId() view returns (uint16)"],Lpe=["function estimate(uint16 centrifugeId, bytes payload, uint256 gasLimit) view returns (uint256 total)"],Fpe=["event UpdateMember(address indexed token, address indexed user, uint64 validUntil)","function isMember(address token, address user) view returns (bool isValid, uint64 validUntil)"],Upe=["function addShareClass(uint64 poolId, string name, string symbol, bytes32 salt) returns (bytes16 scId_)","function allowForceDepositCancel(bytes16 scId, uint128 depositAssetId, bytes32 investor) view returns (bool cancelled)","function allowForceRedeemCancel(bytes16 scId, uint128 payoutAssetId, bytes32 investor) view returns (bool cancelled)","function approveDeposits(uint64 poolId, bytes16 scId_, uint128 depositAssetId, uint32 nowDepositEpochId, uint128 approvedAssetAmount, uint128 pricePoolPerAsset) returns (uint128 pendingAssetAmount, uint128 approvedPoolAmount)","function approveRedeems(uint64 poolId, bytes16 scId_, uint128 payoutAssetId, uint32 nowRedeemEpochId, uint128 approvedShareAmount, uint128 pricePoolPerAsset) returns (uint128 pendingShareAmount)","function cancelDepositRequest(uint64 poolId, bytes16 scId_, bytes32 investor, uint128 depositAssetId) returns (uint128 cancelledAssetAmount)","function cancelRedeemRequest(uint64 poolId, bytes16 scId_, bytes32 investor, uint128 payoutAssetId) returns (uint128 cancelledShareAmount)","function claimDeposit(uint64 poolId, bytes16 scId_, bytes32 investor, uint128 depositAssetId) returns (uint128 payoutShareAmount, uint128 paymentAssetAmount, uint128 cancelledAssetAmount, bool canClaimAgain)","function claimRedeem(uint64 poolId, bytes16 scId_, bytes32 investor, uint128 payoutAssetId) returns (uint128 payoutAssetAmount, uint128 paymentShareAmount, uint128 cancelledShareAmount, bool canClaimAgain)","function deny(address user)","function depositRequest(bytes16 scId, uint128 depositAssetId, bytes32 investor) view returns (uint128 pending, uint32 lastUpdate)","function epochId(bytes16 scId, uint128 assetId) view returns (uint32 deposit, uint32 redeem, uint32 issue, uint32 revoke)","function epochInvestAmounts(bytes16 scId, uint128 assetId, uint32 epochId_) view returns (uint128 pendingAssetAmount, uint128 approvedAssetAmount, uint128 approvedPoolAmount, uint128 pricePoolPerAsset, uint128 navPoolPerShare, uint64 issuedAt)","function epochRedeemAmounts(bytes16 scId, uint128 assetId, uint32 epochId_) view returns (uint128 pendingShareAmount, uint128 approvedShareAmount, uint128 payoutAssetAmount, uint128 pricePoolPerAsset, uint128 navPoolPerShare, uint64 revokedAt)","function exists(uint64 poolId, bytes16 scId_) view returns (bool)","function forceCancelDepositRequest(uint64 poolId, bytes16 scId_, bytes32 investor, uint128 depositAssetId) returns (uint128 cancelledAssetAmount)","function forceCancelRedeemRequest(uint64 poolId, bytes16 scId_, bytes32 investor, uint128 payoutAssetId) returns (uint128 cancelledShareAmount)","function hubRegistry() view returns (address)","function issuance(bytes16 scId, uint16 centrifugeId) view returns (uint128)","function issueShares(uint64 poolId, bytes16 scId_, uint128 depositAssetId, uint32 nowIssueEpochId, uint128 navPoolPerShare) returns (uint128 issuedShareAmount, uint128 depositAssetAmount, uint128 depositPoolAmount)","function maxDepositClaims(bytes16 scId_, bytes32 investor, uint128 depositAssetId) view returns (uint32)","function maxRedeemClaims(bytes16 scId_, bytes32 investor, uint128 payoutAssetId) view returns (uint32)","function metadata(bytes16 scId) view returns (string name, string symbol, bytes32 salt)","function metrics(bytes16 scId) view returns (uint128 totalIssuance, uint128 navPerShare)","function nowDepositEpoch(bytes16 scId_, uint128 depositAssetId) view returns (uint32)","function nowIssueEpoch(bytes16 scId_, uint128 depositAssetId) view returns (uint32)","function nowRedeemEpoch(bytes16 scId_, uint128 depositAssetId) view returns (uint32)","function nowRevokeEpoch(bytes16 scId_, uint128 depositAssetId) view returns (uint32)","function pendingDeposit(bytes16 scId, uint128 depositAssetId) view returns (uint128 pending)","function pendingRedeem(bytes16 scId, uint128 payoutAssetId) view returns (uint128 pending)","function previewNextShareClassId(uint64 poolId) view returns (bytes16 scId)","function previewShareClassId(uint64 poolId, uint32 index) pure returns (bytes16 scId)","function queuedDepositRequest(bytes16 scId, uint128 depositAssetId, bytes32 investor) view returns (bool isCancelling, uint128 amount)","function queuedRedeemRequest(bytes16 scId, uint128 payoutAssetId, bytes32 investor) view returns (bool isCancelling, uint128 amount)","function redeemRequest(bytes16 scId, uint128 payoutAssetId, bytes32 investor) view returns (uint128 pending, uint32 lastUpdate)","function rely(address user)","function requestDeposit(uint64 poolId, bytes16 scId_, uint128 amount, bytes32 investor, uint128 depositAssetId)","function requestRedeem(uint64 poolId, bytes16 scId_, uint128 amount, bytes32 investor, uint128 payoutAssetId)","function revokeShares(uint64 poolId, bytes16 scId_, uint128 payoutAssetId, uint32 nowRevokeEpochId, uint128 navPoolPerShare) returns (uint128 revokedShareAmount, uint128 payoutAssetAmount, uint128 payoutPoolAmount)","function salts(bytes32 salt) view returns (bool)","function shareClassCount(uint64 poolId) view returns (uint32)","function shareClassIds(uint64 poolId, bytes16) view returns (bool)","function updateMetadata(uint64 poolId, bytes16 scId_, string name, string symbol)","function updateSharePrice(uint64 poolId, bytes16 scId_, uint128 navPoolPerShare)","function updateShares(uint16 centrifugeId, uint64 poolId, bytes16 scId_, uint128 amount, bool isIssuance)","function wards(address) view returns (uint256)","event AddShareClass(uint64 indexed poolId, bytes16 indexed scId, uint32 indexed index, string name, string symbol, bytes32 salt)","event AddShareClass(uint64 indexed poolId, bytes16 indexed scId, uint32 indexed index)","event ApproveDeposits(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed depositAssetId, uint32 epoch, uint128 approvedPoolAmount, uint128 approvedAssetAmount, uint128 pendingAssetAmount)","event ApproveRedeems(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed payoutAssetId, uint32 epoch, uint128 approvedShareAmount, uint128 pendingShareAmount)","event ClaimDeposit(uint64 indexed poolId, bytes16 indexed scId, uint32 epoch, bytes32 investor, uint128 indexed depositAssetId, uint128 paymentAssetAmount, uint128 pendingAssetAmount, uint128 claimedShareAmount, uint64 issuedAt)","event ClaimRedeem(uint64 indexed poolId, bytes16 indexed scId, uint32 epoch, bytes32 investor, uint128 indexed payoutAssetId, uint128 paymentShareAmount, uint128 pendingShareAmount, uint128 claimedAssetAmount, uint64 revokedAt)","event Deny(address indexed user)","event IssueShares(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed depositAssetId, uint32 epoch, uint128 navPoolPerShare, uint128 navAssetPerShare, uint128 issuedShareAmount)","event Rely(address indexed user)","event RemoteIssueShares(uint16 centrifugeId, uint64 indexed poolId, bytes16 indexed scId, uint128 issuedShareAmount)","event RemoteRevokeShares(uint16 centrifugeId, uint64 indexed poolId, bytes16 indexed scId, uint128 revokedAssetAmount)","event RevokeShares(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed payoutAssetId, uint32 epoch, uint128 navPoolPerShare, uint128 navAssetPerShare, uint128 revokedShareAmount, uint128 revokedAssetAmount, uint128 revokedPoolAmount)","event UpdateDepositRequest(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed depositAssetId, uint32 epoch, bytes32 investor, uint128 pendingUserAssetAmount, uint128 pendingTotalAssetAmount, uint128 queuedUserAssetAmount, bool pendingCancellation)","event UpdateMetadata(uint64 indexed poolId, bytes16 indexed scId, string name, string symbol)","event UpdateRedeemRequest(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed payoutAssetId, uint32 epoch, bytes32 investor, uint128 pendingUserShareAmount, uint128 pendingTotalShareAmount, uint128 queuedUserShareAmount, bool pendingCancellation)","event UpdateShareClass(uint64 indexed poolId, bytes16 indexed scId, uint128 navPoolPerShare)","error AlreadyIssued()","error AlreadyUsedSalt()","error ApprovalRequired()","error CancellationInitializationRequired()","error CancellationQueued()","error DecreaseMoreThanIssued()","error EpochNotFound()","error EpochNotInSequence(uint32 providedEpoch, uint32 nowEpoch)","error InsufficientPending()","error InvalidMetadataName()","error InvalidMetadataSize()","error InvalidMetadataSymbol()","error InvalidSalt()","error IssuanceRequired()","error MulDiv_Overflow()","error NoOrderFound()","error NotAuthorized()","error PoolMissing()","error RevocationRequired()","error RevokeMoreThanIssued()","error ShareClassNotFound()","error Uint128_Overflow()","error Uint64_Overflow()","error ZeroApprovalAmount()"],Mpe=["function addPool(uint64 poolId)","function addShareClass(uint64 poolId, bytes16 scId, string name, string symbol, uint8 decimals, bytes32 salt, address hook)","function assetToId(address asset, uint256 tokenId) view returns (uint128 assetId)","function deny(address user)","function deployVault(uint64 poolId, bytes16 scId, uint128 assetId, address factory) returns (address)","function executeTransferShares(uint64 poolId, bytes16 scId, bytes32 receiver, uint128 amount)","function file(bytes32 what, address factory, bool status)","function file(bytes32 what, address data)","function gateway() view returns (address)","function idToAsset(uint128 assetId) view returns (address asset, uint256 tokenId)","function isLinked(address vault) view returns (bool)","function isPoolActive(uint64 poolId) view returns (bool)","function linkToken(uint64 poolId, bytes16 scId, address shareToken_)","function linkVault(uint64 poolId, bytes16 scId, uint128 assetId, address vault)","function markersPricePoolPerAsset(uint64 poolId, bytes16 scId, uint128 assetId) view returns (uint64 computedAt, uint64 maxAge, uint64 validUntil)","function markersPricePoolPerShare(uint64 poolId, bytes16 scId) view returns (uint64 computedAt, uint64 maxAge, uint64 validUntil)","function poolEscrowFactory() view returns (address)","function pools(uint64 poolId) view returns (uint256 createdAt)","function pricePoolPerAsset(uint64 poolId, bytes16 scId, uint128 assetId, bool checkValidity) view returns (uint128 price)","function pricePoolPerShare(uint64 poolId, bytes16 scId, bool checkValidity) view returns (uint128 price)","function pricesPoolPer(uint64 poolId, bytes16 scId, uint128 assetId, bool checkValidity) view returns (uint128 pricePoolPerAsset_, uint128 pricePoolPerShare_)","function recoverTokens(address token, address receiver, uint256 amount)","function recoverTokens(address token, uint256 tokenId, address receiver, uint256 amount)","function registerAsset(uint16 centrifugeId, address asset, uint256 tokenId) payable returns (uint128 assetId)","function registerVault(uint64 poolId, bytes16 scId, uint128 assetId, address asset, uint256 tokenId, address factory, address vault)","function rely(address user)","function sender() view returns (address)","function setMaxAssetPriceAge(uint64 poolId, bytes16 scId, uint128 assetId, uint64 maxPriceAge)","function setMaxSharePriceAge(uint64 poolId, bytes16 scId, uint64 maxPriceAge)","function shareToken(uint64 poolId, bytes16 scId) view returns (address)","function tokenFactory() view returns (address)","function transferShares(uint16 centrifugeId, uint64 poolId, bytes16 scId, bytes32 receiver, uint128 amount) payable","function unlinkVault(uint64 poolId, bytes16 scId, uint128 assetId, address vault)","function updateContract(uint64 poolId, bytes16 scId, address target, bytes update)","function updatePricePoolPerAsset(uint64 poolId, bytes16 scId, uint128 assetId, uint128 poolPerAsset_, uint64 computedAt)","function updatePricePoolPerShare(uint64 poolId, bytes16 scId, uint128 price, uint64 computedAt)","function updateRestriction(uint64 poolId, bytes16 scId, bytes update)","function updateShareHook(uint64 poolId, bytes16 scId, address hook)","function updateShareMetadata(uint64 poolId, bytes16 scId, string name, string symbol)","function updateVault(uint64 poolId, bytes16 scId, uint128 assetId, address vaultOrFactory, uint8 kind)","function vaultDetails(address vault) view returns ((uint128 assetId, address asset, uint256 tokenId, bool isLinked) details)","function vaultFactory(address factory) view returns (bool)","function wards(address) view returns (uint256)","event AddPool(uint64 indexed poolId)","event AddShareClass(uint64 indexed poolId, bytes16 indexed scId, address token)","event Deny(address indexed user)","event DeployVault(uint64 indexed poolId, bytes16 indexed scId, address indexed asset, uint256 tokenId, address factory, address vault, uint8 kind)","event ExecuteTransferShares(uint64 indexed poolId, bytes16 indexed scId, address indexed receiver, uint128 amount)","event File(bytes32 indexed what, address data)","event File(bytes32 indexed what, address factory, bool status)","event LinkVault(uint64 indexed poolId, bytes16 indexed scId, address indexed asset, uint256 tokenId, address vault)","event RegisterAsset(uint128 indexed assetId, address indexed asset, uint256 indexed tokenId, string name, string symbol, uint8 decimals, bool isInitialization)","event Rely(address indexed user)","event TransferShares(uint16 centrifugeId, uint64 indexed poolId, bytes16 indexed scId, address indexed sender, bytes32 destinationAddress, uint128 amount)","event UnlinkVault(uint64 indexed poolId, bytes16 indexed scId, address indexed asset, uint256 tokenId, address vault)","event UpdateAssetPrice(uint64 indexed poolId, bytes16 indexed scId, address indexed asset, uint256 tokenId, uint256 price, uint64 computedAt)","event UpdateContract(uint64 indexed poolId, bytes16 indexed scId, address target, bytes payload)","event UpdateMaxAssetPriceAge(uint64 indexed poolId, bytes16 indexed scId, address indexed asset, uint256 tokenId, uint64 maxPriceAge)","event UpdateMaxSharePriceAge(uint64 indexed poolId, bytes16 indexed scId, uint64 maxPriceAge)","event UpdateSharePrice(uint64 indexed poolId, bytes16 indexed scId, uint256 price, uint64 computedAt)","error AssetMissingDecimals()","error CannotSetOlderPrice()","error CrossChainTransferNotAllowed()","error FileUnrecognizedParam()","error InvalidFactory()","error InvalidHook()","error InvalidPool()","error InvalidPrice()","error LocalTransferNotAllowed()","error MalformedVaultUpdateMessage()","error NoCode()","error NotAuthorized()","error OldHook()","error OldMetadata()","error PoolAlreadyAdded()","error SafeTransferEthFailed()","error ShareClassAlreadyRegistered()","error ShareTokenDoesNotExist()","error ShareTokenTransferFailed()","error TooFewDecimals()","error TooManyDecimals()","error TransferFromFailed()","error UnauthorizedSender()","error UnknownAsset()","error UnknownToken()","error UnknownVault()","error WrappedError(address target, bytes4 selector, bytes reason, bytes details)"],zpe=["function addVault(uint64 poolId, bytes16 scId, uint128 assetId, address vault_, address asset_, uint256 tokenId)","function balanceSheet() view returns (address)","function convertToAssets(address vault_, uint256 shares) view returns (uint256 assets)","function convertToShares(address vault_, uint256 assets) view returns (uint256 shares)","function deny(address user)","function deposit(address vault_, uint256 assets, address receiver, address owner) returns (uint256 shares)","function file(bytes32 what, address data)","function globalEscrow() view returns (address)","function maxDeposit(address vault_, address) view returns (uint256)","function maxMint(address vault_, address) view returns (uint256)","function maxReserve(uint64, bytes16 scId, address asset, uint256 tokenId) view returns (uint128)","function mint(address vault_, uint256 shares, address receiver, address owner) returns (uint256 assets)","function poolEscrow(uint64 poolId) view returns (address)","function previewDeposit(address vault_, address, uint256 assets) view returns (uint256 shares)","function previewMint(address vault_, address, uint256 shares) view returns (uint256 assets)","function priceLastUpdated(address vault_) view returns (uint64 lastUpdated)","function pricePoolPerShare(uint64 poolId, bytes16 scId) view returns (uint128 price)","function prices(uint64 poolId, bytes16 scId, uint128 assetId) view returns ((uint128 assetPerShare, uint128 poolPerAsset, uint128 poolPerShare) priceData)","function recoverTokens(address token, address receiver, uint256 amount)","function recoverTokens(address token, uint256 tokenId, address receiver, uint256 amount)","function rely(address user)","function removeVault(uint64 poolId, bytes16 scId, uint128 assetId, address vault_, address asset_, uint256 tokenId)","function root() view returns (address)","function setMaxReserve(uint64 poolId, bytes16 scId, address asset, uint256 tokenId, uint128 maxReserve_)","function setValuation(uint64 poolId, bytes16 scId, address valuation_)","function spoke() view returns (address)","function update(uint64 poolId, bytes16 scId, bytes payload)","function valuation(uint64, bytes16 scId) view returns (address)","function vault(uint64 poolId, bytes16 scId, uint128 assetId) view returns (address vault)","function vaultByAssetId(uint64 poolId, bytes16 scId, uint128 assetId) view returns (address)","function wards(address) view returns (uint256)","event AddVault(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed assetId, address vault)","event Deny(address indexed user)","event File(bytes32 indexed what, address data)","event Rely(address indexed user)","event RemoveVault(uint64 indexed poolId, bytes16 indexed scId, uint128 indexed assetId, address vault)","event SetMaxReserve(uint64 indexed poolId, bytes16 indexed scId, address asset, uint256 tokenId, uint128 maxReserve)","event SetValuation(uint64 indexed poolId, bytes16 indexed scId, address valuation)","error AssetMismatch()","error AssetNotAllowed()","error ExceedsMaxDeposit()","error ExceedsMaxMint()","error FileUnrecognizedParam()","error MulDiv_Overflow()","error NoCode()","error NotAuthorized()","error SafeTransferEthFailed()","error SecondaryManagerDoesNotExist()","error SenderNotVault()","error ShareTokenDoesNotExist()","error SliceOutOfBounds()","error Uint128_Overflow()","error Uint64_Overflow()","error UnknownMessageType()","error UnknownUpdateContractType()","error VaultAlreadyExists()","error VaultDoesNotExist()","error WrappedError(address target, bytes4 selector, bytes reason, bytes details)"],Vpe=["function getQuote(uint128,uint128,uint128) external view returns (uint128)"],jpe=["function cancelDepositRequest(address vault) payable","function cancelRedeemRequest(address vault) payable","function claimCancelDepositRequest(address vault, address receiver, address controller) payable","function claimCancelRedeemRequest(address vault, address receiver, address controller) payable","function claimDeposit(address vault, address receiver, address controller) payable","function claimRedeem(address vault, address receiver, address controller) payable","function deny(address user)","function deposit(address vault, uint256 assets, address receiver, address owner) payable","function disable(address vault) payable","function enable(address vault) payable","function enableLockDepositRequest(address vault, uint256 amount) payable","function escrow() view returns (address)","function executeLockedDepositRequest(address vault, address controller) payable","function gateway() view returns (address)","function getVault(uint64 poolId, bytes16 scId, address asset) view returns (address)","function hasPermissions(address vault, address controller) view returns (bool)","function isEnabled(address vault, address controller) view returns (bool)","function lockDepositRequest(address vault, uint256 amount, address controller, address owner) payable","function lockedRequests(address controller, address vault) view returns (uint256 amount)","function messageDispatcher() view returns (address)","function multicall(bytes[] data) payable","function permit(address asset, address spender, uint256 assets, uint256 deadline, uint8 v, bytes32 r, bytes32 s) payable","function recoverTokens(address token, address receiver, uint256 amount)","function recoverTokens(address token, uint256 tokenId, address receiver, uint256 amount)","function rely(address user)","function requestDeposit(address vault, uint256 amount, address controller, address owner) payable","function requestRedeem(address vault, uint256 amount, address controller, address owner) payable","function spoke() view returns (address)","function unlockDepositRequest(address vault, address receiver) payable","function wards(address) view returns (uint256)","event Deny(address indexed user)","event ExecuteLockedDepositRequest(address indexed vault, address indexed controller, address sender)","event LockDepositRequest(address indexed vault, address indexed controller, address indexed owner, address sender, uint256 amount)","event Rely(address indexed user)","event UnlockDepositRequest(address indexed vault, address indexed controller, address indexed receiver)","error CallFailedWithEmptyRevert()","error InvalidOwner()","error InvalidSender()","error NoCode()","error NoLockedBalance()","error NoLockedRequest()","error NonAsyncVault()","error NonSyncDepositVault()","error NotAuthorized()","error SafeTransferEthFailed()","error UnauthorizedSender()","error WrappedError(address target, bytes4 selector, bytes reason, bytes details)","error ZeroBalance()"],ne={Hub:Pt(Dpe),ShareClassManager:Pt(Upe),HubRegistry:Pt(Bpe),MessageDispatcher:Pt($pe),Currency:Pt(Npe),RestrictionManager:Pt(Fpe),AsyncVault:Pt(Rpe),Spoke:Pt(Mpe),VaultRouter:Pt(jpe),Accounting:Pt(Tpe),Holdings:Pt(kpe),Valuation:Pt(Vpe),SyncRequests:Pt(zpe),AsyncRequests:Pt(Ope),MultiAdapter:Pt(Lpe)},Hpe=[dO,mv,aO,gv,oO,pv,uO],qpe={[dO.id]:"mainnet",[mv.id]:"sepolia",[aO.id]:"base",[gv.id]:"base-sepolia",[oO.id]:"arbitrum",[pv.id]:"arbitrum-sepolia",[uO.id]:"celo"},qp={[mv.id]:["0x3aaaa86458d576BafCB1B7eD290434F0696dA65c"],[gv.id]:["0x39F562Ff7da2863B0075dDF10c0fC0524C28ac92"],[pv.id]:["0x19cc063f962B2769012cA32B2A9027b5c76dCFf3"]},Wpe="0x0000000000000000000000000000000000000000",Gpe="0x6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9";var nh;class Ma{constructor(e,n){Ct(this,"_root");Le(this,nh);Ct(this,"_transact");Ct(this,"_transactSequence");this._root=e,Ae(this,nh,n),this._transact=this._root._transact.bind(this._root),this._transactSequence=this._root._transactSequence.bind(this._root)}_query(e,n,r){return this._root._query(e?[...z(this,nh),...e]:null,n,r)}}nh=new WeakMap;class Kpe extends Ma{constructor(n,r){const s=r.toLowerCase();super(n,["investor",s]);Ct(this,"address");this.address=Os(s)}portfolio(){return this._query(null,()=>mt(this._root.chains.map(n=>this.currencyBalances(n))).pipe(We(n=>n.flat())))}investment(n,r,s,i){return this._query(null,()=>this._root.pool(n).pipe(Ve(o=>o.vault(i,r,s)),Ve(o=>o.investment(this.address))))}isMember(n,r){return this._query(null,()=>this._root.pool(n.poolId).pipe(Ve(s=>s.shareClass(n)),Ve(s=>s.member(this.address,r)),We(({isMember:s})=>s)))}currencyBalances(n){return this._query(null,()=>qp[n]?mt(qp[n].map(r=>this._root.balance(r,this.address,n))):li([]))}}const Ype={840:{name:"US Dollar",symbol:"USD"},978:{name:"Euro",symbol:"EUR"},826:{name:"British Pound",symbol:"GBP"},392:{name:"Japanese Yen",symbol:"JPY"}};function Qpe(t){const{bufferSize:e=1/0,windowTime:n=1/0,resetDelay:r=1e3}=t??{},s=r===0?!0:isFinite(r)?()=>b2(r):!1;return _5({connector:()=>e===0?new np:new Zpe(e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function mr(t,e,n){return Ppe({delay:()=>t._filteredEvents(e.address||[],e.abi,e.eventName,n).pipe(fw(r=>e.filter?e.filter(r):!0))})}function SS(t,e=!1){return Object.assign(t,{then(r,s){return(e?AS:IS)(t).then(r,s)},toPromise(){return(e?AS:IS)(t)}})}class Zpe extends ype{_subscribe(e){const{_buffer:n}=this,r=n.length,s=super._subscribe(e);return r&&n.length===0&&this.complete(),s}}var Xs={},xo={},_S;function Jpe(){return _S||(_S=1,function(t){var e=xo&&xo.__awaiter||function(a,c,l,u){function d(h){return h instanceof l?h:new l(function(f){f(h)})}return new(l||(l=Promise))(function(h,f){function g(y){try{m(u.next(y))}catch(b){f(b)}}function p(y){try{m(u.throw(y))}catch(b){f(b)}}function m(y){y.done?h(y.value):d(y.value).then(g,p)}m((u=u.apply(a,c||[])).next())})},n=xo&&xo.__rest||function(a,c){var l={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&c.indexOf(u)<0&&(l[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,u=Object.getOwnPropertySymbols(a);d<u.length;d++)c.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(a,u[d])&&(l[u[d]]=a[u[d]]);return l};Object.defineProperty(t,"__esModule",{value:!0}),t.call=t.getChainId=t.setChainIdOverride=t.signData=t.send=void 0;const r=()=>Math.floor(Math.random()*1e10);t.send=(a,c,l)=>new Promise((u,d)=>{var h;const f={id:r(),method:c,params:l},g=(m,y)=>{m?d(m):y.error?(console.error(y.error),d(y.error)):u(y.result)},p=((h=a.provider)===null||h===void 0?void 0:h.provider)||a.provider||a;p.getUncheckedSigner?p.send(c,l).then(m=>u(m)).catch(m=>d(m)):p.sendAsync?p.sendAsync(f,g):p.send(f,g).catch(m=>{if(m.message==="Hardhat Network doesn't support JSON-RPC params sent as an object")p.send(c,l).then(y=>u(y)).catch(y=>d(y));else throw m})});const s=a=>{const c="0x"+a.substring(2).substring(0,64),l="0x"+a.substring(2).substring(64,128),u=parseInt(a.substring(2).substring(128,130),16);return{r:c,s:l,v:u}},i=(a,c,l)=>e(void 0,void 0,void 0,function*(){if((yield a.getAddress()).toLowerCase()!==c.toLowerCase())throw new Error("Signer address does not match requested signing address");const d=l.types,{EIP712Domain:h}=d,f=n(d,["EIP712Domain"]),g=yield a.signTypedData?a.signTypedData(l.domain,f,l.message):a._signTypedData(l.domain,f,l.message);return s(g)});t.signData=(a,c,l)=>e(void 0,void 0,void 0,function*(){if(a._signTypedData||a.signTypedData)return i(a,c,l);const u=typeof l=="string"?l:JSON.stringify(l),d=yield t.send(a,"eth_signTypedData_v4",[c,u]).catch(h=>{if(h.message==="Method eth_signTypedData_v4 not supported.")return t.send(a,"eth_signTypedData",[c,l]);throw h});return{r:d.slice(0,66),s:"0x"+d.slice(66,130),v:parseInt(d.slice(130,132),16)}});let o=null;t.setChainIdOverride=a=>{o=a},t.getChainId=a=>e(void 0,void 0,void 0,function*(){return o||t.send(a,"eth_chainId")}),t.call=(a,c,l)=>t.send(a,"eth_call",[{to:c,data:l},"latest"])}(xo)),xo}var So={},tb={};/*! https://mths.be/utf8js v3.0.0 by @mathias */var PS;function Xpe(){return PS||(PS=1,function(t){(function(e){var n=String.fromCharCode;function r(p){for(var m=[],y=0,b=p.length,w,E;y<b;)w=p.charCodeAt(y++),w>=55296&&w<=56319&&y<b?(E=p.charCodeAt(y++),(E&64512)==56320?m.push(((w&1023)<<10)+(E&1023)+65536):(m.push(w),y--)):m.push(w);return m}function s(p){for(var m=p.length,y=-1,b,w="";++y<m;)b=p[y],b>65535&&(b-=65536,w+=n(b>>>10&1023|55296),b=56320|b&1023),w+=n(b);return w}function i(p){if(p>=55296&&p<=57343)throw Error("Lone surrogate U+"+p.toString(16).toUpperCase()+" is not a scalar value")}function o(p,m){return n(p>>m&63|128)}function a(p){if((p&4294967168)==0)return n(p);var m="";return(p&4294965248)==0?m=n(p>>6&31|192):(p&4294901760)==0?(i(p),m=n(p>>12&15|224),m+=o(p,6)):(p&4292870144)==0&&(m=n(p>>18&7|240),m+=o(p,12),m+=o(p,6)),m+=n(p&63|128),m}function c(p){for(var m=r(p),y=m.length,b=-1,w,E="";++b<y;)w=m[b],E+=a(w);return E}function l(){if(f>=h)throw Error("Invalid byte index");var p=d[f]&255;if(f++,(p&192)==128)return p&63;throw Error("Invalid continuation byte")}function u(){var p,m,y,b,w;if(f>h)throw Error("Invalid byte index");if(f==h)return!1;if(p=d[f]&255,f++,(p&128)==0)return p;if((p&224)==192){if(m=l(),w=(p&31)<<6|m,w>=128)return w;throw Error("Invalid continuation byte")}if((p&240)==224){if(m=l(),y=l(),w=(p&15)<<12|m<<6|y,w>=2048)return i(w),w;throw Error("Invalid continuation byte")}if((p&248)==240&&(m=l(),y=l(),b=l(),w=(p&7)<<18|m<<12|y<<6|b,w>=65536&&w<=1114111))return w;throw Error("Invalid UTF-8 detected")}var d,h,f;function g(p){d=r(p),h=d.length,f=0;for(var m=[],y;(y=u())!==!1;)m.push(y);return s(m)}e.version="3.0.0",e.encode=c,e.decode=g})(t)}(tb)),tb}var TS;function ege(){if(TS)return So;TS=1;var t=So&&So.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(So,"__esModule",{value:!0}),So.hexToUtf8=void 0;const e=t(Xpe());return So.hexToUtf8=function(n){let r="",s=0;n=n.replace(/^0x/i,""),n=n.replace(/^(?:00)*/,""),n=n.split("").reverse().join(""),n=n.replace(/^(?:00)*/,""),n=n.split("").reverse().join("");let i=n.length;for(let o=0;o<i;o+=2)s=parseInt(n.substr(o,2),16),r+=String.fromCharCode(s);return e.default.decode(r)},So}var OS;function tge(){if(OS)return Xs;OS=1;var t=Xs&&Xs.__awaiter||function(h,f,g,p){function m(y){return y instanceof g?y:new g(function(b){b(y)})}return new(g||(g=Promise))(function(y,b){function w(I){try{C(p.next(I))}catch(A){b(A)}}function E(I){try{C(p.throw(I))}catch(A){b(A)}}function C(I){I.done?y(I.value):m(I.value).then(w,E)}C((p=p.apply(h,f||[])).next())})};Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.signERC2612Permit=Xs.signDaiPermit=void 0;const e=Jpe(),n=ege(),r="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",s=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],i=(h,f)=>({types:{EIP712Domain:s,Permit:[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}]},primaryType:"Permit",domain:f,message:h}),o=(h,f)=>({types:{EIP712Domain:s,Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},primaryType:"Permit",domain:f,message:h}),a="0x7ecebe00",c="0x06fdde03",l=h=>"".padEnd(h,"0"),u=(h,f)=>t(void 0,void 0,void 0,function*(){return n.hexToUtf8((yield e.call(h,f,c)).substr(130))}),d=(h,f)=>t(void 0,void 0,void 0,function*(){if(typeof f!="string")return f;const g=f,[p,m]=yield Promise.all([u(h,g),e.getChainId(h)]);return{name:p,version:"1",chainId:m,verifyingContract:g}});return Xs.signDaiPermit=(h,f,g,p,m,y)=>t(void 0,void 0,void 0,function*(){const b=f.verifyingContract||f,w={holder:g,spender:p,nonce:y===void 0?yield e.call(h,b,`${a}${l(24)}${g.substr(2)}`):y,expiry:m||r,allowed:!0},E=yield d(h,f),C=i(w,E),I=yield e.signData(h,g,C);return Object.assign(Object.assign({},I),w)}),Xs.signERC2612Permit=(h,f,g,p,m=r,y,b)=>t(void 0,void 0,void 0,function*(){const w=f.verifyingContract||f,E={owner:g,spender:p,value:m,nonce:b===void 0?yield e.call(h,w,`${a}${l(24)}${g.substr(2)}`):b,deadline:y||r},C=yield d(h,f),I=o(E,C),A=yield e.signData(h,g,I);return Object.assign(Object.assign({},A),E)}),Xs}var nge=tge();class rge extends Error{constructor(n){super("Transaction reverted");Ct(this,"receipt");Ct(this,"name","TransactionError");this.receipt=n}}async function*zt(t,e,n){const r=Math.random().toString(36).substring(2);yield{id:r,type:"SigningTransaction",title:t};const s=await n();yield{id:r,type:"TransactionPending",title:t,hash:s};const i=await e.waitForTransactionReceipt({hash:s});if(i.status==="reverted")throw console.error("Transaction reverted",i),new rge(i);const o={id:r,type:"TransactionConfirmed",title:t,hash:s,receipt:i};return yield o,o}async function*sge(t,e){const n=Math.random().toString(36).substring(2);yield{id:n,type:"SigningMessage",title:t};const r=await e();return yield{id:n,type:"SignedMessage",title:t,signed:r},r}async function ige(t,e,n,r,s,i,o){let a=s;s.toLowerCase()==="0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"?a={name:"USD Coin",version:"2",chainId:n,verifyingContract:s}:(n===5||n===84531||n===421613||n===11155111)&&(a={name:"Centrifuge",version:"1",chainId:n,verifyingContract:s});const l=Math.floor(Date.now()/1e3)+3600;return await nge.signERC2612Permit(e,a,r,i,o.toString(),l)}function RS(t){return"type"in t&&t.type==="local"}var Gn;(function(t){t[t.Asset=0]="Asset",t[t.Equity=1]="Equity",t[t.Loss=2]="Loss",t[t.Gain=3]="Gain",t[t.Expense=4]="Expense",t[t.Liability=5]="Liability"})(Gn||(Gn={}));function wc(t){return t.padEnd(66,"0").toLowerCase()}class lD extends Ma{constructor(n,r,s){super(n,["shareclass",s]);Ct(this,"pool");Ct(this,"id");this.pool=r,this.id=new w2(s)}details(){return this._query(null,()=>mt([this._metrics(),this._metadata()]).pipe(We(([n,r])=>({id:this.id,name:r.name,symbol:r.symbol,totalIssuance:n.totalIssuance,navPerShare:n.navPerShare}))))}vaults(n){return this._query(null,()=>new uD(this._root,this.pool,n).vaults(this.id))}holding(n){return this._query(["holding",n.toString()],()=>this._root._protocolAddresses(this.pool.chainId).pipe(Ve(({holdings:r,hubRegistry:s})=>Tt(async()=>{const i=Xi({address:r,abi:ne.Holdings,client:this._root.getClient(this.pool.chainId)}),[o,a,c,l,...u]=await Promise.all([i.read.valuation([this.pool.id.raw,this.id.raw,n.raw]),i.read.amount([this.pool.id.raw,this.id.raw,n.raw]),i.read.value([this.pool.id.raw,this.id.raw,n.raw]),this._root.getClient(this.pool.chainId).readContract({address:s,abi:Pt(["function decimals(uint256) view returns (uint8)"]),functionName:"decimals",args:[n.raw]}),...[Gn.Asset,Gn.Equity,Gn.Loss,Gn.Gain,Gn.Expense,Gn.Liability].map(d=>i.read.accountId([this.pool.id.raw,this.id.raw,n.raw,d]))]);return{assetId:n,assetDecimals:l,valuation:o,amount:new K(a,l),value:new K(c,18),accounts:{[Gn.Asset]:u[0]||null,[Gn.Equity]:u[1]||null,[Gn.Loss]:u[2]||null,[Gn.Gain]:u[3]||null,[Gn.Expense]:u[4]||null,[Gn.Liability]:u[5]||null}}}).pipe(mr(this._root,{address:r,abi:ne.Holdings,eventName:["Increase","Decrease","Update","UpdateValuation"],filter:i=>i.some(o=>o.args.scId===this.id&&o.args.assetId===n.raw)},this.pool.chainId)))))}investorOrder(n,r){return this._query(["maxClaims",n.toString(),r.toLowerCase()],()=>this._root._protocolAddresses(this.pool.chainId).pipe(Ve(({shareClassManager:s})=>Tt(async()=>{const i=Xi({address:s,abi:ne.ShareClassManager,client:this._root.getClient(this.pool.chainId)}),[o,a]=await Promise.all([i.read.maxDepositClaims([this.id.raw,wc(r),n.raw]),i.read.maxRedeemClaims([this.id.raw,wc(r),n.raw])]);return{maxDepositClaims:o,maxRedeemClaims:a}}).pipe(mr(this._root,{address:s,abi:ne.ShareClassManager,eventName:["UpdateDepositRequest","UpdateRedeemRequest","ClaimDeposit","ClaimRedeem","ApproveDeposits","ApproveRedeems"],filter:i=>i.some(o=>o.args.scId===this.id.raw&&(o.args.depositAssetId===n.raw||o.args.payoutAssetId===n.raw))},this.pool.chainId)))))}member(n,r){const s=n.toLowerCase();return this._query(["member",s,r],()=>mt([this._share(r),this._restrictionManager(r)]).pipe(Ve(([i,o])=>Tt(async()=>{const a=await this._root.getClient(this.pool.chainId).readContract({address:o,abi:ne.RestrictionManager,functionName:"isMember",args:[i,s]});return{isMember:a[0],validUntil:new Date(Number(a[1])*1e3)}}).pipe(mr(this._root,{address:o,abi:ne.RestrictionManager,eventName:"UpdateMember",filter:a=>a.some(c=>{var l,u;return((l=c.args.user)==null?void 0:l.toLowerCase())===s&&((u=c.args.token)==null?void 0:u.toLowerCase())===i})},r),ob(()=>li({isMember:!1,validUntil:new Date(0)}))))))}setMaxAssetPriceAge(n,r){const s=this;return this._transactSequence(async function*({walletClient:i,publicClient:o}){const{hub:a}=await s._root._protocolAddresses(s.pool.chainId);yield*zt("Set max asset price age",o,()=>i.writeContract({address:a,abi:ne.Hub,functionName:"setMaxAssetPriceAge",args:[s.pool.id.raw,s.id.raw,n.raw,BigInt(r)]}))},this.pool.chainId)}setMaxSharePriceAge(n,r){const s=this;return this._transactSequence(async function*({walletClient:i,publicClient:o}){const[{hub:a},c]=await Promise.all([s._root._protocolAddresses(s.pool.chainId),s._root.id(n)]);yield*zt("Set max share price age",o,()=>i.writeContract({address:a,abi:ne.Hub,functionName:"setMaxSharePriceAge",args:[c,s.pool.id.raw,s.id.raw,BigInt(r)]}))},this.pool.chainId)}notifyAssetPrice(n){const r=this;return this._transactSequence(async function*({walletClient:s,publicClient:i}){const{hub:o}=await r._root._protocolAddresses(r.pool.chainId);yield*zt("Notify asset price",i,()=>s.writeContract({address:o,abi:ne.Hub,functionName:"notifyAssetPrice",args:[r.pool.id.raw,r.id.raw,n.raw]}))},this.pool.chainId)}notifySharePrice(n){const r=this;return this._transactSequence(async function*({walletClient:s,publicClient:i}){const[{hub:o},a]=await Promise.all([r._root._protocolAddresses(r.pool.chainId),r._root.id(n)]);yield*zt("Notify share price",i,()=>s.writeContract({address:o,abi:ne.Hub,functionName:"notifySharePrice",args:[r.pool.id.raw,r.id.raw,a]}))},this.pool.chainId)}approveDeposits(n,r,s){const i=this;return this._transactSequence(async function*({walletClient:o,publicClient:a}){const[{hub:c},l,u]=await Promise.all([i._root._protocolAddresses(i.pool.chainId),i._epoch(n),i._root._estimate(i.pool.chainId,{centId:n.centrifugeId})]),d=Ot({abi:ne.Hub,functionName:"notifySharePrice",args:[i.pool.id.raw,i.id.raw,1]}),h=Ot({abi:ne.Hub,functionName:"approveDeposits",args:[i.pool.id.raw,i.id.raw,n.raw,l.depositEpoch,r.toBigInt()]}),f=Ot({abi:ne.Hub,functionName:"issueShares",args:[i.pool.id.raw,i.id.raw,n.raw,l.issueEpoch,s.toBigInt()]});yield*zt("Approve deposits",a,()=>o.writeContract({address:c,abi:ne.Hub,functionName:"multicall",args:[[d,h,f]],value:u*3n}))},this.pool.chainId)}approveRedeems(n,r,s){const i=this;return this._transactSequence(async function*({walletClient:o,publicClient:a}){const[{hub:c},l,u]=await Promise.all([i._root._protocolAddresses(i.pool.chainId),i._epoch(n),i._root._estimate(i.pool.chainId,{centId:n.centrifugeId})]),d=Ot({abi:ne.Hub,functionName:"notifySharePrice",args:[i.pool.id.raw,i.id.raw,1]}),h=Ot({abi:ne.Hub,functionName:"approveRedeems",args:[i.pool.id.raw,i.id.raw,n.raw,l.redeemEpoch,r.toBigInt()]}),f=Ot({abi:ne.Hub,functionName:"revokeShares",args:[i.pool.id.raw,i.id.raw,n.raw,l.revokeEpoch,s.toBigInt()]});yield*zt("Approve redeems",a,()=>o.writeContract({address:c,abi:ne.Hub,functionName:"multicall",args:[[d,h,f]],value:u*3n}))},this.pool.chainId)}claimDeposit(n,r){const s=this;return this._transactSequence(async function*({walletClient:i,publicClient:o}){const[{hub:a},c,l]=await Promise.all([s._root._protocolAddresses(s.pool.chainId),s.investorOrder(n,r),s._root._estimate(s.pool.chainId,{centId:n.centrifugeId})]);yield*zt("Claim deposit",o,()=>i.writeContract({address:a,abi:ne.Hub,functionName:"notifyDeposit",args:[s.pool.id.raw,s.id.raw,n.raw,wc(r),c.maxDepositClaims],value:l}))},this.pool.chainId)}claimRedeem(n,r){const s=this;return this._transactSequence(async function*({walletClient:i,publicClient:o}){const[{hub:a},c,l]=await Promise.all([s._root._protocolAddresses(s.pool.chainId),s.investorOrder(n,r),s._root._estimate(s.pool.chainId,{centId:n.centrifugeId})]);yield*zt("Claim redeem",o,()=>i.writeContract({address:a,abi:ne.Hub,functionName:"notifyRedeem",args:[s.pool.id.raw,s.id.raw,n.raw,wc(r),c.maxRedeemClaims],value:l}))},this.pool.chainId)}updateMember(n,r,s){const i=this;return this._transactSequence(async function*({walletClient:o,publicClient:a}){const[{hub:c},l,u]=await Promise.all([i._root._protocolAddresses(i.pool.chainId),i._root.id(s),i._root._estimate(i.pool.chainId,{chainId:s})]),d=gL(["uint8","bytes32","uint64"],[1,wc(n),BigInt(r)]);yield*zt("Update restriction",a,()=>o.writeContract({address:c,abi:ne.Hub,functionName:"updateRestriction",args:[i.pool.id.raw,i.id.raw,l,d,15000000n],value:u}))},this.pool.chainId)}_metadata(){return this._query(["metadata"],()=>this._root._protocolAddresses(this.pool.chainId).pipe(Ve(({shareClassManager:n})=>Tt(async()=>{const[r,s]=await this._root.getClient(this.pool.chainId).readContract({address:n,abi:ne.ShareClassManager,functionName:"metadata",args:[this.id.raw]});return{name:r,symbol:s}}).pipe(mr(this._root,{address:n,abi:ne.ShareClassManager,eventName:"UpdateMetadata",filter:r=>r.some(s=>s.args.scId===this.id)},this.pool.chainId)))))}_metrics(){return this._query(["metrics"],()=>this._root._protocolAddresses(this.pool.chainId).pipe(Ve(({shareClassManager:n})=>Tt(async()=>{const[r,s]=await this._root.getClient(this.pool.chainId).readContract({address:n,abi:ne.ShareClassManager,functionName:"metrics",args:[this.id.raw]});return{totalIssuance:new K(r,18),navPerShare:new K(s,18)}}).pipe(mr(this._root,{address:n,abi:ne.ShareClassManager,eventName:["RevokeShares","IssueShares","RemoteIssueShares","RemoteRevokeShares","UpdateShareClass"],filter:r=>r.some(s=>s.args.scId===this.id.raw)},this.pool.chainId)))))}_epoch(n){return this._query(["epoch",n.toString()],()=>this._root._protocolAddresses(this.pool.chainId).pipe(Ve(({shareClassManager:r,hubRegistry:s})=>Tt(async()=>{const i=Xi({address:r,abi:ne.ShareClassManager,client:this._root.getClient(this.pool.chainId)}),[o,a,c,l]=await Promise.all([i.read.epochId([this.id.raw,n.raw]),i.read.pendingDeposit([this.id.raw,n.raw]),i.read.pendingRedeem([this.id.raw,n.raw]),this._root.getClient(this.pool.chainId).readContract({address:s,abi:Pt(["function decimals(uint256) view returns (uint8)"]),functionName:"decimals",args:[n.raw]})]);return{depositEpoch:o[0]+1,redeemEpoch:o[1]+1,issueEpoch:o[2]+1,revokeEpoch:o[3]+1,pendingDeposit:new K(a,l),pendingRedeem:new K(c,18)}}).pipe(mr(this._root,{address:r,abi:ne.ShareClassManager,eventName:["ApproveDeposits","ApproveRedeems","IssueShares","RevokeShares","RemoteIssueShares","RemoteRevokeShares","UpdateDepositRequest","UpdateRedeemRequest"],filter:i=>i.some(o=>o.args.scId===this.id.raw)},this.pool.chainId)))))}_updateContract(n,r,s){const i=this;return this._transactSequence(async function*({walletClient:o,publicClient:a}){const c=await i._root.id(n),[{hub:l},u]=await Promise.all([i._root._protocolAddresses(i.pool.chainId),i._root._estimate(i.pool.chainId,{centId:c})]);yield*zt("Update contract",a,()=>o.writeContract({address:l,abi:ne.Hub,functionName:"updateContract",args:[i.pool.id.raw,i.id.raw,c,wc(r),s,15000000n],value:u}))},this.pool.chainId)}_share(n){return this._query(null,()=>this.pool.network(n).pipe(Ve(r=>r._share(this.id))))}_restrictionManager(n){return this._query(["restrictionManager",n],()=>this._share(n).pipe(Ve(r=>Tt(async()=>(await this._root.getClient(this.pool.chainId).readContract({address:r,abi:ne.Currency,functionName:"hook"})).toLowerCase()))))}}const oge="0x00000000000000000000000000000000000000ce";class age extends Ma{constructor(n,r,s,i,o){super(n,["vault",r.chainId,s.id.toString(),i.toLowerCase()]);Ct(this,"network");Ct(this,"shareClass");Ct(this,"pool");Ct(this,"chainId");Ct(this,"_asset");Ct(this,"address");this.network=r,this.shareClass=s,this.chainId=r.chainId,this.pool=r.pool,this._asset=i.toLowerCase(),this.address=o.toLowerCase()}details(){return this._query(null,()=>mt([this._isSyncDeposit(),this._investmentCurrency(),this._shareCurrency()]).pipe(We(([n,r,s])=>({pool:this.pool,shareClass:this.shareClass,network:this.network,address:this.address,asset:this._asset,isSyncInvest:n,isSyncRedeem:!0,investmentCurrency:r,shareCurrency:s}))))}investment(n){const r=n.toLowerCase();return this._query(["investment",r],()=>mt([this._investmentCurrency(),this._shareCurrency(),this._root._protocolAddresses(this.chainId),this._restrictionManager(),this._isSyncDeposit()]).pipe(Ve(([s,i,o,a,c])=>mt([this._root.balance(s.address,r,this.chainId),this._root.balance(i.address,r,this.chainId),this._allowance(r),Tt(async()=>{const l=this._root.getClient(this.chainId),u=Xi({address:this.address,abi:ne.AsyncVault,client:l}),d=Xi({address:o.asyncRequestManager,abi:ne.AsyncRequests,client:l}),h=Xi({address:i.address,abi:ne.Currency,client:l}),[f,g,p,m,y]=await Promise.all([u.read.isPermissioned([r]),u.read.maxDeposit([r]),u.read.maxRedeem([r]),d.read.investments([this.address,r]),h.read.checkTransferRestriction([r,oge,0n])]),[b,w,,,E,C,I,A,x,v]=m;return{isAllowedToInvest:f,isAllowedToRedeem:y,isSyncInvest:c,maxInvest:new K(g,s.decimals),claimableInvestShares:new K(c?0n:b,i.decimals),claimableInvestCurrencyEquivalent:new K(c?0n:g,s.decimals),claimableRedeemCurrency:new K(w,s.decimals),claimableRedeemSharesEquivalent:new K(p,i.decimals),pendingInvestCurrency:new K(E,s.decimals),pendingRedeemShares:new K(C,i.decimals),claimableCancelInvestCurrency:new K(I,s.decimals),claimableCancelRedeemShares:new K(A,i.decimals),hasPendingCancelInvestRequest:x,hasPendingCancelRedeemRequest:v,investmentCurrency:s,shareCurrency:i}}).pipe(mr(this._root,{address:[this.address,a],abi:[ne.AsyncVault,ne.RestrictionManager],eventName:["UpdateMember","CancelDepositClaim","CancelDepositClaimable","CancelDepositRequest","CancelRedeemClaim","CancelRedeemClaimable","CancelRedeemRequest","Deposit","DepositClaimable","DepositRequest","RedeemClaimable","RedeemRequest","Withdraw"],filter:l=>l.some(u=>{var d,h,f,g,p,m;return((d=u.args.receiver)==null?void 0:d.toLowerCase())===r||((h=u.args.controller)==null?void 0:h.toLowerCase())===r||((f=u.args.sender)==null?void 0:f.toLowerCase())===r||((g=u.args.owner)==null?void 0:g.toLowerCase())===r||((p=u.args.user)==null?void 0:p.toLowerCase())===r&&((m=u.args.token)==null?void 0:m.toLowerCase())===i.address})},this.chainId))])),We(([s,i,o,a])=>({...a,shareBalance:i.balance,investmentCurrencyBalance:s.balance,investmentCurrencyAllowance:o}))))}increaseInvestOrder(n){const r=this;return this._transactSequence(async function*({walletClient:s,publicClient:i,signer:o,signingAddress:a}){const[c,l,{vaultRouter:u},d]=await Promise.all([r.network._estimate(),r.investment(a),r._root._protocolAddresses(r.chainId),r._isSyncDeposit()]),{investmentCurrency:h,investmentCurrencyBalance:f,investmentCurrencyAllowance:g,isAllowedToInvest:p}=l,m=h.supportsPermit&&"send"in o,y=g.lt(n);if(!p)throw new Error("Not allowed to invest");if(h.decimals!==n.decimals)throw new Error("Invalid amount decimals");if(n.gt(f))throw new Error("Insufficient balance");if(!n.gt(0n))throw new Error("Order amount must be greater than 0");let b=null;if(y&&(m?b=yield*sge("Sign Permit",()=>ige(s,o,r.chainId,a,h.address,d?u:r.address,n.toBigInt())):yield*zt("Approve",i,()=>s.writeContract({address:h.address,abi:ne.Currency,functionName:"approve",args:[d?u:r.address,n.toBigInt()]}))),d)yield*zt("Invest",i,()=>s.writeContract({address:u,abi:ne.VaultRouter,functionName:"deposit",args:[r.address,n.toBigInt(),a,a]}));else{const w=Ot({abi:ne.VaultRouter,functionName:"enable",args:[r.address]}),E=Ot({abi:ne.VaultRouter,functionName:"requestDeposit",args:[r.address,n.toBigInt(),a,a]}),C=b&&Ot({abi:ne.VaultRouter,functionName:"permit",args:[h.address,u,n.toString(),b.deadline,b.v,b.r,b.s]});yield*zt("Invest",i,()=>s.writeContract({address:u,abi:ne.VaultRouter,functionName:"multicall",args:[[C,w,E].filter(Boolean)],value:c}))}},this.chainId)}cancelInvestOrder(){const n=this;return this._transactSequence(async function*({walletClient:r,signingAddress:s,publicClient:i}){const[o,a,{vaultRouter:c}]=await Promise.all([n.network._estimate(),n.investment(s),n._root._protocolAddresses(n.chainId)]);if(a.pendingInvestCurrency.isZero())throw new Error("No order to cancel");yield*zt("Cancel invest order",i,()=>r.writeContract({address:c,abi:ne.VaultRouter,functionName:"cancelDepositRequest",args:[n.address],value:o}))},this.chainId)}increaseRedeemOrder(n){const r=this;return this._transactSequence(async function*({walletClient:s,signingAddress:i,publicClient:o}){const[a,c,{vaultRouter:l}]=await Promise.all([r.network._estimate(),r.investment(i),r._root._protocolAddresses(r.chainId)]);if(!c.isAllowedToRedeem)throw new Error("Not allowed to redeem");if(c.shareCurrency.decimals!==n.decimals)throw new Error("Invalid amount decimals");if(n.gt(c.shareBalance))throw new Error("Insufficient balance");if(!n.gt(0n))throw new Error("Order amount must be greater than 0");yield*zt("Redeem",o,()=>s.writeContract({address:l,abi:ne.VaultRouter,functionName:"requestRedeem",args:[r.address,n.toBigInt(),i,i],value:a}))},this.chainId)}cancelRedeemOrder(){const n=this;return this._transactSequence(async function*({walletClient:r,signingAddress:s,publicClient:i}){const[o,a,{vaultRouter:c}]=await Promise.all([n.network._estimate(),n.investment(s),n._root._protocolAddresses(n.chainId)]);if(a.pendingRedeemShares.isZero())throw new Error("No order to cancel");yield*zt("Cancel redeem order",i,()=>r.writeContract({address:c,abi:ne.VaultRouter,functionName:"cancelRedeemRequest",args:[n.address],value:o}))},this.chainId)}claim(n,r){const s=this;return this._transactSequence(async function*({walletClient:i,signingAddress:o,publicClient:a}){const[c,{vaultRouter:l}]=await Promise.all([s.investment(o),s._root._protocolAddresses(s.chainId)]),u=n||o,d=r||o,h=c.claimableCancelInvestCurrency.gt(0n)?"claimCancelDepositRequest":c.claimableCancelRedeemShares.gt(0n)?"claimCancelRedeemRequest":c.claimableInvestShares.gt(0n)?"claimDeposit":c.claimableRedeemCurrency.gt(0n)?"claimRedeem":"";if(!h)throw new Error("No claimable funds");yield*zt("Claim",a,()=>i.writeContract({address:l,abi:ne.VaultRouter,functionName:h,args:[s.address,u,d]}))},this.chainId)}_isSyncDeposit(){return this._query(["isSyncDeposit"],()=>Tt(()=>this._root.getClient(this.chainId).readContract({address:this.address,abi:ne.AsyncVault,functionName:"supportsInterface",args:["0xce3bbe50"]}).then(n=>!n)))}_restrictionManager(){return this._query(["restrictionManager"],()=>this.network._share(this.shareClass.id).pipe(Ve(n=>this._root.getClient(this.chainId).readContract({address:n,abi:ne.Currency,functionName:"hook"}))))}_investmentCurrency(){return this._root.currency(this._asset,this.chainId)}_shareCurrency(){return this.network.shareCurrency(this.shareClass.id)}_allowance(n){const r=n.toLowerCase();return this._query(["allowance",r],()=>mt([this._investmentCurrency(),this._root._protocolAddresses(this.chainId)]).pipe(Ve(([s,{vaultRouter:i}])=>Tt(()=>this._root.getClient(this.chainId).readContract({address:this._asset,abi:ne.Currency,functionName:"allowance",args:[r,i]}).then(o=>new K(o,s.decimals))).pipe(mr(this._root,{address:this._asset,abi:ne.Currency,eventName:["Approval","Transfer"],filter:o=>o.some(a=>{var c,l,u;return((c=a.args.owner)==null?void 0:c.toLowerCase())===r||((l=a.args.spender)==null?void 0:l.toLowerCase())===this._asset||((u=a.args.from)==null?void 0:u.toLowerCase())===r})},this.chainId)))))}}class uD extends Ma{constructor(n,r,s){super(n,["poolnetwork",r.id.toString(),s]);Ct(this,"pool");Ct(this,"chainId");this.pool=r,this.chainId=s}_estimate(){return this._query(null,()=>this._root._estimate(this.chainId,{chainId:this.pool.chainId}))}_share(n){return this._query(["share"],()=>this._root._protocolAddresses(this.chainId).pipe(Ve(({spoke:r})=>Tt(async()=>(await this._root.getClient(this.chainId).readContract({address:r,abi:ne.Spoke,functionName:"shareToken",args:[this.pool.id.raw,n.raw]})).toLowerCase()).pipe(mr(this._root,{address:r,abi:ne.Spoke,eventName:"AddShareClass",filter:s=>s.some(i=>i.args.poolId===this.pool.id.raw&&i.args.scId===n.raw)},this.chainId)))))}shareCurrency(n){return this._query(null,()=>this._share(n).pipe(Ve(r=>this._root.currency(r,this.chainId))))}vaults(n){return this._query(["vaults",n.toString()],()=>this._root._protocolAddresses(this.chainId).pipe(Ve(({spoke:r,vaultRouter:s,currencies:i})=>Tt(async()=>{if(!i.length)return[];const o=Xi({address:s,abi:ne.VaultRouter,client:this._root.getClient(this.chainId)});return(await Promise.allSettled(i.map(async c=>{const l=await o.read.getVault([this.pool.id.raw,n.raw,c]);if(l===Wpe)throw console.warn(`Vault not found for Pool: ${this.pool.id}, Share Class: ${n}, Currency: ${c}`),new Error("Vault not found");return new age(this._root,this,new lD(this._root,this.pool,n.raw),c,l)}))).filter(c=>c.status==="fulfilled").map(c=>c.value)}).pipe(mr(this._root,{address:r,abi:ne.Spoke,eventName:"DeployVault",filter:o=>o.some(a=>a.args.poolId===this.pool.id.raw&&a.args.scId===n.raw)},this.chainId)))))}vaultsByShareClass(){return this._query(null,()=>this.pool._shareClassIds().pipe(Ve(n=>mt(n.map(r=>this.vaults(r))).pipe(We(r=>Object.fromEntries(r.flat().map((s,i)=>[n[i],s])))))))}vault(n,r){const s=r.toLowerCase();return this._query(null,()=>this.vaults(n).pipe(We(i=>{const o=i.find(a=>a._asset===s);if(!o)throw new Error("Vault not found");return o})))}isActive(){return this._query(["isActive"],()=>this._root._protocolAddresses(this.chainId).pipe(Ve(({spoke:n})=>Tt(()=>this._root.getClient(this.chainId).readContract({address:n,abi:ne.Spoke,functionName:"isPoolActive",args:[this.pool.id.raw]})).pipe(mr(this._root,{address:n,abi:ne.Spoke,eventName:"AddPool",filter:r=>r.some(s=>s.args.poolId===this.pool.id)},this.chainId)))))}}const cge=t=>t.assetSnapshots.nodes.map(e=>{var r,s;const n=e.asset.pool.currency.decimals;return{...e,timestamp:e.timestamp,assetId:e.assetId,actualMaturityDate:e.asset.actualMaturityDate||void 0,actualOriginationDate:e.asset.actualOriginationDate||void 0,advanceRate:new Su(e.asset.advanceRate||"0"),collateralValue:(r=e.asset)!=null&&r.collateralValue?new K((s=e.asset)==null?void 0:s.collateralValue,n):void 0,currentPrice:e.currentPrice?new K(e.currentPrice,n):new K(0n,n),discountRate:e.asset.discountRate?new Su(e.asset.discountRate):void 0,faceValue:e.asset.notional&&e.outstandingQuantity?new K(e.asset.notional,n).mul(new Zi(e.outstandingQuantity).toDecimal()):void 0,lossGivenDefault:e.asset.lossGivenDefault?new Su(e.asset.lossGivenDefault):void 0,name:e.asset.name,outstandingDebt:e.outstandingDebt?new K(e.outstandingDebt,n):void 0,outstandingInterest:e.outstandingInterest?new K(e.outstandingInterest,n):void 0,outstandingPrincipal:e.outstandingPrincipal?new K(e.outstandingPrincipal,n):void 0,outstandingQuantity:e.outstandingQuantity?new K(e.outstandingQuantity,18):void 0,presentValue:e.presentValue?new K(e.presentValue,n):void 0,probabilityOfDefault:e.asset.probabilityOfDefault?new Su(e.asset.probabilityOfDefault):void 0,status:e.asset.status,sumRealizedProfitFifo:e.asset.sumRealizedProfitFifo?new K(e.asset.sumRealizedProfitFifo,n):void 0,totalRepaidInterest:e.totalRepaidInterest?new K(e.totalRepaidInterest,n):void 0,totalRepaidPrincipal:e.totalRepaidPrincipal?new K(e.totalRepaidPrincipal,n):void 0,totalRepaidUnscheduled:e.totalRepaidUnscheduled?new K(e.totalRepaidUnscheduled,n):void 0,unrealizedProfitAtMarketPrice:e.asset.unrealizedProfitAtMarketPrice?new K(e.asset.unrealizedProfitAtMarketPrice,n):void 0,valuationMethod:e.asset.valuationMethod}}),lge=`
query($filter: AssetSnapshotFilter) {
        assetSnapshots(
          first: 1000,
          orderBy: TIMESTAMP_ASC,
          filter: $filter
        ) {
          nodes {
            assetId
            timestamp
            totalRepaidUnscheduled
            outstandingInterest
            totalRepaidInterest
            currentPrice
            outstandingPrincipal
            totalRepaidPrincipal
            outstandingQuantity
            presentValue
            outstandingDebt
            asset {
               pool {
                currency {
                  decimals
                }
              }
              actualMaturityDate
              actualOriginationDate
              advanceRate
              collateralValue
              discountRate
              lossGivenDefault
              name
              notional
              probabilityOfDefault
              status
              sumRealizedProfitFifo
              unrealizedProfitAtMarketPrice
              valuationMethod
            }
          }
        }
      }
`;var NS;(function(t){t.OnchainCash="OnchainCash",t.OffchainCash="OffchainCash",t.Other="Other"})(NS||(NS={}));const uge=t=>t.assetTransactions.nodes.map(e=>{const n=e.pool.currency.decimals;return{...e,name:e.asset.name,settlementPrice:e.settlementPrice?new Zi(e.settlementPrice):null,amount:new K((e==null?void 0:e.amount)??0n,n),principalAmount:e.principalAmount?new K(e.principalAmount,n):null,interestAmount:e.interestAmount?new K(e.interestAmount,n):null,realizedProfitFifo:e.realizedProfitFifo?new K(e.realizedProfitFifo,n):void 0,sumRealizedProfitFifo:e.asset.sumRealizedProfitFifo?new K(e.asset.sumRealizedProfitFifo,n):void 0,unrealizedProfitAtMarketPrice:e.asset.unrealizedProfitAtMarketPrice?new K(e.asset.unrealizedProfitAtMarketPrice,n):void 0,timestamp:new Date(`${e.timestamp}+00:00`)}})||[],dge=`
query($filter: AssetTransactionFilter) {
  assetTransactions(
    orderBy: TIMESTAMP_ASC,
    filter: $filter
  ) {
    nodes {
      principalAmount
      interestAmount
      epochId
      type
      timestamp
      amount
      settlementPrice
      quantity
      hash
      realizedProfitFifo
      pool {
        currency {
          decimals
        }
      }
      asset {
        id
        metadata
        name
        type
        sumRealizedProfitFifo
        unrealizedProfitAtMarketPrice
      }
      fromAsset {
        id
        metadata
        name
        type
      }
      toAsset {
        id
        metadata
        name
        type
      }
    }
  }
}
`,hge=t=>t.epoches.nodes.map(e=>{var i;const n=e.epochStates.nodes.length>1?e.epochStates.nodes.length-1:0,r=e.epochStates.nodes[n],s=e.pool.currency.decimals;return{epochId:e.id,closedAt:e.closedAt,paidFees:new K(e.sumPoolFeesPaidAmount,s),tokenPrice:new Zi((r==null?void 0:r.tokenPrice)??"0"),sumOutstandingInvestOrders:new K((r==null?void 0:r.sumOutstandingInvestOrders)??"0",s),sumFulfilledInvestOrders:new K((r==null?void 0:r.sumFulfilledInvestOrders)??"0",s),sumOutstandingRedeemOrders:new K((r==null?void 0:r.sumOutstandingRedeemOrders)??"0",s),sumFulfilledRedeemOrders:new K((r==null?void 0:r.sumFulfilledRedeemOrders)??"0",s),netAssetValue:new K(((i=e.poolSnapshots.nodes[n])==null?void 0:i.netAssetValue)??"0",s)}}),fge=`
query($filter: EpochFilter) {
  epoches(filter: $filter) {
    nodes {
      poolId
      id
      sumPoolFeesPaidAmount
      closedAt
      epochStates {
        nodes {
          tokenPrice
          sumOutstandingInvestOrders
          sumFulfilledInvestOrders
          sumOutstandingRedeemOrders
          sumFulfilledRedeemOrders
        }
      }
      pool {
        currency {
          decimals
        }
      }
      poolSnapshots {
        nodes {
          netAssetValue
        }
      }
    }
  }
}
`,pge=t=>t.investorTransactions.nodes.map(e=>{const n=e.pool.currency.decimals;return{id:e.id,poolId:e.poolId,timestamp:new Date(e.timestamp),accountId:e.accountId,chainId:e.account.chainId==="0"?"centrifuge":Number(e.account.chainId),evmAddress:e.account.evmAddress,trancheId:e.trancheId.split("-")[1]??"",epochNumber:e.epochNumber,type:e.type,currencyAmount:new K((e==null?void 0:e.currencyAmount)||0n,n),tokenAmount:new K((e==null?void 0:e.tokenAmount)||0n,n),tokenPrice:new Zi((e==null?void 0:e.tokenPrice)??0n),transactionFee:new K((e==null?void 0:e.transactionFee)??0n,n),hash:e.hash}}),gge=`
query($filter: InvestorTransactionFilter) {
    investorTransactions(
        orderBy: TIMESTAMP_ASC,
        filter: $filter
    ) {
        nodes {
            id
            timestamp
            accountId
            account {
                chainId
                evmAddress
            }
            pool {
                currency {
                    decimals
                }
            }
            hash
            poolId
            trancheId
            epochNumber
            type
            tokenAmount
            currencyAmount
            tokenPrice
            transactionFee
        }
    }
}
`;function mge(t){const e=t.poolFeeSnapshots;return e==null?void 0:e.nodes.reduce((r,s)=>{const i=s.timestamp.slice(0,10);r[i]||(r[i]=[]);const o=s.poolFee.pool.currency.decimals,a={timestamp:s.timestamp,pendingAmount:new K(s.pendingAmount,o),poolFee:{name:s.poolFee.name},poolFeeId:s.poolFeeId,poolCurrency:{decimals:o},sumAccruedAmount:new K(s.sumAccruedAmount,o),sumChargedAmount:new K(s.sumChargedAmount,o),sumPaidAmount:new K(s.sumPaidAmount,o),sumAccruedAmountByPeriod:new K(s.sumAccruedAmountByPeriod,o),sumChargedAmountByPeriod:new K(s.sumChargedAmountByPeriod,o),sumPaidAmountByPeriod:new K(s.sumPaidAmountByPeriod,o)};return r[i].push(a),r},{})}const yge=`
query($filter: PoolFeeSnapshotFilter) {
  poolFeeSnapshots(
    orderBy: BLOCK_NUMBER_ASC, 
    filter: $filter
  ) {
    nodes {
        id
        poolFeeId
        timestamp
        sumPaidAmount
        sumChargedAmount
        sumAccruedAmount
        sumPaidAmount
        pendingAmount
        sumAccruedAmountByPeriod
        sumPaidAmountByPeriod
        sumChargedAmountByPeriod
        poolFee {
          name
          pool {
            currency {
              decimals
            }
          }
        }
    }
  }
}
`;function bge(t){return t.poolFeeTransactions.nodes.map(e=>({feeId:e.poolFee.feeId,type:e.type,timestamp:e.timestamp,blockNumber:e.blockNumber,epochNumber:e.epochNumber,amount:e.amount?new K(e.amount,e.poolFee.pool.currency.decimals):null}))}const wge=`
query($filter: PoolFeeTransactionFilter) {
  poolFeeTransactions(
    orderBy: TIMESTAMP_ASC,
    filter: $filter
    ) {
    nodes {
      id
      type
      timestamp
      blockNumber
      epochNumber
      amount
      poolFee {
        feeId
        pool {
          currency {
            decimals
          }
        }
      }
    }
  }
}
`,vge=`
query($filter: PoolSnapshotFilter) {
  poolSnapshots(
    orderBy: BLOCK_NUMBER_ASC
    filter: $filter 
  ) {
    nodes {
      id
      timestamp
      netAssetValue
      totalReserve
      offchainCashValue
      portfolioValuation
      blockNumber
      sumPoolFeesChargedAmountByPeriod
      sumPoolFeesAccruedAmountByPeriod
      sumPoolFeesPaidAmountByPeriod
      sumPoolFeesPendingAmount
      sumBorrowedAmountByPeriod
      sumRepaidAmountByPeriod
      sumInvestedAmountByPeriod
      sumRedeemedAmountByPeriod
      sumPrincipalRepaidAmountByPeriod
      sumInterestRepaidAmountByPeriod
      sumUnscheduledRepaidAmountByPeriod
      sumInterestAccruedByPeriod
      sumDebtWrittenOffByPeriod
      sumRealizedProfitFifoByPeriod
      sumUnrealizedProfitAtMarketPrice
      sumUnrealizedProfitAtNotional
      sumUnrealizedProfitByPeriod
      pool {
        id
        currency {
          decimals
        }
        tranches {
          nodes {
            id
          }
        }
      }
    }
  }
}`;function Ege(t){var n;const e=new Map;return((n=t==null?void 0:t.poolSnapshots)==null?void 0:n.nodes.flatMap(r=>{const s=r.timestamp.slice(0,10),i=r.pool.currency.decimals,o=e.get(s),a={id:r.id,timestamp:r.timestamp,poolId:r.pool.id,poolCurrency:r.pool.currency,netAssetValue:new K(r.netAssetValue,i),totalReserve:new K(r.totalReserve,i),offchainCashValue:new K(r.offchainCashValue,i),portfolioValuation:new K(r.portfolioValuation,i),sumPoolFeesPendingAmount:new K(r.sumPoolFeesPendingAmount,i),sumUnrealizedProfitAtMarketPrice:new K(r.sumUnrealizedProfitAtMarketPrice,i),sumUnrealizedProfitAtNotional:new K(r.sumUnrealizedProfitAtNotional,i),sumPoolFeesChargedAmountByPeriod:new K(r.sumPoolFeesChargedAmountByPeriod,i),sumPoolFeesAccruedAmountByPeriod:new K(r.sumPoolFeesAccruedAmountByPeriod,i),sumPoolFeesPaidAmountByPeriod:new K(r.sumPoolFeesPaidAmountByPeriod,i),sumBorrowedAmountByPeriod:new K(r.sumBorrowedAmountByPeriod,i),sumPrincipalRepaidAmountByPeriod:new K(r.sumPrincipalRepaidAmountByPeriod,i),sumInterestRepaidAmountByPeriod:new K(r.sumInterestRepaidAmountByPeriod,i),sumUnscheduledRepaidAmountByPeriod:new K(r.sumUnscheduledRepaidAmountByPeriod,i),sumRepaidAmountByPeriod:new K(r.sumRepaidAmountByPeriod,i),sumInvestedAmountByPeriod:new K(r.sumInvestedAmountByPeriod,i),sumRedeemedAmountByPeriod:new K(r.sumRedeemedAmountByPeriod,i),sumDebtWrittenOffByPeriod:new K(r.sumDebtWrittenOffByPeriod,i),sumInterestAccruedByPeriod:new K(r.sumInterestAccruedByPeriod,i),sumRealizedProfitFifoByPeriod:new K(r.sumRealizedProfitFifoByPeriod,i),sumUnrealizedProfitByPeriod:new K(r.sumUnrealizedProfitByPeriod,i),tranches:r.pool.tranches.nodes.map(l=>l.id)};if(o)return o.sumPoolFeesChargedAmountByPeriod=o.sumPoolFeesChargedAmountByPeriod.add(a.sumPoolFeesChargedAmountByPeriod),o.sumPoolFeesAccruedAmountByPeriod=o.sumPoolFeesAccruedAmountByPeriod.add(a.sumPoolFeesAccruedAmountByPeriod),o.sumPoolFeesPaidAmountByPeriod=o.sumPoolFeesPaidAmountByPeriod.add(a.sumPoolFeesPaidAmountByPeriod),o.sumBorrowedAmountByPeriod=o.sumBorrowedAmountByPeriod.add(a.sumBorrowedAmountByPeriod),o.sumPrincipalRepaidAmountByPeriod=o.sumPrincipalRepaidAmountByPeriod.add(a.sumPrincipalRepaidAmountByPeriod),o.sumInterestRepaidAmountByPeriod=o.sumInterestRepaidAmountByPeriod.add(a.sumInterestRepaidAmountByPeriod),o.sumUnscheduledRepaidAmountByPeriod=o.sumUnscheduledRepaidAmountByPeriod.add(a.sumUnscheduledRepaidAmountByPeriod),o.sumRepaidAmountByPeriod=o.sumRepaidAmountByPeriod.add(a.sumRepaidAmountByPeriod),o.sumInvestedAmountByPeriod=o.sumInvestedAmountByPeriod.add(a.sumInvestedAmountByPeriod),o.sumRedeemedAmountByPeriod=o.sumRedeemedAmountByPeriod.add(a.sumRedeemedAmountByPeriod),o.sumDebtWrittenOffByPeriod=o.sumDebtWrittenOffByPeriod.add(a.sumDebtWrittenOffByPeriod),o.sumInterestAccruedByPeriod=o.sumInterestAccruedByPeriod.add(a.sumInterestAccruedByPeriod),o.sumRealizedProfitFifoByPeriod=o.sumRealizedProfitFifoByPeriod.add(a.sumRealizedProfitFifoByPeriod),o.sumUnrealizedProfitByPeriod=o.sumUnrealizedProfitByPeriod.add(a.sumUnrealizedProfitByPeriod),o.netAssetValue=a.netAssetValue,o.totalReserve=a.totalReserve,o.offchainCashValue=a.offchainCashValue,o.portfolioValuation=a.portfolioValuation,o.sumPoolFeesPendingAmount=a.sumPoolFeesPendingAmount,o.sumUnrealizedProfitAtMarketPrice=a.sumUnrealizedProfitAtMarketPrice,o.sumUnrealizedProfitAtNotional=a.sumUnrealizedProfitAtNotional,[];e.set(s,a);const c=new K((r==null?void 0:r.netAssetValue)||"0",i);return{...a,poolValue:c}}))||[]}function Cge(t){const e={};return t.currencyBalances.nodes.forEach(n=>{var s;const r=((s=n.currency.trancheId)==null?void 0:s.split("-")[1])??"";e[`${n.accountId}-${r}`]=n}),t.trancheBalances.nodes.map(n=>{var s,i,o,a;const r=n.pool.currency.decimals;return{accountId:n.accountId,chainId:((s=n.account)==null?void 0:s.chainId)!=="0"?Number((i=n.account)==null?void 0:i.chainId):"centrifuge",trancheId:n.trancheId.split("-")[1]??"",evmAddress:(o=n.account)==null?void 0:o.evmAddress,balance:new K(((a=e[`${n.accountId}-${n.trancheId.split("-")[1]}`])==null?void 0:a.amount)??0,r),pendingInvestCurrency:new K(n.pendingInvestCurrency,r),claimableTrancheTokens:new K(n.claimableTrancheTokens,r),sumClaimedTrancheTokens:new K(n.sumClaimedTrancheTokens,r),pendingRedeemTrancheTokens:new K(n.pendingRedeemTrancheTokens,r),claimableCurrency:new K(n.claimableCurrency,r),sumClaimedCurrency:new K(n.sumClaimedCurrency,r)}})}const Age=`
query($filterTranches: TrancheBalanceFilter, $filterCurrencies: CurrencyBalanceFilter) {
  trancheBalances(filter: $filterTranches) {
    nodes {
      accountId
      trancheId
      account {
        chainId
        evmAddress
      }
      pool {
        currency {
          decimals
        }
      }
      pendingInvestCurrency
      claimableTrancheTokens
      sumClaimedTrancheTokens
      pendingRedeemTrancheTokens
      claimableCurrency
      sumClaimedCurrency
    }
  }
  currencyBalances(filter: $filterCurrencies) {
    nodes {
      accountId
      account {
        chainId
        evmAddress
      }
      currency {
        trancheId
      }
      amount
    }
  }
}
`,Ige=`
query($filter: TrancheSnapshotFilter) {
  trancheSnapshots(
    orderBy: BLOCK_NUMBER_ASC,
    filter: $filter
) {
    nodes {
      tranche {
        poolId
        trancheId
        pool {
          currency {
            decimals
            symbol
          }
        }
      }
      timestamp
      tokenSupply
      tokenPrice
      sumOutstandingInvestOrdersByPeriod
      sumOutstandingRedeemOrdersByPeriod
      sumFulfilledInvestOrdersByPeriod
      sumFulfilledRedeemOrdersByPeriod
      yield7DaysAnnualized
      yield30DaysAnnualized
      yield90DaysAnnualized
      yieldSinceInception
      yieldMTD
      yieldQTD
      yieldYTD
      yieldSinceLastPeriod
    }
  }
}
`;function xge(t){var n,r;const e={};return(r=(n=t==null?void 0:t.trancheSnapshots)==null?void 0:n.nodes)==null||r.forEach(s=>{const i=s.timestamp.slice(0,10);e[i]||(e[i]=[]);const o=s.tranche.pool.currency,a={id:s.trancheId,timestamp:s.timestamp,poolId:s.tranche.poolId,trancheId:s.tranche.trancheId,pool:{currency:{decimals:o.decimals,symbol:o.symbol}},price:new Zi(s.tokenPrice??0),tokenSupply:new K(s.tokenSupply,o.decimals),fulfilledInvestOrders:new K(s.sumFulfilledInvestOrdersByPeriod,o.decimals),fulfilledRedeemOrders:new K(s.sumFulfilledRedeemOrdersByPeriod,o.decimals),outstandingInvestOrders:new K(s.sumOutstandingInvestOrdersByPeriod,o.decimals),outstandingRedeemOrders:new K(s.sumOutstandingRedeemOrdersByPeriod,o.decimals),yield7DaysAnnualized:new Si(s.yield7DaysAnnualized??0),yield30DaysAnnualized:new Si(s.yield30DaysAnnualized??0),yield90DaysAnnualized:new Si(s.yield90DaysAnnualized??0),yieldSinceInception:new Si(s.yieldSinceInception??0),yieldMTD:new Si(s.yieldMTD??0),yieldQTD:new Si(s.yieldQTD??0),yieldYTD:new Si(s.yieldYTD??0),yieldSinceLastPeriod:new Si(s.yieldSinceLastPeriod??0)};e[i].push(a)}),e}class Sge extends Ma{constructor(n,r){super(n,["indexerQueries",r.id.toString()]);Ct(this,"pool");this.pool=r}poolFeeSnapshotsQuery(n){return this._root._queryIndexer(yge,{filter:n},mge)}poolSnapshotsQuery(n){return this._root._queryIndexer(vge,{filter:n},Ege)}trancheSnapshotsQuery(n){return this._root._queryIndexer(Ige,{filter:n},xge)}poolEpochsQuery(n){return this._root._queryIndexer(fge,{filter:n},hge)}investorTransactionsQuery(n){return this._root._queryIndexer(gge,{filter:n},pge)}assetTransactionsQuery(n){return this._root._queryIndexer(dge,{filter:n},uge)}poolFeeTransactionsQuery(n){return this._root._queryIndexer(wge,{filter:n},bge)}assetSnapshotsQuery(n){return this._root._queryIndexer(lge,{filter:n},cge)}trancheCurrencyBalanceQuery(n,r){return this._root._queryIndexer(Age,{filterTranches:n,filterCurrencies:r},Cge)}}function _ge(t,e){switch(e){case"day":return t.toISOString().slice(0,10);case"month":const n=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()));return`${n.getUTCFullYear()}-${String(n.getUTCMonth()+1).padStart(2,"0")}`;case"quarter":const r=Math.floor(t.getUTCMonth()/3)+1;return`${t.getUTCFullYear()}-Q${r}`;case"year":return t.getUTCFullYear().toString();default:return}}function kS(t,e,n="latest"){const r=new Map;return t.forEach(s=>{const i=_ge(new Date(s.timestamp),e);i&&(r.has(i)||r.set(i,[]),r.get(i).push(s),r.get(i).sort((o,a)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()))}),n==="latest"?Array.from(r.values()).map(s=>s[s.length-1]):Array.from(r.values())}class Pge{balanceSheet(e,n){var s,i;if(!((s=e.poolSnapshots)!=null&&s.length))return[];const r=(i=e==null?void 0:e.poolSnapshots)==null?void 0:i.map(o=>{const a=e.trancheSnapshots[this.getDateKey(o.timestamp)]??[];return a.length===0&&console.warn("No tranche snapshots found for pool snapshot",o.timestamp),{type:"balanceSheet",timestamp:o.timestamp,assetValuation:o.portfolioValuation,onchainReserve:o.totalReserve,offchainCash:o.offchainCashValue,accruedFees:o.sumPoolFeesPendingAmount,netAssetValue:o.netAssetValue,tranches:a.length?a==null?void 0:a.map(c=>{var l;return{name:c.pool.currency.symbol,timestamp:c.timestamp,tokenId:c.trancheId,tokenSupply:c.tokenSupply,tokenPrice:c.price,trancheValue:c.tokenSupply.mul(((l=c==null?void 0:c.price)==null?void 0:l.toDecimal())??0n)}}):[{name:"",timestamp:"",tokenId:"",tokenSupply:new K(0n,o.poolCurrency.decimals),tokenPrice:new Zi(0n),trancheValue:new K(0n,o.poolCurrency.decimals)}],totalCapital:a.reduce((c,l)=>{var u;return c.add(l.tokenSupply.mul((u=l==null?void 0:l.price)==null?void 0:u.toDecimal()))},new K(0,o.poolCurrency.decimals))}});return this.applyGrouping(r,n==null?void 0:n.groupBy,"latest")}cashflow(e,n){var i,o;if(!((i=e.poolSnapshots)!=null&&i.length))return[];if(!e.metadata)throw new Error("Provide the correct metadataHash to centrifuge.pool(<poolId>, <metadataHash>).reports.cashflow()");const r=((o=e.metadata)==null?void 0:o.pool.asset.class)==="Public credit"?"publicCredit":"privateCredit",s=e.poolSnapshots.map(a=>{var w;const c=((w=e.poolFeeSnapshots[this.getDateKey(a.timestamp)])==null?void 0:w.map(E=>({name:E.poolFee.name,amount:E.sumPaidAmountByPeriod,timestamp:E.timestamp,feeId:E.poolFeeId.split("-")[1]??""})))??[],l=a.sumPrincipalRepaidAmountByPeriod,u=a.sumInterestRepaidAmountByPeriod.add(a.sumUnscheduledRepaidAmountByPeriod),d=a.sumBorrowedAmountByPeriod,h=a.sumPoolFeesPaidAmountByPeriod,f=l.sub(d).add(u),g=a.sumInvestedAmountByPeriod,p=a.sumRedeemedAmountByPeriod,m=g.sub(p),y=f.sub(h),b=y.add(m);return{type:"cashflow",subtype:r,timestamp:a.timestamp,principalPayments:l,...r==="publicCredit"&&{realizedPL:a.sumRealizedProfitFifoByPeriod},interestPayments:u,...r==="privateCredit"?{assetFinancing:d}:{assetPurchases:d},netCashflowAsset:f,fees:c,netCashflowAfterFees:y,investments:g,redemptions:p,activitiesCashflow:m,totalCashflow:b,endCashBalance:{balance:a.totalReserve.add(a.offchainCashValue)}}});return this.applyGrouping(s,n==null?void 0:n.groupBy,"sum")}profitAndLoss(e,n){var s,i,o,a;if(!((s=e.poolSnapshots)!=null&&s.length))return[];if(Object.keys(((i=e.metadata)==null?void 0:i.shareClasses)??{})[0]!==((a=(o=e.poolSnapshots[0])==null?void 0:o.tranches[0])==null?void 0:a.split("-")[1]))throw new Error("Provide the correct metadataHash to centrifuge.pool(<poolId>, <metadataHash>).reports.profitAndLoss()");const r=e.poolSnapshots.map(c=>{var y,b;const l=((y=e.metadata)==null?void 0:y.pool.asset.class)==="Public credit"?"publicCredit":"privateCredit",u=l==="publicCredit"?c.sumUnrealizedProfitByPeriod:c.sumInterestRepaidAmountByPeriod.add(c.sumInterestAccruedByPeriod).add(c.sumDebtWrittenOffByPeriod).sub(c.sumUnscheduledRepaidAmountByPeriod),d=c.sumInterestRepaidAmountByPeriod,h=c.sumUnscheduledRepaidAmountByPeriod,f=u.add(d).add(h),g=((b=e.poolFeeSnapshots[this.getDateKey(c.timestamp)])==null?void 0:b.map(w=>({name:w.poolFee.name,amount:w.sumAccruedAmountByPeriod.add(w.sumChargedAmountByPeriod),timestamp:w.timestamp,feeId:w.poolFeeId.split("-")[1]??""})))??[],p=c.sumPoolFeesChargedAmountByPeriod.sub(c.sumPoolFeesAccruedAmountByPeriod),m=f.sub(p);return{type:"profitAndLoss",subtype:l,timestamp:c.timestamp,profitAndLossFromAsset:u,interestPayments:d,...l==="privateCredit"&&{interestAccrued:c.sumInterestAccruedByPeriod},...l==="privateCredit"&&{assetWriteOffs:c.sumDebtWrittenOffByPeriod},otherPayments:h,...l==="publicCredit"&&{totalIncome:f},fees:g,totalExpenses:p,totalProfitAndLoss:m}});return this.applyGrouping(r,n==null?void 0:n.groupBy,"sum")}investorTransactions(e,n){var o,a;if(!((o=e.investorTransactions)!=null&&o.length))return[];const r=new Set(["INVEST_ORDER_UPDATE","REDEEM_ORDER_UPDATE","INVEST_ORDER_CANCEL","REDEEM_ORDER_CANCEL","INVEST_EXECUTION","REDEEM_EXECUTION","INVEST_COLLECT","REDEEM_COLLECT","INVEST_LP_COLLECT","REDEEM_LP_COLLECT","TRANSFER_IN","TRANSFER_OUT"]),s=(a=n==null?void 0:n.address)==null?void 0:a.toLowerCase(),i=(n==null?void 0:n.network)==="all"?null:n==null?void 0:n.network;return e.investorTransactions.reduce((c,l)=>{var h,f;const u=(n==null?void 0:n.transactionType)==="orders"&&l.type.includes("ORDER")||(n==null?void 0:n.transactionType)==="executions"&&l.type.includes("EXECUTION")||(n==null?void 0:n.transactionType)==="transfers"&&(l.type.includes("COLLECT")||l.type.includes("TRANSFER"))||(!(n!=null&&n.transactionType)||(n==null?void 0:n.transactionType)==="all")&&r.has(l.type),d=(!i||i===l.chainId)&&(!(n!=null&&n.tokenId)||n.tokenId===l.trancheId)&&(!s||l.accountId.toLowerCase()===s||((h=l.evmAddress)==null?void 0:h.toLowerCase())===s);return u&&d&&c.push({type:"investorTransactions",timestamp:l.timestamp.toISOString(),chainId:l.chainId,account:l.evmAddress??l.accountId,epoch:((f=l.epochNumber)==null?void 0:f.toString())??"",transactionType:l.type,currencyAmount:l.currencyAmount,trancheTokenAmount:l.tokenAmount,trancheTokenId:l.trancheId,price:l.tokenPrice??"",transactionHash:l.hash}),c},[])}assetTransactions(e,n){var s;if(!((s=e.assetTransactions)!=null&&s.length))return[];const r={created:"CREATED",financed:"BORROWED",repaid:"REPAID",priced:"PRICED",closed:"CLOSED",cashTransfer:"CASH_TRANSFER"};return e.assetTransactions.reduce((i,o)=>{const a=!(n!=null&&n.transactionType)||n.transactionType==="all"||o.type===r[n.transactionType],c=!(n!=null&&n.assetId)||n.assetId===o.asset.id.split("-")[1];return a&&c&&i.push({type:"assetTransactions",timestamp:o.timestamp.toISOString(),assetId:o.asset.id,epoch:o.epochId,transactionType:o.type,amount:o.amount,principalAmount:o.principalAmount,interestAmount:o.interestAmount,transactionHash:o.hash,name:o.asset.name,fromAsset:o.fromAsset?{id:o.fromAsset.id,name:o.fromAsset.name}:void 0,toAsset:o.toAsset?{id:o.toAsset.id,name:o.toAsset.name}:void 0}),i},[])}feeTransactions(e,n){var s;if(!((s=e.poolFeeTransactions)!=null&&s.length))return[];const r={PROPOSED:"proposed",ADDED:"added",REMOVED:"removed",CHARGED:"directChargeMade",UNCHARGED:"directChargeCancelled",ACCRUED:"accrued",PAID:"paid"};return e.poolFeeTransactions.reduce((i,o)=>((!(n!=null&&n.transactionType)||n.transactionType==="all"||n.transactionType===r[o.type])&&i.push({type:"feeTransactions",timestamp:o.timestamp,feeId:o.feeId,amount:o.amount,transactionType:o.type}),i),[])}tokenPrice(e,n){if(Object.values(e.trancheSnapshots).length===0)return[];const r=Object.entries(e.trancheSnapshots).map(([s,i])=>({type:"tokenPrice",timestamp:s,tranches:i.map(o=>({timestamp:o.timestamp,id:o.trancheId,price:o.price,supply:o.tokenSupply,yieldMTD:o.yieldMTD,yieldQTD:o.yieldQTD,yieldYTD:o.yieldYTD,yield7daysAnnualized:o.yield7DaysAnnualized,yield30daysAnnualized:o.yield30DaysAnnualized,yield90daysAnnualized:o.yield90DaysAnnualized,yieldSinceInception:o.yieldSinceInception}))}));return this.applyGrouping(r,(n==null?void 0:n.groupBy)??"day","latest")}assetList(e,n){var r;if(!((r=e.assetSnapshots)!=null&&r.length))return[];if(!e.metadata)throw new Error("Provide the correct metadataHash to centrifuge.pool(<poolId>, <metadataHash>).reports.assetList()");return e.assetSnapshots.filter(s=>{var a,c;if(((a=s.valuationMethod)==null?void 0:a.toLowerCase())==="cash")return!1;const i=s!=null&&s.actualMaturityDate?new Date>new Date(s.actualMaturityDate):!1,o=(c=s==null?void 0:s.outstandingDebt)==null?void 0:c.isZero();return(n==null?void 0:n.status)==="ongoing"?s.status==="ACTIVE"&&!i&&!o:(n==null?void 0:n.status)==="repaid"?i&&o:(n==null?void 0:n.status)==="overdue"?i&&!o:!0}).sort((s,i)=>{const o=new Date(s.actualMaturityDate||0).getTime();return new Date(i.actualMaturityDate||0).getTime()-o}).map(s=>{var a;const i=((a=e.metadata)==null?void 0:a.pool.asset.class)==="Public credit"?"publicCredit":"privateCredit",o=i==="publicCredit"?{subtype:i,faceValue:s.faceValue,outstandingQuantity:s.outstandingQuantity,currentPrice:s.currentPrice,maturityDate:s.actualMaturityDate,unrealizedProfit:s.unrealizedProfitAtMarketPrice,realizedProfit:s.sumRealizedProfitFifo}:{subtype:i,outstandingPrincipal:s.outstandingPrincipal,outstandingInterest:s.outstandingInterest,repaidPrincipal:s.totalRepaidPrincipal,repaidInterest:s.totalRepaidInterest,repaidUnscheduled:s.totalRepaidUnscheduled,originationDate:s.actualOriginationDate,maturityDate:s.actualMaturityDate,valuationMethod:s.valuationMethod,advanceRate:s.advanceRate,collateralValue:s.collateralValue,probabilityOfDefault:s.probabilityOfDefault,lossGivenDefault:s.lossGivenDefault,discountRate:s.discountRate};return{type:"assetList",transactionType:s.status,timestamp:s.timestamp,assetId:s.assetId,presentValue:s.presentValue,name:s.name,...o}})}investorList(e,n){var i,o;if(!((i=e.trancheCurrencyBalance)!=null&&i.length))return[];const r=(n==null?void 0:n.network)==="all"?null:n==null?void 0:n.network,s=(o=n==null?void 0:n.address)==null?void 0:o.toLowerCase();return e.trancheCurrencyBalance.filter(a=>{var h;const c=!r||r===a.chainId,l=!s||a.accountId.toLowerCase()===s||((h=a.evmAddress)==null?void 0:h.toLowerCase())===s,u=!(n!=null&&n.trancheId)||n.trancheId===a.trancheId,d=!(n!=null&&n.address)&&(!a.balance.isZero()||!a.claimableTrancheTokens.isZero());return c&&l&&u&&(d||(n==null?void 0:n.address))}).map(a=>{const c=e.trancheCurrencyBalance.reduce((l,u)=>l.add(u.balance).add(u.claimableTrancheTokens),new K(0,a.balance.decimals));return{type:"investorList",chainId:a.chainId,accountId:a.accountId,evmAddress:a.evmAddress,position:a.balance.add(a.claimableTrancheTokens),poolPercentage:Su.fromPercent(a.balance.toDecimal().div(c.toDecimal()).mul(100).toString()),pendingInvest:a.pendingInvestCurrency,pendingRedeem:a.pendingRedeemTrancheTokens,trancheId:a.trancheId}})}ordersList(e){var r;return(r=e.poolEpochs)!=null&&r.length?e.poolEpochs.map(s=>({type:"ordersList",epoch:s.epochId.split("-")[1],timestamp:s.closedAt,netAssetValue:s.netAssetValue,navPerShare:s.tokenPrice,lockedInvestments:s.sumOutstandingInvestOrders,lockedRedemptions:s.sumOutstandingRedeemOrders,executedInvestments:s.sumFulfilledInvestOrders,executedRedemptions:s.sumFulfilledRedeemOrders,paidFees:s.paidFees})):[]}assetTimeSeries(e,n){var s;return(s=e.assetSnapshots)!=null&&s.length?e.assetSnapshots.filter(i=>(!(n!=null&&n.assetId)||i.assetId.split("-")[1]===n.assetId)&&(!(n!=null&&n.name)||i.name===n.name)).map(i=>({type:"assetTimeSeries",timestamp:i.timestamp,currentPrice:i.currentPrice,assetId:i.assetId.split("-")[1],name:i.name})):[]}applyGrouping(e,n="day",r="latest"){return r==="latest"?kS(e,n,"latest"):kS(e,n,"all").map(i=>{const o={...i[i.length-1]};for(const a in o){const c=o[a];c instanceof K&&(o[a]=i.reduce((l,u)=>l.add(u[a]),new K(0n,c.decimals))),c instanceof Zi&&(o[a]=i.reduce((l,u)=>l.add(u[a]),new Zi(0n)))}return o})}getDateKey(e,n){switch(n){case"month":return e.slice(0,7);case"quarter":const r=new Date(e),s=Math.floor(r.getMonth()/3)+1;return`${r.getFullYear()}-Q${s}`;case"year":return e.slice(0,4);default:return e.slice(0,10)}}}const qr=new Pge,nb={from:"2024-01-01T00:00:00.000Z",to:new Date().toISOString()};class Tge extends Ma{constructor(n,r){super(n,["reports",r.id.toString()]);Ct(this,"pool");Ct(this,"queries");this.pool=r,this.queries=new Sge(n,r)}balanceSheet(n){return this._generateReport("balanceSheet",n)}cashflow(n){return this._generateReport("cashflow",n)}profitAndLoss(n){return this._generateReport("profitAndLoss",n)}investorTransactions(n){return this._generateReport("investorTransactions",n)}assetTransactions(n){return this._generateReport("assetTransactions",n)}tokenPrice(n){return this._generateReport("tokenPrice",n)}feeTransactions(n){return this._generateReport("feeTransactions",n)}assetList(n){return this._generateReport("assetList",n)}investorList(n){return this._generateReport("investorList",n)}ordersList(n){return this._generateReport("ordersList",n)}assetTimeSeries(n){return this._generateReport("assetTimeSeries",n)}_generateReport(n,r){return this._query([n,r==null?void 0:r.from,r==null?void 0:r.to,r==null?void 0:r.groupBy,r==null?void 0:r.address,r==null?void 0:r.network,r==null?void 0:r.tokenId,r==null?void 0:r.transactionType,r==null?void 0:r.assetId,r==null?void 0:r.status,r==null?void 0:r.name],()=>{const{from:s,to:i,...o}=r??{},a={timestamp:{greaterThan:s??nb.from,lessThanOrEqualTo:(i&&`${i.split("T")[0]}T23:59:59.999Z`)??nb.to}},c=this.pool.metadata(),l=this.queries.poolSnapshotsQuery({...a,poolId:{equalTo:this.pool.id}}),u=this.queries.trancheSnapshotsQuery({...a,tranche:{poolId:{equalTo:this.pool.id}}}),d=this.queries.poolFeeSnapshotsQuery({...a,poolFeeId:{includes:this.pool.id}}),h=this.queries.investorTransactionsQuery({...a,poolId:{equalTo:this.pool.id}}),f=this.queries.assetTransactionsQuery({...a,poolId:{equalTo:this.pool.id}}),g=this.queries.poolFeeTransactionsQuery({...a,poolFee:{poolId:{equalTo:this.pool.id}}}),p=this.queries.assetSnapshotsQuery({...a,asset:{poolId:{equalTo:this.pool.id}}}),m=this.queries.trancheCurrencyBalanceQuery({pool:{id:{equalTo:this.pool.id}}},{currency:{pool:{id:{equalTo:this.pool.id}}}}),y=this.queries.poolEpochsQuery({closedAt:{...s&&{greaterThan:s},lessThanOrEqualTo:(i&&`${i.split("T")[0]}T23:59:59.999Z`)??nb.to},pool:{id:{equalTo:this.pool.id}}});switch(n){case"balanceSheet":return mt([l,u]).pipe(We(([b,w])=>qr.balanceSheet({poolSnapshots:b,trancheSnapshots:w},o)));case"cashflow":return mt([l,d,c]).pipe(We(([b,w,E])=>qr.cashflow({poolSnapshots:b,poolFeeSnapshots:w,metadata:E},o)));case"profitAndLoss":return mt([l,d,c]).pipe(We(([b,w,E])=>qr.profitAndLoss({poolSnapshots:b,poolFeeSnapshots:w,metadata:E},o)));case"investorTransactions":return mt([h]).pipe(We(([b])=>qr.investorTransactions({investorTransactions:b},o)));case"assetTransactions":return mt([f]).pipe(We(([b])=>qr.assetTransactions({assetTransactions:b},o)));case"feeTransactions":return mt([g]).pipe(We(([b])=>qr.feeTransactions({poolFeeTransactions:b},o)));case"tokenPrice":return mt([u]).pipe(We(([b])=>qr.tokenPrice({trancheSnapshots:b},o)));case"assetList":return mt([p,c]).pipe(We(([b,w])=>qr.assetList({assetSnapshots:b,metadata:w},o)));case"investorList":return mt([m]).pipe(We(([b])=>qr.investorList({trancheCurrencyBalance:b},o)));case"ordersList":return mt([y]).pipe(We(([b])=>qr.ordersList({poolEpochs:b})));case"assetTimeSeries":return mt([p]).pipe(We(([b])=>qr.assetTimeSeries({assetSnapshots:b},o)));default:throw new Error(`Unsupported report type: ${n}`)}},{valueCacheTime:12e4})}}class Oge extends Ma{constructor(n,r,s){super(n,["pool",String(r)]);Ct(this,"chainId");Ct(this,"id");this.chainId=s,this.id=new ab(r)}get reports(){return new Tge(this._root,this)}details(){return this._query(null,()=>mt([this.metadata(),this.shareClasses(),this.shareClassesDetails(),this.currency()]).pipe(We(([n,r,s,i])=>({id:this.id,currency:i,metadata:n,shareClasses:r.map(o=>({shareClass:o,details:s.find(a=>a.id.equals(o.id))}))}))))}metadata(){return this._query(["metadata"],()=>this._root._protocolAddresses(this.chainId).pipe(Ve(({hubRegistry:n})=>Tt(()=>this._root.getClient(this.chainId).readContract({address:n,abi:ne.HubRegistry,functionName:"metadata",args:[this.id.raw]})).pipe(Ve(r=>this._root._queryIPFS(P5(r,"string"))),ob(r=>(console.error("Error fetching metadata",r),li(null))),mr(this._root,{address:n,abi:ne.HubRegistry,eventName:"SetMetadata",filter:r=>r.some(s=>s.args.poolId===this.id.raw)},this.chainId)))))}shareClasses(){return this._query(null,()=>this._shareClassIds().pipe(We(n=>n.map(r=>new lD(this._root,this,r.raw)))))}shareClass(n){return this._query(null,()=>this.shareClasses().pipe(We(r=>{const s=r.find(i=>i.id.equals(n));if(!s)throw new Error(`Share class ${n} not found`);return s})))}shareClassesDetails(){return this._query(null,()=>this.shareClasses().pipe(Ve(n=>mt(n.map(r=>r.details())))))}networks(){return this._query(null,()=>li(this._root.chains.map(n=>new uD(this._root,this,n))))}network(n){return this._query(null,()=>this.networks().pipe(We(r=>{const s=r.find(i=>i.chainId===n);if(!s)throw new Error(`Network ${n} not found`);return s})))}activeNetworks(){return this._query(null,()=>this.networks().pipe(Ve(n=>mt(n.map(r=>r.isActive().pipe(wpe({first:5e3}),ob(()=>li(!1))))).pipe(We(r=>n.filter((s,i)=>r[i]))))))}vault(n,r,s){return this._query(null,()=>this.network(n).pipe(Ve(i=>i.vault(r,s))))}currency(){return this._query(["currency"],()=>this._root._protocolAddresses(this.chainId).pipe(Ve(({hubRegistry:n})=>this._root.getClient(this.chainId).readContract({address:n,abi:ne.HubRegistry,functionName:"currency",args:[this.id.raw]})),We(n=>{const r=new T5(n),s=r.nationalCurrencyCode;if(!s)throw new Error("No currency found");const i=Ype[s];if(!i)throw new Error(`No currency found for country code ${s}`);return{name:i.name,symbol:i.symbol,decimals:18,id:r}})))}updateMetadata(n){const r=this;return this._transactSequence(async function*({walletClient:s,publicClient:i}){const o=await r._root.config.pinJson(n),{hub:a}=await r._root._protocolAddresses(r.chainId);yield*zt("Update metadata",i,()=>s.writeContract({address:a,abi:ne.Hub,functionName:"setPoolMetadata",args:[r.id.raw,he(o)],value:0n}))},r.chainId)}_shareClassIds(){return this._query(["shareClasses"],()=>this._root._protocolAddresses(this.chainId).pipe(Ve(({shareClassManager:n})=>Tt(async()=>{const r=await this._root.getClient(this.chainId).readContract({address:n,abi:ne.ShareClassManager,functionName:"shareClassCount",args:[this.id.raw]});return Array.from({length:r},(s,i)=>w2.from(this.id,i+1))}))))}}function rb(t){return{pinFile:e=>DS(`${t}/pinFile`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({uri:e})}),pinJson:e=>DS(`${t}/pinJson`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({json:e})})}}async function DS(t,e){const n=await fetch(t,e);if(!n.ok){const s=await n.text();throw new Error(`Error pinning: ${s}`)}const{uri:r}=await n.json();return kge(r).ipfsHash}function Rge(t,e){try{let n;return t.includes(":")?t.startsWith("ipfs://ipfs/")?n=new URL(`ipfs/${t.slice(12)}`,e):t.startsWith("ipfs://")?n=new URL(`ipfs/${t.slice(7)}`,e):n=new URL(t):n=new URL(`ipfs/${t.replace(/\/?(ipfs\/)/,"")}`,e),n.protocol==="http:"||n.protocol==="https:"?(n.search="?format=",n.href):""}catch{return console.warn("parseMetadataUrl: Invalid URL",t),""}}const Nge=46;function kge(t){if(t.startsWith("ipfs://")){const e=t.slice(7);return{uri:t,ipfsHash:e}}else if(!t.includes("/")&&t.length===Nge)return{uri:`ipfs://${t}`,ipfsHash:t};throw new Error(`Invalid IPFS URI: ${t}`)}function Dge(t){return JSON.stringify(t,(e,n)=>$ge(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):Bge(n))}function Bge(t){return typeof t=="bigint"?t.toString():t}function BS(t){return Object.prototype.toString.call(t)==="[object Object]"}function $ge(t){if(BS(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(BS(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}const sb="https://europe-central2-peak-vista-185616.cloudfunctions.net/pinning-api-demo",Lge={mainnet:{indexerUrl:"https://subql.embrio.tech/",alchemyKey:"KNR-1LZhNqWOxZS2AN8AFeaiESBV10qZ",infuraKey:"8ed99a9a115349bbbc01dcf3a24edc96",defaultChain:1,ipfsUrl:"https://centrifuge.mypinata.cloud",...rb(sb)},demo:{indexerUrl:"https://api.subquery.network/sq/centrifuge/pools-demo-multichain",alchemyKey:"KNR-1LZhNqWOxZS2AN8AFeaiESBV10qZ",infuraKey:"8cd8e043ee8d4001b97a1c37e08fd9dd",defaultChain:11155111,ipfsUrl:"https://centrifuge.mypinata.cloud",...rb(sb)},dev:{indexerUrl:"https://api.subquery.network/sq/centrifuge/pools-demo-multichain",alchemyKey:"KNR-1LZhNqWOxZS2AN8AFeaiESBV10qZ",infuraKey:"8cd8e043ee8d4001b97a1c37e08fd9dd",defaultChain:11155111,ipfsUrl:"https://centrifuge.mypinata.cloud",...rb(sb)}},Fge={environment:"mainnet",cache:!0},Uge={11155111:[1,2]};var lr,Kc,rh,Yc,Wp,dD;class Mge{constructor(e={}){Le(this,Wp);Le(this,lr);Le(this,Kc,new Map);Le(this,rh,null);Le(this,Yc,new Map);const n=Lge[(e==null?void 0:e.environment)??"mainnet"];Ae(this,lr,{...Fge,...n,...e}),Object.freeze(z(this,lr)),Hpe.filter(r=>z(this,lr).environment==="mainnet"?!r.testnet:r.testnet).forEach(r=>{var i;const s=((i=z(this,lr).rpcUrls)==null?void 0:i[r.id])??void 0;if(s||console.warn(`No rpcUrl defined for chain ${r.id}. Using public RPC endpoint.`),!qp[r.id]){console.warn(`No config defined for chain ${r.id}. Skipping.`);return}z(this,Kc).set(r.id,qF({chain:r,transport:Mo(s),batch:{multicall:!0},pollingInterval:z(this,lr).pollingInterval,cacheTime:100}))})}get config(){return z(this,lr)}getClient(e){return z(this,Kc).get(e)}get chains(){return[...z(this,Kc).keys()]}getChainConfig(e){return this.getClient(e).chain}setSigner(e){Ae(this,rh,e)}get signer(){return z(this,rh)}createPool(e,n=840,r,s){const i=this;return this._transactSequence(async function*({walletClient:o,signingAddress:a,publicClient:c}){var y,b,w;const[l,u]=await Promise.all([i._protocolAddresses(r),i.id(r)]),d=yield*zt("Create pool",c,()=>o.writeContract({address:l.hubRegistry,abi:ne.Hub,functionName:"createPool",args:[ab.from(u,s).raw,a,BigInt(n)]})),f=md({abi:ne.HubRegistry,eventName:"NewPool",logs:d.receipt.logs})[0].args.poolId,g=await Promise.all(Array.from({length:e.shareClasses.length},(E,C)=>i.getClient(r).readContract({address:l.shareClassManager,abi:ne.ShareClassManager,functionName:"previewShareClassId",args:[f,C+1]}))),p={};e.shareClasses.forEach((E,C)=>{p[g[C]]={minInitialInvestment:K.fromFloat(E.minInvestment,18).toString(),apyPercentage:E.apyPercentage,apy:E.apy}});const m={version:1,pool:{name:e.poolName,icon:e.poolIcon,asset:{class:e.assetClass,subClass:e.subAssetClass},issuer:{name:e.issuerName,repName:e.issuerRepName,description:e.issuerDescription,email:e.email,logo:e.issuerLogo,shortDescription:e.issuerShortDescription,categories:e.issuerCategories},poolStructure:e.poolStructure,investorType:e.investorType,links:{executiveSummary:e.executiveSummary,forum:e.forum,website:e.website},details:e.details,status:"open",listed:e.listed??!0,poolRatings:e.poolRatings.length>0?e.poolRatings:[],reports:e.report?[{author:{name:e.report.author.name,title:e.report.author.title,avatar:e.report.author.avatar},uri:e.report.uri}]:[]},shareClasses:p,onboarding:{shareClasses:((y=e.onboarding)==null?void 0:y.shareClasses)||{},taxInfoRequired:(b=e.onboarding)==null?void 0:b.taxInfoRequired,externalOnboardingUrl:(w=e.onboarding)==null?void 0:w.externalOnboardingUrl}};console.log("poolId",f,m)},r)}id(e){return this._query(["centrifugeId",e],()=>this._protocolAddresses(e).pipe(Ve(({messageDispatcher:n})=>this.getClient(e).readContract({address:n,abi:ne.MessageDispatcher,functionName:"localCentrifugeId"}))))}pools(){return this._query(["pools"],()=>mt(Object.entries(Uge).map(([e,n])=>{const r=Number(e);return this.id(r).pipe(We(s=>n.map(i=>new Oge(this,ab.from(s,i).toString(),r))))})).pipe(We(e=>e.flat())))}pool(e){return this._query(null,()=>this.pools().pipe(We(n=>{const r=n.find(s=>s.id.equals(e));if(!r)throw new Error(`Pool with id ${e} not found`);return r})))}currency(e,n){const r=e.toLowerCase();return this._query(["currency",r,n],()=>Tt(async()=>{const s=Xi({address:r,abi:ne.Currency,client:this.getClient(n)}),[i,o,a,c]=await Promise.all([s.read.decimals(),s.read.name(),s.read.symbol(),s.read.PERMIT_TYPEHASH().then(l=>l===Gpe).catch(()=>!1)]);return{address:r,decimals:i,name:o,symbol:a,chainId:n,supportsPermit:c}}))}investor(e){return this._query(null,()=>li(new Kpe(this,e)))}balance(e,n,r){const s=n.toLowerCase();return this._query(["balance",e,n,r],()=>this.currency(e,r).pipe(Ve(i=>Tt(async()=>{const o=await this.getClient(r).readContract({address:e,abi:ne.Currency,functionName:"balanceOf",args:[s]});return{balance:new K(o,i.decimals),currency:i}}).pipe(mr(this,{address:e,abi:ne.Currency,eventName:"Transfer",filter:o=>o.some(a=>{var c,l;return((c=a.args.from)==null?void 0:c.toLowerCase())===s||((l=a.args.to)==null?void 0:l.toLowerCase())===s})},r)))))}assetDecimals(e,n){return this._query(["assetDecimals",e.toString()],()=>this._protocolAddresses(n).pipe(Ve(({hubRegistry:r})=>this.getClient(n).readContract({address:r,abi:Pt(["function decimals(uint128) view returns (uint8)"]),functionName:"decimals",args:[e.raw]}))))}_events(e){return this._query(["events",e],()=>Ipe(()=>{const n=new np;return{unsubscribe:this.getClient(e).watchEvent({onLogs:s=>n.next(s)}),subject:n}},({subject:n})=>n),{cache:!1}).pipe(fw(n=>n.length>0))}_filteredEvents(e,n,r,s){const i=(Array.isArray(e)?e:[e]).map(a=>a.toLowerCase()),o=Array.isArray(r)?r:[r];return this._events(s).pipe(We(a=>md({abi:n.flat(),eventName:o,logs:a}).filter(u=>i.length?i.includes(u.address):!0)),fw(a=>a.length>0))}_getIndexerObservable(e,n){return xS(this.config.indexerUrl,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:e,variables:n}),selector:async r=>{const{data:s,errors:i}=await r.json();if(i!=null&&i.length)throw i;return s}})}_queryIndexer(e,n,r){return this._query([e,n],()=>this._getIndexerObservable(e,n).pipe(We(r??g2)),{valueCacheTime:12e4})}_queryIPFS(e){return this._query([e],()=>Tt(async()=>{const n=Rge(e,z(this,lr).ipfsUrl);if(!n)throw new Error(`Invalid IPFS hash: ${e}`);const r=await fetch(n);if(!r.ok)throw new Error(`Error fetching IPFS hash ${e}: ${r.statusText}`);return await r.json()}))}_query(e,n,r){const s=(r==null?void 0:r.cache)!==!1&&z(this,lr).cache!==!1,i=(r==null?void 0:r.observableCacheTime)??z(this,lr).pollingInterval??4e3;function o(){const a=new np;function c(){const u=n().pipe(e?Qpe({bufferSize:s?1:0,resetDelay:s?i:0,windowTime:(r==null?void 0:r.valueCacheTime)??1/0}):We(d=>d));return a.next(u),u}const l=c().pipe(_pe(Tt(c)),Spe(a),Hp(u=>eb(u)?u:li(u)));return SS(l)}return e?hn(this,Wp,dD).call(this,e,o):o()}_transact(e,n,r){return this._transactSequence(async function*(s){const i=n(s);yield*zt(e,s.publicClient,()=>i)},r)}_transactSequence(e,n){const r=this;async function*s(){var g;const{signer:o}=r;if(!o)throw new Error("Signer not set");const a=r.getClient(n),c=r.getChainConfig(n),l=RS(o)?Om({account:o,chain:c,transport:Mo((g=z(r,lr).rpcUrls)==null?void 0:g[c.id])}):Om({transport:jb(o)}),[u]=await l.getAddresses();if(!u)throw new Error("No account selected");await l.getChainId()!==n&&(yield{type:"SwitchingChain",chainId:n},await l.switchChain({id:n}));const h=RS(o)?l:Om({account:u,chain:c,transport:jb(o)}),f=e({signingAddress:u,chain:c,chainId:n,publicClient:a,walletClient:h,signer:o});if(Symbol.asyncIterator in f)yield*f;else if(eb(f))yield f;else throw new Error("Invalid arguments")}const i=Tt(s).pipe(Hp(o=>eb(o)?o:li(o)));return SS(i,!0)}_protocolAddresses(e){return this._query(["protocolAddresses",e],()=>{const n=qpe[e],r=qp[e];if(!n||!r)throw new Error(`No protocol config mapping for chain id ${e}`);const a=`https://raw.githubusercontent.com/centrifuge/protocol-v3/refs/heads/post-electisec/env/${n}.json`;return xS(a).pipe(Ve(c=>{if(c.ok)return c.json();throw new Error(`Error ${c.status}`)}),We(c=>({...c.contracts,currencies:r})))})}_getQuote(e,n,r,s,i){return this._query(["getQuote",n,r.toString(),s.toString()],()=>this._protocolAddresses(i).pipe(Ve(({hubRegistry:o})=>Tt(async()=>{const[a,c]=await Promise.all([this.getClient(i).readContract({address:e,abi:ne.Valuation,functionName:"getQuote",args:[n.toBigInt(),r.raw,s.raw]}),this.getClient(i).readContract({address:o,abi:Pt(["function decimals(uint256) view returns (uint8)"]),functionName:"decimals",args:[s.raw]})]);return new K(a,c)}))),{valueCacheTime:12e4})}_estimate(e,n){return this._query(["estimate",e,n],()=>mt([this._protocolAddresses(e),"chainId"in n?this.id(n.chainId):li(n.centId)]).pipe(Ve(([{multiAdapter:r},s])=>{const i=he(new Uint8Array([18]));return this.getClient(e).readContract({address:r,abi:ne.MultiAdapter,functionName:"estimate",args:[s,i,15000000n]})})))}}lr=new WeakMap,Kc=new WeakMap,rh=new WeakMap,Yc=new WeakMap,Wp=new WeakSet,dD=function(e,n){const r=Dge(e);if(z(this,Yc).has(r))return z(this,Yc).get(r);const s=n();return z(this,Yc).set(r,s),s};const Yu="#FFFFFF",Nr={10:"#3B424D",50:"#F6F6F6",100:"#E7E7E7",300:"#CFCFCF",500:"#91969B",600:"#667085",800:"#252B34",900:"#353a43"},Lo={50:"#E2E4E7",100:"#C5C9D0",500:"#252B34",800:"#0F1115"},vc={50:"#FFFAE9",100:"#FFF4D6",200:"#FFE299",500:"#FFC012",800:"#806009"},_o={50:"#E3F1FF",100:"#E6EFF5",500:"#5291E0",700:"#005B96",800:"#213A5A",900:"#00243C"},zge={DEFAULT:{value:Nr[800]},10:{value:Nr[10]},50:{value:Nr[50]},100:{value:Nr[100]},300:{value:Nr[300]},500:{value:Nr[500]},600:{value:Nr[600]},800:{value:Nr[800]},900:{value:Nr[900]}},Vge={DEFAULT:{value:Lo[800]},50:{value:Lo[50]},100:{value:Lo[100]},500:{value:Lo[500]},800:{value:Lo[800]}},jge={DEFAULT:{value:vc[500]},50:{value:vc[50]},100:{value:vc[100]},200:{value:vc[200]},500:{value:vc[500]},800:{value:vc[800]}},Hge={DEFAULT:{value:_o[500]},50:{value:_o[50]},100:{value:_o[100]},500:{value:_o[500]},700:{value:_o[700]},800:{value:_o[800]},900:{value:_o[900]}},qge=St({base:{fontWeight:"semibold",borderRadius:"4px",borderWidth:"1px",_focusVisible:{boxShadow:"outline"},transition:"box-shadow 0.2s ease",_hover:{boxShadow:"xs"}},variants:{size:{md:{fontSize:"md",px:"16px",py:"8px",minW:"110px",minH:"36px"}},variant:{subtle:{background:"gray.10",color:"text-inverted",fontSize:"sm",fontWeight:600,_hover:{background:"gray.0",boxShadow:"md"}},outline:{background:"transparent",color:"text-inverted",fontSize:"sm",fontWeight:600}}},defaultVariants:{size:"md"}}),Wge=St({base:{borderRadius:10,_disabled:{opacity:1},"&.chakra-input+[data-last]":{borderRadius:"0px 10px 10px 0px"}},variants:{variant:{outline:{bg:Yu}},size:{lg:{fontSize:"lg"}}},defaultVariants:{size:"lg"}}),Gge=Ee({className:"checkbox",slots:["root","control","label"],base:{root:{},control:{bg:Yu}},variants:{variant:{outline:{control:{color:"gray.600 !important"}}}}}),Kge=St({base:{backgroundColor:Nr[100],color:Nr[800],opacity:.5,borderRadius:10,py:2,px:3,h:"1.5rem"},variants:{variant:{outline:{backgroundColor:"white",borderRadius:"full",border:"1px solid",borderColor:"gray.800",opacity:1}}}}),Yge=Ee({className:"accordion",slots:["root","item","itemBody","itemTrigger"],base:{root:{},item:{backgroundColor:"bg-primary",mt:2,p:4,borderRadius:10,border:"1px solid",borderColor:"border-primary"},itemBody:{color:"text-secondary"}}}),$S=gE({globalCss:{body:{color:Lo[800],backgroundColor:Nr[50]},button:{color:Lo[800]}},theme:{tokens:{colors:{black:Vge,blue:Hge,gray:zge,yellow:jge}},semanticTokens:{colors:{black:{solid:{value:"{colors.black.500}"},contrast:{value:Yu},fg:{value:"{colors.black.100}"},muted:{value:"{colors.black.100}"},subtle:{value:"{colors.black.50}"},emphasized:{value:"{colors.black.800}"},focusRing:{value:"{colors.gray.500}"}},blue:{solid:{value:"{colors.blue.500}"},contrast:{value:"colors.gray.800"},fg:{value:"{colors.blue.100}"},muted:{value:"{colors.blue.100}"},subtle:{value:"{colors.blue.50}"},emphasized:{value:"{colors.blue.800}"},focusRing:{value:"{colors.blue.500}"}},gray:{solid:{value:"{colors.gray.800}"},contrast:{value:"{colors.gray.100}"},fg:{value:"{colors.gray.600}"},muted:{value:"{colors.gray.100}"},subtle:{value:"{colors.gray.300}"},emphasized:{value:"{colors.gray.500}"},focusRing:{value:"{colors.gray.800}"}},yellow:{solid:{value:"{colors.yellow.500}"},contrast:{value:"colors.gray.800"},fg:{value:"colors.yellow.400"},muted:{value:"{colors.yellow.100}"},subtle:{value:"{colors.yellow.50}"},emphasized:{value:"{colors.yellow.800}"},focusRing:{value:"{colors.yellow.200}"}},"brand-yellow":{value:{_light:"{colors.yellow.500}"}},"bg-primary":{value:{_light:Yu,_dark:"colors.gray.800"}},"bg-secondary":{value:{_light:"colors.gray.50",_dark:"colors.gray.50"}},"bg-tertiary":{value:{_light:"colors.gray.100"}},"bg-accent":{value:{_light:"colors.yellow.100"}},"bg-disabled":{value:{_light:"colors.gray.100"}},"bg-success":{value:{_light:"#DCEBCF"}},"bg-promote":{value:{_light:"#f8107114"}},"bg-error":{value:{_light:"#fcf0ee"}},"border-primary":{value:{_light:"colors.gray.100",_dark:"colors.gray.50"}},"border-secondary":{value:{_light:"rgba(207, 207, 207, 0.50)"}},"border-tertiary":{value:{_light:"colors.gray.10"}},"border-highlight":{value:{_light:"colors.yellow.500"}},"text-primary":{value:{_light:"colors.gray.800"}},"text-secondary":{value:{_light:"colors.gray.500"}},"text-disabled":{value:{_light:"colors.gray.600"}},"text-inverted":{value:{_light:Yu}},"text-highlight":{value:{_light:"colors.yellow.500"}},info:{value:{_light:"colors.yellow.800"}},success:{value:{_light:"#277917"}},warning:{value:{_light:"colors.yellow.800"}},error:{value:{_light:"#d43f2b"}},promote:{value:{_light:"#f81071"}}}},recipes:{badge:Kge,button:qge,input:Wge},slotRecipes:{accordion:Yge,checkbox:Gge}}});function Qge({themeKey:t,children:e}){const r={light:$S,dark:$S}[t],s=nD(oD,r);return vt.jsx(O5,{value:s,children:e})}const pw=new Mge({environment:"production"}),Zge=pw.chains.map(t=>pw.getChainConfig(t));function Jge(){const{transactions:t,updateTransaction:e}=eme(),n=yr.useRef({});return yr.useEffect(()=>{t.filter(r=>!r.dismissed&&!["creating","unconfirmed"].includes(r.status)).forEach(r=>{if(n.current[r.id])return;n.current[r.id]=!0;let s="info";r.status==="pending"?s="loading":r.status==="succeeded"?s="success":r.status==="failed"&&(s="error");const i=r.status==="failed"&&r.failedReason?r.failedReason:{creating:"Creating transaction",unconfirmed:"Signing transaction",pending:"Transaction pending",succeeded:"Transaction successful",failed:"Transaction failed"}[r.status]||"",o=s==="loading"?void 0:s==="error"?6e4:1e4;R5.create({title:r.title,description:i,type:s,duration:o,closable:!0})})},[t,e]),vt.jsx(N5,{})}const hD=yr.createContext(null);function Xge({children:t}){const[e,n]=yr.useState([]),r=yr.useCallback(a=>{n(c=>[...c,a])},[]),s=yr.useCallback((a,c)=>{n(l=>l.map(u=>u.id===a?{...u,dismissed:!1,...typeof c=="function"?c(u):c}:u))},[]),i=yr.useCallback(a=>{n(c=>c.find(l=>l.id===a.id)?c.map(l=>l.id===a.id?{...l,dismissed:!1,...a}:l):[...c,a])},[]),o=yr.useMemo(()=>({transactions:e,addTransaction:r,updateTransaction:s,addOrUpdateTransaction:i}),[e,r,s,i]);return vt.jsxs(hD.Provider,{value:o,children:[t,vt.jsx(Jge,{})]})}function eme(){const t=yr.useContext(hD);if(!t)throw new Error("useTransactions must be used within Provider");return t}const tme=new JU,nme={themeKey:"light"};function zye({children:t}){return vt.jsxs("html",{lang:"en",children:[vt.jsxs("head",{children:[vt.jsx("meta",{charSet:"UTF-8"}),vt.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),vt.jsx("title",{children:"Centrifuge Launchpad"}),vt.jsx(ED,{}),vt.jsx(CD,{})]}),vt.jsxs("body",{children:[t,vt.jsx(AD,{}),vt.jsx(ID,{})]})]})}const Vye=vD(function(){return vt.jsx(eM,{client:tme,children:vt.jsx(k5,{client:pw,children:vt.jsx(Uoe,{projectId:"c32fa79350803519804a67fcab0b742a",networks:Zge,children:vt.jsx(Qge,{themeKey:nme.themeKey,children:vt.jsx(Xge,{children:vt.jsx(U5,{children:vt.jsx(xD,{})})})})})})})});export{SJ as $,ae as A,ve as B,Ed as C,Jr as D,Sk as E,Z0 as F,qf as G,Wu as H,Nw as I,Kt as J,kB as K,ug as L,Bt as M,Jh as N,Z as O,OP as P,bme as Q,Xe as R,$s as S,Pn as T,qt as U,bh as V,Vt as W,mi as X,po as Y,Fu as Z,Kn as _,Ne as a,Dye as a0,JA as a1,ON as a2,mJ as a3,_J as a4,Bye as a5,kye as a6,zg as a7,Lye as a8,$ye as a9,c4 as aa,Ime as ab,u1 as ac,tT as ad,yd as ae,e4 as af,eT as ag,l4 as ah,xme as ai,Sme as aj,vU as ak,Que as al,bU as am,zye as an,Vye as ao,an as b,Tme as c,Y as d,Ce as e,$ as f,Os as g,ct as h,Ch as i,vn as j,pr as k,pt as l,yt as m,_oe as n,re as o,lx as p,kO as q,bt as r,Xo as s,cx as t,Mn as u,Fn as v,Ome as w,Ie as x,Rme as y,tse as z};
